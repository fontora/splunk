!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.__startup_js_deps__=factory():root.__startup_js_deps__=factory()}(window,(function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="startupjs/deps")}({0:function(module,exports){(function(){!function(global,evalScript){if(!global.jg_namespace||!global.jg_import){var _namespaces={},_imported={},_loading={},_sourcePaths={},_resourceTypeInfo={},_resourceInfo={},_resourceDependencyList=[],_mixinCount=0,_mixinDependencies=null,_normalizePath=function(path){return":class"===path.substring(path.length-6)?path.substring(0,path.length-6):path},_getPathInfo=function(path){var pathInfo={};pathInfo.path=path;var typeIndex=path.indexOf(":");if(pathInfo.classPath=typeIndex<0?path:path.substring(0,typeIndex),pathInfo.type=typeIndex<0?"class":path.substring(typeIndex+1),!pathInfo.classPath||!pathInfo.type)return null;var namespaceIndex=pathInfo.classPath.lastIndexOf(".");return pathInfo.namespace=namespaceIndex<0?"":pathInfo.classPath.substring(0,namespaceIndex),pathInfo.className=namespaceIndex<0?pathInfo.classPath:pathInfo.classPath.substring(namespaceIndex+1),pathInfo.name="class"===pathInfo.type?pathInfo.className:pathInfo.className+":"+pathInfo.type,pathInfo},_appendConstructor=function(baseConstructor,mixinConstructor){return function(){baseConstructor.apply(this,arguments),mixinConstructor.call(this)}},jg_namespace=global.jg_namespace=function(path,closure){if(null==path)throw new Error("Parameter path must be non-null.");if("string"!=typeof path)throw new Error("Parameter path must be a string.");if(null!=closure&&"function"!=typeof closure)throw new Error("Parameter closure must be a function.");var ns=_namespaces[path];if(!ns){var subPath,scope,subPaths=path?path.split("."):[];ns=global;for(var i=0,l=subPaths.length;i<l;i++)(scope=ns[subPath=subPaths[i]])||(scope=ns[subPath]={}),ns=scope;_namespaces[path]=ns}return closure&&closure.call(ns,ns),ns},jg_import=global.jg_import=function(path){if(null==path)throw new Error("Parameter path must be non-null.");if("string"!=typeof path)throw new Error("Parameter path must be a string.");if(!path)throw new Error("Parameter path must be non-empty.");path=_normalizePath(path);var resource=_imported[path];if(null==resource){if(_loading[path])throw new Error("Recursive dependency on resource "+path+".");var resourceInfo=_getPathInfo(path);if(!resourceInfo)throw new Error('Invalid resource path "'+path+'".');var ns=jg_namespace(resourceInfo.namespace);if(null==(resource=ns[resourceInfo.name])){var typeInfo=_resourceTypeInfo[resourceInfo.type];if(!typeInfo)throw new Error('Unknown resource type "'+resourceInfo.type+'". Ensure the resource type is registered via jg_import.registerResourceType().');try{_loading[path]=!0,resourceInfo.url=function(path){path+=".";var sourcePath,url,sourcePathList=[];for(sourcePath in _sourcePaths)_sourcePaths.hasOwnProperty(sourcePath)&&sourcePathList.push(sourcePath);sourcePathList.sort();for(var i=sourcePathList.length-1;i>=0;i--)if(sourcePath=sourcePathList[i],path.substring(0,sourcePath.length)===sourcePath)return(url=_sourcePaths[sourcePath]+path.substring(sourcePath.length).replace(/\./g,"/")).substring(0,url.length-1);return(url=path.replace(/\./g,"/")).substring(0,url.length-1)}(resourceInfo.classPath)+typeInfo.extension,resourceInfo.source=null;try{var xhr=global.ActiveXObject?new global.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",resourceInfo.url,!1),xhr.send(null),200!=xhr.status&&0!=xhr.status||(resourceInfo.source=xhr.responseText)}catch(e){}if(null==resourceInfo.source)throw new Error("Failed to load resource "+path+" from url "+resourceInfo.url+". Ensure the correct source path is set for this resource via jg_import.setSourcePath().");var resourceInfoCopy={};for(var p in resourceInfo)resourceInfo.hasOwnProperty(p)&&(resourceInfoCopy[p]=resourceInfo[p]);try{var result=typeInfo.parser.call(resourceInfoCopy,resourceInfoCopy);null==(resource=ns[resourceInfo.name])&&(resource=result)}catch(e){if(null!=e&&e.__jg_import_Error)throw e;var message=e instanceof Error?e.message:String(e);throw(e=new Error("Error in resource "+path+": "+message)).__jg_import_Error=!0,e}if(null==resource)throw new Error("Failed to define resource "+path+".");ns[resourceInfo.name]=resource}finally{delete _loading[path]}}resourceInfo.resource=resource,_resourceInfo[path]=resourceInfo,_resourceDependencyList.push(path),_imported[path]=resource}return resource};jg_import.define=function(path,closure){if(null==path)throw new Error("Parameter path must be non-null.");if("string"!=typeof path)throw new Error("Parameter path must be a string.");if(!path)throw new Error("Parameter path must be non-empty.");if(null==closure)throw new Error("Parameter closure must be non-null.");if("function"!=typeof closure)throw new Error("Parameter closure must be a function.");path=_normalizePath(path);var resource=_imported[path];if(null==resource){var resourceInfo=_getPathInfo(path);if(!resourceInfo)throw new Error('Invalid resource path "'+path+'".');var ns=jg_namespace(resourceInfo.namespace);if(null==(resource=ns[resourceInfo.name])){var result=closure.call(ns,ns);if(null==(resource=ns[resourceInfo.name])&&(resource=result),null==resource)throw new Error("Failed to define resource "+path+".");ns[resourceInfo.name]=resource}_loading[path]||null!=_imported[path]||(resourceInfo.resource=resource,_resourceInfo[path]=resourceInfo,_resourceDependencyList.push(path),_imported[path]=resource)}return resource},jg_import.setSourcePath=function(path,url){if(null==path)throw new Error("Parameter path must be non-null.");if("string"!=typeof path)throw new Error("Parameter path must be a string.");if(null==url)throw new Error("Parameter url must be non-null.");if("string"!=typeof url)throw new Error("Parameter url must be a string.");path&&"."!==path.charAt(path.length-1)&&(path+="."),url&&"/"!==url.charAt(url.length-1)&&(url+="/"),_sourcePaths[path]=url},jg_import.registerResourceType=function(type,extension,parser){if(null==type)throw new Error("Parameter type must be non-null.");if("string"!=typeof type)throw new Error("Parameter type must be a string.");if(!type)throw new Error("Parameter type must be non-empty.");if(null==extension)throw new Error("Parameter extension must be non-null.");if("string"!=typeof extension)throw new Error("Parameter extension must be a string.");if(null==parser)throw new Error("Parameter parser must be non-null.");if("function"!=typeof parser)throw new Error("Parameter parser must be a function.");var typeInfo={};typeInfo.extension=extension,typeInfo.parser=parser,_resourceTypeInfo[type]=typeInfo},jg_import.getResourceInfo=function(path){if(null!=path&&"string"!=typeof path)throw new Error("Parameter path must be a string.");if(!path){for(var resourceInfoList=[],i=0,l=_resourceDependencyList.length;i<l;i++)resourceInfoList.push(jg_import.getResourceInfo(_resourceDependencyList[i]));return resourceInfoList}path=_normalizePath(path);var resourceInfo=_resourceInfo[path];if(!resourceInfo)return null;var resourceInfoCopy={};for(var p in resourceInfo)resourceInfo.hasOwnProperty(p)&&(resourceInfoCopy[p]=resourceInfo[p]);return resourceInfoCopy};global.jg_extend=function(baseClass,closure){if(null==baseClass)throw new Error("Parameter baseClass must be non-null.");if("function"!=typeof baseClass)throw new Error("Parameter baseClass must be a class.");if(null!=closure&&"function"!=typeof closure)throw new Error("Parameter closure must be a function.");var constructor=baseClass,base=baseClass.prototype;(baseClass=function(){}).prototype=base;var c=function(){constructor.apply(this,arguments)},proto=c.prototype=new baseClass;if(proto.constructor=c,closure){if(closure.call(proto,c,base,proto),c.prototype!==proto)throw new Error('Class member "prototype" cannot be overridden.');if(proto.constructor!==c){if("function"!=typeof proto.constructor)throw new Error('Instance member "constructor" must be a function.');constructor=proto.constructor,proto.constructor=c}}return c},global.jg_static=function(closure){if(null!=closure&&"function"!=typeof closure)throw new Error("Parameter closure must be a function.");var c={};return closure&&closure.call(c,c),c},global.jg_mixin=function(target,source,base){if(null==target)throw new Error("Parameter target must be non-null.");if(null==source)throw new Error("Parameter source must be non-null.");var id=source.__jg_mixin_id;if(id||(id=source.__jg_mixin_id="m"+ ++_mixinCount),target[id="__jg_has_mixin_"+id])return base;var member,baseConstructor=null!=base&&base.hasOwnProperty("constructor")&&"function"==typeof base.constructor?base.constructor:function(){},baseClass=function(){};baseClass.prototype=null!=base?base:Object.prototype,(base=new baseClass).constructor=baseConstructor;var mixin=source.mixin;if(null!=mixin&&"function"==typeof mixin){var mixinBase=new baseClass;for(member in target)target.hasOwnProperty(member)&&(mixinBase[member]=target[member]);mixinBase.constructor=baseConstructor;try{_mixinDependencies||(_mixinDependencies=[]),_mixinDependencies.push(base);var constructor=target.constructor;if(mixin.call(target,mixinBase,target),target.constructor!==constructor)throw new Error('Target member "constructor" cannot be overridden.')}finally{_mixinDependencies.pop(),0==_mixinDependencies.length&&(_mixinDependencies=null)}}for(member in source)source.hasOwnProperty(member)&&"mixin"!==member&&"constructor"!==member&&"__"!==member.substring(0,2)&&(target[member]=source[member]);for(member in target)target.hasOwnProperty(member)&&"constructor"!==member&&(base[member]=target[member]);var sourceConstructor=source.hasOwnProperty("constructor")&&"function"==typeof source.constructor?source.constructor:null;if(sourceConstructor&&(base.constructor=_appendConstructor(base.constructor,sourceConstructor),_mixinDependencies))for(var dependentMixin,i=_mixinDependencies.length-1;i>=0;i--)(dependentMixin=_mixinDependencies[i]).constructor=_appendConstructor(dependentMixin.constructor,sourceConstructor);return target[id]=!0,base},global.jg_has_mixin=function(target,source){if(null==target)throw new Error("Parameter target must be non-null.");if(null==source)throw new Error("Parameter source must be non-null.");var id=source.__jg_mixin_id;return!!id&&1==target[id="__jg_has_mixin_"+id]};jg_import.registerResourceType("class",".js",(function(resourceInfo){!function(global,script){eval.call(global,script)}(global,resourceInfo.source)}))}}(this)}).call(window)},1:function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},2:function(module,exports,__webpack_require__){"use strict";(function(global){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var base64=__webpack_require__(4),ieee754=__webpack_require__(5),isArray=__webpack_require__(6);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array);return that}(that,value,encodingOrOffset,length):"string"==typeof value?function(that,string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");if(!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);actual!==length&&(that=that.slice(0,actual));return that}(that,value,encodingOrOffset):function(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length||obj.copy(that,0,0,len),that}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||(val=obj.length)!=val?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}var val;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=4096)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=4096));return res}(res)}exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){var newBuf,len=this.length;if((start=~~start)<0?(start+=len)<0&&(start=0):start>len&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}(str).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(this,__webpack_require__(3))},3:function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},4:function(module,exports,__webpack_require__){"use strict";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},5:function(module,exports){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},6:function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},7:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * jQuery JavaScript Library v3.5.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-04-10T15:07Z
 */!function(global,factory){"use strict";"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,(function(window,noGlobal){"use strict";var arr=[],getProto=Object.getPrototypeOf,slice=arr.slice,flat=arr.flat?function(array){return arr.flat.call(array)}:function(array){return arr.concat.apply([],array)},push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,fnToString=hasOwn.toString,ObjectFunctionString=fnToString.call(Object),support={},isFunction=function(obj){return"function"==typeof obj&&"number"!=typeof obj.nodeType},isWindow=function(obj){return null!=obj&&obj===obj.window},document=window.document,preservedScriptAttributes={type:!0,src:!0,nonce:!0,noModule:!0};function DOMEval(code,node,doc){var i,val,script=(doc=doc||document).createElement("script");if(script.text=code,node)for(i in preservedScriptAttributes)(val=node[i]||node.getAttribute&&node.getAttribute(i))&&script.setAttribute(i,val);doc.head.appendChild(script).parentNode.removeChild(script)}function toType(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj}var jQuery=function(selector,context){return new jQuery.fn.init(selector,context)};function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=toType(obj);return!isFunction(obj)&&!isWindow(obj)&&("array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj)}jQuery.fn=jQuery.prototype={jquery:"3.5.0",constructor:jQuery,length:0,toArray:function(){return slice.call(this)},get:function(num){return null==num?slice.call(this):num<0?this[num+this.length]:this[num]},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,(function(elem,i){return callback.call(elem,i,elem)})))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(jQuery.grep(this,(function(_elem,i){return(i+1)%2})))},odd:function(){return this.pushStack(jQuery.grep(this,(function(_elem,i){return i%2})))},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)copy=options[name],"__proto__"!==name&&target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=Array.isArray(copy)))?(src=target[name],clone=copyIsArray&&!Array.isArray(src)?[]:copyIsArray||jQuery.isPlainObject(src)?src:{},copyIsArray=!1,target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+("3.5.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isPlainObject:function(obj){var proto,Ctor;return!(!obj||"[object Object]"!==toString.call(obj))&&(!(proto=getProto(obj))||"function"==typeof(Ctor=hasOwn.call(proto,"constructor")&&proto.constructor)&&fnToString.call(Ctor)===ObjectFunctionString)},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},globalEval:function(code,options,doc){DOMEval(code,{nonce:options&&options.nonce},doc)},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;i<length&&!1!==callback.call(obj[i],i,obj[i]);i++);else for(i in obj)if(!1===callback.call(obj[i],i,obj[i]))break;return obj},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArrayLike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)!callback(elems[i],i)!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;i<length;i++)null!=(value=callback(elems[i],i,arg))&&ret.push(value);else for(i in elems)null!=(value=callback(elems[i],i,arg))&&ret.push(value);return flat(ret)},guid:1,support:support}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(_i,name){class2type["[object "+name+"]"]=name.toLowerCase()}));var Sizzle=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),nonnativeSelectorCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,pushNative=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;i<len;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\[\\da-fA-F]{1,6}"+whitespace+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rdescend=new RegExp(whitespace+"|>"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rhtml=/HTML$/i,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,runescape=new RegExp("\\\\[\\da-fA-F]{1,6}"+whitespace+"?|\\\\([^\\r\\n\\f])","g"),funescape=function(escape,nonHex){var high="0x"+escape.slice(1)-65536;return nonHex||(high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320))},rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,fcssescape=function(ch,asCodePoint){return asCodePoint?"\0"===ch?"�":ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" ":"\\"+ch},unloadHandler=function(){setDocument()},inDisabledFieldset=addCombinator((function(elem){return!0===elem.disabled&&"fieldset"===elem.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){pushNative.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}function Sizzle(selector,context,results,seed){var m,i,elem,nid,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&(setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&!nonnativeSelectorCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))&&(1!==nodeType||"object"!==context.nodeName.toLowerCase())){if(newSelector=selector,newContext=context,1===nodeType&&(rdescend.test(selector)||rcombinators.test(selector))){for((newContext=rsibling.test(selector)&&testContext(context.parentNode)||context)===context&&support.scope||((nid=context.getAttribute("id"))?nid=nid.replace(rcssescape,fcssescape):context.setAttribute("id",nid=expando)),i=(groups=tokenize(selector)).length;i--;)groups[i]=(nid?"#"+nid:":scope")+" "+toSelector(groups[i]);newSelector=groups.join(",")}try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){nonnativeSelectorCache(selector,!0)}finally{nid===expando&&context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];return function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var el=document.createElement("fieldset");try{return!!fn(el)}catch(e){return!1}finally{el.parentNode&&el.parentNode.removeChild(el),el=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=arr.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){return"input"===elem.nodeName.toLowerCase()&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createDisabledPseudo(disabled){return function(elem){return"form"in elem?elem.parentNode&&!1===elem.disabled?"label"in elem?"label"in elem.parentNode?elem.parentNode.disabled===disabled:elem.disabled===disabled:elem.isDisabled===disabled||elem.isDisabled!==!disabled&&inDisabledFieldset(elem)===disabled:elem.disabled===disabled:"label"in elem&&elem.disabled===disabled}}function createPositionalPseudo(fn){return markFunction((function(argument){return argument=+argument,markFunction((function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))}))}))}function testContext(context){return context&&void 0!==context.getElementsByTagName&&context}for(i in support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var namespace=elem.namespaceURI,docElem=(elem.ownerDocument||elem).documentElement;return!rhtml.test(namespace||docElem&&docElem.nodeName||"HTML")},setDocument=Sizzle.setDocument=function(node){var hasCompare,subWindow,doc=node?node.ownerDocument||node:preferredDoc;return doc!=document&&9===doc.nodeType&&doc.documentElement?(docElem=(document=doc).documentElement,documentIsHTML=!isXML(document),preferredDoc!=document&&(subWindow=document.defaultView)&&subWindow.top!==subWindow&&(subWindow.addEventListener?subWindow.addEventListener("unload",unloadHandler,!1):subWindow.attachEvent&&subWindow.attachEvent("onunload",unloadHandler)),support.scope=assert((function(el){return docElem.appendChild(el).appendChild(document.createElement("div")),void 0!==el.querySelectorAll&&!el.querySelectorAll(":scope fieldset div").length})),support.attributes=assert((function(el){return el.className="i",!el.getAttribute("className")})),support.getElementsByTagName=assert((function(el){return el.appendChild(document.createComment("")),!el.getElementsByTagName("*").length})),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert((function(el){return docElem.appendChild(el).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length})),support.getById?(Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}},Expr.find.ID=function(id,context){if(void 0!==context.getElementById&&documentIsHTML){var elem=context.getElementById(id);return elem?[elem]:[]}}):(Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=void 0!==elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}},Expr.find.ID=function(id,context){if(void 0!==context.getElementById&&documentIsHTML){var node,i,elems,elem=context.getElementById(id);if(elem){if((node=elem.getAttributeNode("id"))&&node.value===id)return[elem];for(elems=context.getElementsByName(id),i=0;elem=elems[i++];)if((node=elem.getAttributeNode("id"))&&node.value===id)return[elem]}return[]}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return void 0!==context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(void 0!==context.getElementsByClassName&&documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(document.querySelectorAll))&&(assert((function(el){var input;docElem.appendChild(el).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\r\\' msallowcapture=''><option selected=''></option></select>",el.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),el.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),el.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),(input=document.createElement("input")).setAttribute("name",""),el.appendChild(input),el.querySelectorAll("[name='']").length||rbuggyQSA.push("\\["+whitespace+"*name"+whitespace+"*="+whitespace+"*(?:''|\"\")"),el.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),el.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]"),el.querySelectorAll("\\\f"),rbuggyQSA.push("[\\r\\n\\f]")})),assert((function(el){el.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var input=document.createElement("input");input.setAttribute("type","hidden"),el.appendChild(input).setAttribute("name","D"),el.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),2!==el.querySelectorAll(":enabled").length&&rbuggyQSA.push(":enabled",":disabled"),docElem.appendChild(el).disabled=!0,2!==el.querySelectorAll(":disabled").length&&rbuggyQSA.push(":enabled",":disabled"),el.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")}))),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert((function(el){support.disconnectedMatch=matches.call(el,"*"),matches.call(el,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)})),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare||(1&(compare=(a.ownerDocument||a)==(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a==document||a.ownerDocument==preferredDoc&&contains(preferredDoc,a)?-1:b==document||b.ownerDocument==preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a==document?-1:b==document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]==preferredDoc?-1:bp[i]==preferredDoc?1:0},document):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if(setDocument(elem),support.matchesSelector&&documentIsHTML&&!nonnativeSelectorCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){nonnativeSelectorCache(expr,!0)}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!=document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!=document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.escape=function(sel){return(sel+"").replace(rcssescape,fcssescape)},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},(Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,(function(elem){return pattern.test("string"==typeof elem.className&&elem.className||void 0!==elem.getAttribute&&elem.getAttribute("class")||"")}))},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:!operator||(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:"|="===operator&&(result===check||result.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,_argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,_context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(diff=(nodeIndex=(cache=(uniqueCache=(outerCache=(node=parent)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1])&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(diff=nodeIndex=(cache=(uniqueCache=(outerCache=(node=elem)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1]),!1===diff)for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((uniqueCache=(outerCache=node[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]=[dirruns,diff]),node!==elem)););return(diff-=last)===first||diff%first==0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction((function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)seed[idx=indexOf(seed,matched[i])]=!(matches[idx]=matched[i])})):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction((function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction((function(seed,matches,_context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))})):function(elem,_context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}})),has:markFunction((function(selector){return function(elem){return Sizzle(selector,elem).length>0}})),contains:markFunction((function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||getText(elem)).indexOf(text)>-1}})),lang:markFunction((function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return(elemLang=elemLang.toLowerCase())===lang||0===elemLang.indexOf(lang+"-")}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}})),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,!0===elem.selected},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo((function(){return[0]})),last:createPositionalPseudo((function(_matchIndexes,length){return[length-1]})),eq:createPositionalPseudo((function(_matchIndexes,length,argument){return[argument<0?argument+length:argument]})),even:createPositionalPseudo((function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes})),odd:createPositionalPseudo((function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes})),lt:createPositionalPseudo((function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument>length?length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes})),gt:createPositionalPseudo((function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes}))}}).pseudos.nth=Expr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,skip=combinator.next,key=skip||dir,checkNonElements=base&&"parentNode"===key,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml);return!1}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)if(uniqueCache=(outerCache=elem[expando]||(elem[expando]={}))[elem.uniqueID]||(outerCache[elem.uniqueID]={}),skip&&skip===elem.nodeName.toLowerCase())elem=elem[dir]||elem;else{if((oldCache=uniqueCache[key])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(uniqueCache[key]=newCache,newCache[2]=matcher(elem,context,xml))return!0}return!1}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)(elem=unmatched[i])&&(filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i)));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction((function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||function(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results);return results}(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)}))}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator((function(elem){return elem===checkContext}),implicitRelative,!0),matchAnyContext=addCombinator((function(elem){return indexOf(checkContext,elem)>-1}),implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if((matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches))[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){for(type in matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length)),Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)(cached=matcherFromTokens(match[i]))[expando]?setMatchers.push(cached):elementMatchers.push(cached);(cached=compilerCache(selector,function(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context==document||context||outermost);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0,context||elem.ownerDocument==document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}(elementMatchers,setMatchers))).selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if((tokens=match[0]=match[0].slice(0)).length>2&&"ID"===(token=tokens[0]).type&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(!(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0]))return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),!(selector=seed.length&&toSelector(tokens)))return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert((function(el){return 1&el.compareDocumentPosition(document.createElement("fieldset"))})),assert((function(el){return el.innerHTML="<a href='#'></a>","#"===el.firstChild.getAttribute("href")}))||addHandle("type|href|height|width",(function(elem,name,isXML){if(!isXML)return elem.getAttribute(name,"type"===name.toLowerCase()?1:2)})),support.attributes&&assert((function(el){return el.innerHTML="<input/>",el.firstChild.setAttribute("value",""),""===el.firstChild.getAttribute("value")}))||addHandle("value",(function(elem,_name,isXML){if(!isXML&&"input"===elem.nodeName.toLowerCase())return elem.defaultValue})),assert((function(el){return null==el.getAttribute("disabled")}))||addHandle(booleans,(function(elem,name,isXML){var val;if(!isXML)return!0===elem[name]?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null})),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains,jQuery.escapeSelector=Sizzle.escape;var dir=function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},siblings=function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched},rneedsContext=jQuery.expr.match.needsContext;function nodeName(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()}var rsingleTag=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(elements,qualifier,not){return isFunction(qualifier)?jQuery.grep(elements,(function(elem,i){return!!qualifier.call(elem,i,elem)!==not})):qualifier.nodeType?jQuery.grep(elements,(function(elem){return elem===qualifier!==not})):"string"!=typeof qualifier?jQuery.grep(elements,(function(elem){return indexOf.call(qualifier,elem)>-1!==not})):jQuery.filter(qualifier,elements,not)}jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,(function(elem){return 1===elem.nodeType})))},jQuery.fn.extend({find:function(selector){var i,ret,len=this.length,self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter((function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0})));for(ret=this.pushStack([]),i=0;i<len;i++)jQuery.find(selector,self[i],ret);return len>1?jQuery.uniqueSort(ret):ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;if(root=root||rootjQuery,"string"==typeof selector){if(!(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector))||!match[1]&&context)return!context||context.jquery?(context||root).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return(elem=document.getElementById(match[2]))&&(this[0]=elem,this.length=1),this}return selector.nodeType?(this[0]=selector,this.length=1,this):isFunction(selector)?void 0!==root.ready?root.ready(selector):selector(jQuery):jQuery.makeArray(selector,this)}).prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter((function(){for(var i=0;i<l;i++)if(jQuery.contains(this,targets[i]))return!0}))},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],targets="string"!=typeof selectors&&jQuery(selectors);if(!rneedsContext.test(selectors))for(;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(targets?targets.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,_i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,_i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,_i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return null!=elem.contentDocument&&getProto(elem.contentDocument)?elem.contentDocument:(nodeName(elem,"template")&&(elem=elem.content||elem),jQuery.merge([],elem.childNodes))}},(function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}}));var rnothtmlwhite=/[^\x20\t\r\n\f]+/g;function Identity(v){return v}function Thrower(ex){throw ex}function adoptValue(value,resolve,reject,noValue){var method;try{value&&isFunction(method=value.promise)?method.call(value).done(resolve).fail(reject):value&&isFunction(method=value.then)?method.call(value,resolve,reject):resolve.apply(void 0,[value].slice(noValue))}catch(value){reject.apply(void 0,[value])}}jQuery.Callbacks=function(options){options="string"==typeof options?function(options){var object={};return jQuery.each(options.match(rnothtmlwhite)||[],(function(_,flag){object[flag]=!0})),object}(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){for(locked=locked||options.once,fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)!1===list[firingIndex].apply(memory[0],memory[1])&&options.stopOnFalse&&(firingIndex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,locked&&(list=memory?[]:"")},self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,(function(_,arg){isFunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==toType(arg)&&add(arg)}))}(arguments),memory&&!firing&&fire()),this},remove:function(){return jQuery.each(arguments,(function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),index<=firingIndex&&firingIndex--})),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0},empty:function(){return list&&(list=[]),this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=queue=[],memory||firing||(list=memory=""),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=[context,(args=args||[]).slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},catch:function(fn){return promise.then(null,fn)},pipe:function(){var fns=arguments;return jQuery.Deferred((function(newDefer){jQuery.each(tuples,(function(_i,tuple){var fn=isFunction(fns[tuple[4]])&&fns[tuple[4]];deferred[tuple[1]]((function(){var returned=fn&&fn.apply(this,arguments);returned&&isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this,fn?[returned]:arguments)}))})),fns=null})).promise()},then:function(onFulfilled,onRejected,onProgress){var maxDepth=0;function resolve(depth,deferred,handler,special){return function(){var that=this,args=arguments,mightThrow=function(){var returned,then;if(!(depth<maxDepth)){if((returned=handler.apply(that,args))===deferred.promise())throw new TypeError("Thenable self-resolution");then=returned&&("object"==typeof returned||"function"==typeof returned)&&returned.then,isFunction(then)?special?then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special)):(maxDepth++,then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special),resolve(maxDepth,deferred,Identity,deferred.notifyWith))):(handler!==Identity&&(that=void 0,args=[returned]),(special||deferred.resolveWith)(that,args))}},process=special?mightThrow:function(){try{mightThrow()}catch(e){jQuery.Deferred.exceptionHook&&jQuery.Deferred.exceptionHook(e,process.stackTrace),depth+1>=maxDepth&&(handler!==Thrower&&(that=void 0,args=[e]),deferred.rejectWith(that,args))}};depth?process():(jQuery.Deferred.getStackHook&&(process.stackTrace=jQuery.Deferred.getStackHook()),window.setTimeout(process))}}return jQuery.Deferred((function(newDefer){tuples[0][3].add(resolve(0,newDefer,isFunction(onProgress)?onProgress:Identity,newDefer.notifyWith)),tuples[1][3].add(resolve(0,newDefer,isFunction(onFulfilled)?onFulfilled:Identity)),tuples[2][3].add(resolve(0,newDefer,isFunction(onRejected)?onRejected:Thrower))})).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return jQuery.each(tuples,(function(i,tuple){var list=tuple[2],stateString=tuple[5];promise[tuple[1]]=list.add,stateString&&list.add((function(){state=stateString}),tuples[3-i][2].disable,tuples[3-i][3].disable,tuples[0][2].lock,tuples[0][3].lock),list.add(tuple[3].fire),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?void 0:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith})),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(singleValue){var remaining=arguments.length,i=remaining,resolveContexts=Array(i),resolveValues=slice.call(arguments),master=jQuery.Deferred(),updateFunc=function(i){return function(value){resolveContexts[i]=this,resolveValues[i]=arguments.length>1?slice.call(arguments):value,--remaining||master.resolveWith(resolveContexts,resolveValues)}};if(remaining<=1&&(adoptValue(singleValue,master.done(updateFunc(i)).resolve,master.reject,!remaining),"pending"===master.state()||isFunction(resolveValues[i]&&resolveValues[i].then)))return master.then();for(;i--;)adoptValue(resolveValues[i],updateFunc(i),master.reject);return master.promise()}});var rerrorNames=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(error,stack){window.console&&window.console.warn&&error&&rerrorNames.test(error.name)&&window.console.warn("jQuery.Deferred exception: "+error.message,error.stack,stack)},jQuery.readyException=function(error){window.setTimeout((function(){throw error}))};var readyList=jQuery.Deferred();function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}jQuery.fn.ready=function(fn){return readyList.then(fn).catch((function(error){jQuery.readyException(error)})),this},jQuery.extend({isReady:!1,readyWait:1,ready:function(wait){(!0===wait?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,!0!==wait&&--jQuery.readyWait>0||readyList.resolveWith(document,[jQuery]))}}),jQuery.ready.then=readyList.then,"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed));var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===toType(key))for(i in chainable=!0,key)access(elems,fn,i,key[i],!0,emptyGet,raw);else if(void 0!==value&&(chainable=!0,isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,_key,value){return bulk.call(jQuery(elem),value)})),fn))for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet},rmsPrefix=/^-ms-/,rdashAlpha=/-([a-z])/g;function fcamelCase(_all,letter){return letter.toUpperCase()}function camelCase(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)}var acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function(owner){var value=owner[this.expando];return value||(value=Object.create(null),acceptData(owner)&&(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if("string"==typeof data)cache[camelCase(data)]=value;else for(prop in data)cache[camelCase(prop)]=data[prop];return cache},get:function(owner,key){return void 0===key?this.cache(owner):owner[this.expando]&&owner[this.expando][camelCase(key)]},access:function(owner,key,value){return void 0===key||key&&"string"==typeof key&&void 0===value?this.get(owner,key):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,cache=owner[this.expando];if(void 0!==cache){if(void 0!==key){i=(key=Array.isArray(key)?key.map(camelCase):(key=camelCase(key))in cache?[key]:key.match(rnothtmlwhite)||[]).length;for(;i--;)delete cache[key[i]]}(void 0===key||jQuery.isEmptyObject(cache))&&(owner.nodeType?owner[this.expando]=void 0:delete owner[this.expando])}},hasData:function(owner){var cache=owner[this.expando];return void 0!==cache&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$&").toLowerCase(),"string"==typeof(data=elem.getAttribute(name))){try{data=function(data){return"true"===data||"false"!==data&&("null"===data?null:data===+data+""?+data:rbrace.test(data)?JSON.parse(data):data)}(data)}catch(e){}dataUser.set(elem,key,data)}else data=void 0;return data}jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=dataUser.get(elem),1===elem.nodeType&&!dataPriv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&0===(name=attrs[i].name).indexOf("data-")&&(name=camelCase(name.slice(5)),dataAttr(elem,name,data[name]));dataPriv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each((function(){dataUser.set(this,key)})):access(this,(function(value){var data;if(elem&&void 0===value)return void 0!==(data=dataUser.get(elem,key))||void 0!==(data=dataAttr(elem,key))?data:void 0;this.each((function(){dataUser.set(this,key,value)}))}),null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each((function(){dataUser.remove(this,key)}))}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return type=(type||"fx")+"queue",queue=dataPriv.get(elem,type),data&&(!queue||Array.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type);"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,(function(){jQuery.dequeue(elem,type)}),hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add((function(){dataPriv.remove(elem,[type+"queue",key])}))})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each((function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)}))},dequeue:function(type){return this.each((function(){jQuery.dequeue(this,type)}))},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)(tmp=dataPriv.get(elements[i],type+"queueHooks"))&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],documentElement=document.documentElement,isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem)},composed={composed:!0};documentElement.getRootNode&&(isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem)||elem.getRootNode(composed)===elem.ownerDocument});var isHiddenWithinTree=function(elem,el){return"none"===(elem=el||elem).style.display||""===elem.style.display&&isAttached(elem)&&"none"===jQuery.css(elem,"display")};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=elem.nodeType&&(jQuery.cssNumber[prop]||"px"!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){for(initial/=2,unit=unit||initialInUnit[3],initialInUnit=+initial||1;maxIterations--;)jQuery.style(elem,prop,initialInUnit+unit),(1-scale)*(1-(scale=currentValue()/initial||.5))<=0&&(maxIterations=0),initialInUnit/=scale;initialInUnit*=2,jQuery.style(elem,prop,initialInUnit+unit),valueParts=valueParts||[]}return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}var defaultDisplayMap={};function getDefaultDisplay(elem){var temp,doc=elem.ownerDocument,nodeName=elem.nodeName,display=defaultDisplayMap[nodeName];return display||(temp=doc.body.appendChild(doc.createElement(nodeName)),display=jQuery.css(temp,"display"),temp.parentNode.removeChild(temp),"none"===display&&(display="block"),defaultDisplayMap[nodeName]=display,display)}function showHide(elements,show){for(var display,elem,values=[],index=0,length=elements.length;index<length;index++)(elem=elements[index]).style&&(display=elem.style.display,show?("none"===display&&(values[index]=dataPriv.get(elem,"display")||null,values[index]||(elem.style.display="")),""===elem.style.display&&isHiddenWithinTree(elem)&&(values[index]=getDefaultDisplay(elem))):"none"!==display&&(values[index]="none",dataPriv.set(elem,"display",display)));for(index=0;index<length;index++)null!=values[index]&&(elements[index].style.display=values[index]);return elements}jQuery.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each((function(){isHiddenWithinTree(this)?jQuery(this).show():jQuery(this).hide()}))}});var div,input,rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,rscriptType=/^$|^module$|\/(?:java|ecma)script/i;div=document.createDocumentFragment().appendChild(document.createElement("div")),(input=document.createElement("input")).setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue,div.innerHTML="<option></option>",support.option=!!div.lastChild;var wrapMap={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(context,tag){var ret;return ret=void 0!==context.getElementsByTagName?context.getElementsByTagName(tag||"*"):void 0!==context.querySelectorAll?context.querySelectorAll(tag||"*"):[],void 0===tag||tag&&nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;i<l;i++)dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,support.option||(wrapMap.optgroup=wrapMap.option=[1,"<select multiple='multiple'>","</select>"]);var rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){for(var elem,tmp,tag,wrap,attached,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;i<l;i++)if((elem=elems[i])||0===elem)if("object"===toType(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),(tmp=fragment.firstChild).textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if(selection&&jQuery.inArray(elem,selection)>-1)ignored&&ignored.push(elem);else if(attached=isAttached(elem),tmp=getAll(fragment.appendChild(elem),"script"),attached&&setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment}var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function expectSync(elem,type){return elem===function(){try{return document.activeElement}catch(err){}}()==("focus"===type)}function on(elem,types,selector,data,fn,one){var origFn,type;if("object"==typeof types){for(type in"string"!=typeof selector&&(data=data||selector,selector=void 0),types)on(elem,type,selector,data,types[type],one);return elem}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),!1===fn)fn=returnFalse;else if(!fn)return elem;return 1===one&&(origFn=fn,(fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)}).guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each((function(){jQuery.event.add(this,types,fn,data,selector)}))}function leverageNative(el,type,expectSync){expectSync?(dataPriv.set(el,type,!1),jQuery.event.add(el,type,{namespace:!1,handler:function(event){var notAsync,result,saved=dataPriv.get(this,type);if(1&event.isTrigger&&this[type]){if(saved.length)(jQuery.event.special[type]||{}).delegateType&&event.stopPropagation();else if(saved=slice.call(arguments),dataPriv.set(this,type,saved),notAsync=expectSync(this,type),this[type](),saved!==(result=dataPriv.get(this,type))||notAsync?dataPriv.set(this,type,!1):result={},saved!==result)return event.stopImmediatePropagation(),event.preventDefault(),result.value}else saved.length&&(dataPriv.set(this,type,{value:jQuery.event.trigger(jQuery.extend(saved[0],jQuery.Event.prototype),saved.slice(1),this)}),event.stopImmediatePropagation())}})):void 0===dataPriv.get(el,type)&&jQuery.event.add(el,type,returnTrue)}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(acceptData(elem))for(handler.handler&&(handler=(handleObjIn=handler).handler,selector=handleObjIn.selector),selector&&jQuery.find.matchesSelector(documentElement,selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events=Object.create(null)),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return void 0!==jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),t=(types=(types||"").match(rnothtmlwhite)||[""]).length;t--;)type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||((handlers=events[type]=[]).delegateCount=0,special.setup&&!1!==special.setup.call(elem,data,namespaces,eventHandle)||elem.addEventListener&&elem.addEventListener(type,eventHandle)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(elemData&&(events=elemData.events)){for(t=(types=(types||"").match(rnothtmlwhite)||[""]).length;t--;)if(type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},handlers=events[type=(selector?special.delegateType:special.bindType)||type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&!1!==special.teardown.call(elem,namespaces,elemData.handle)||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&dataPriv.remove(elem,"handle events")}},dispatch:function(nativeEvent){var i,j,ret,matched,handleObj,handlerQueue,args=new Array(arguments.length),event=jQuery.event.fix(nativeEvent),handlers=(dataPriv.get(this,"events")||Object.create(null))[event.type]||[],special=jQuery.event.special[event.type]||{};for(args[0]=event,i=1;i<arguments.length;i++)args[i]=arguments[i];if(event.delegateTarget=this,!special.preDispatch||!1!==special.preDispatch.call(this,event)){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.rnamespace&&!1!==handleObj.namespace&&!event.rnamespace.test(handleObj.namespace)||(event.handleObj=handleObj,event.data=handleObj.data,void 0!==(ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args))&&!1===(event.result=ret)&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,handleObj,sel,matchedHandlers,matchedSelectors,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&!("click"===event.type&&event.button>=1))for(;cur!==this;cur=cur.parentNode||this)if(1===cur.nodeType&&("click"!==event.type||!0!==cur.disabled)){for(matchedHandlers=[],matchedSelectors={},i=0;i<delegateCount;i++)void 0===matchedSelectors[sel=(handleObj=handlers[i]).selector+" "]&&(matchedSelectors[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length),matchedSelectors[sel]&&matchedHandlers.push(handleObj);matchedHandlers.length&&handlerQueue.push({elem:cur,handlers:matchedHandlers})}return cur=this,delegateCount<handlers.length&&handlerQueue.push({elem:cur,handlers:handlers.slice(delegateCount)}),handlerQueue},addProp:function(name,hook){Object.defineProperty(jQuery.Event.prototype,name,{enumerable:!0,configurable:!0,get:isFunction(hook)?function(){if(this.originalEvent)return hook(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[name]},set:function(value){Object.defineProperty(this,name,{enumerable:!0,configurable:!0,writable:!0,value:value})}})},fix:function(originalEvent){return originalEvent[jQuery.expando]?originalEvent:new jQuery.Event(originalEvent)},special:{load:{noBubble:!0},click:{setup:function(data){var el=this||data;return rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")&&leverageNative(el,"click",returnTrue),!1},trigger:function(data){var el=this||data;return rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")&&leverageNative(el,"click"),!0},_default:function(event){var target=event.target;return rcheckableType.test(target.type)&&target.click&&nodeName(target,"input")&&dataPriv.get(target,"click")||nodeName(target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&!1===src.returnValue?returnTrue:returnFalse,this.target=src.target&&3===src.target.nodeType?src.target.parentNode:src.target,this.currentTarget=src.currentTarget,this.relatedTarget=src.relatedTarget):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||Date.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(event){var button=event.button;return null==event.which&&rkeyEvent.test(event.type)?null!=event.charCode?event.charCode:event.keyCode:!event.which&&void 0!==button&&rmouseEvent.test(event.type)?1&button?1:2&button?3:4&button?2:0:event.which}},jQuery.event.addProp),jQuery.each({focus:"focusin",blur:"focusout"},(function(type,delegateType){jQuery.event.special[type]={setup:function(){return leverageNative(this,type,expectSync),!1},trigger:function(){return leverageNative(this,type),!0},delegateType:delegateType}})),jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===target||jQuery.contains(target,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}})),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return!1!==selector&&"function"!=typeof selector||(fn=selector,selector=void 0),!1===fn&&(fn=returnFalse),this.each((function(){jQuery.event.remove(this,types,fn,selector)}))}});var rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){return nodeName(elem,"table")&&nodeName(11!==content.nodeType?content:content.firstChild,"tr")&&jQuery(elem).children("tbody")[0]||elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){return"true/"===(elem.type||"").slice(0,5)?elem.type=elem.type.slice(5):elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){var i,l,type,udataOld,udataCur,events;if(1===dest.nodeType){if(dataPriv.hasData(src)&&(events=dataPriv.get(src).events))for(type in dataPriv.remove(dest,"handle events"),events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i]);dataUser.hasData(src)&&(udataOld=dataUser.access(src),udataCur=jQuery.extend({},udataOld),dataUser.set(dest,udataCur))}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue)}function domManip(collection,args,callback,ignored){args=flat(args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],valueIsFunction=isFunction(value);if(valueIsFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return collection.each((function(index){var self=collection.eq(index);valueIsFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)}));if(l&&(first=(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored)).firstChild,1===fragment.childNodes.length&&(fragment=first),first||ignored)){for(hasScripts=(scripts=jQuery.map(getAll(fragment,"script"),disableScript)).length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src&&"module"!==(node.type||"").toLowerCase()?jQuery._evalUrl&&!node.noModule&&jQuery._evalUrl(node.src,{nonce:node.nonce||node.getAttribute("nonce")},doc):DOMEval(node.textContent.replace(rcleanScript,""),node,doc))}return collection}function remove(elem,selector,keepData){for(var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=nodes[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&isAttached(node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}jQuery.extend({htmlPrefilter:function(html){return html},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=isAttached(elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),i=0,l=(srcElements=getAll(elem)).length;i<l;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return(destElements=getAll(clone,"script")).length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},cleanData:function(elems){for(var data,elem,type,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=void 0}elem[dataUser.expando]&&(elem[dataUser.expando]=void 0)}}}),jQuery.fn.extend({detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,(function(value){return void 0===value?jQuery.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=value)}))}),null,value,arguments.length)},append:function(){return domManip(this,arguments,(function(elem){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,elem).appendChild(elem)}))},prepend:function(){return domManip(this,arguments,(function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}}))},before:function(){return domManip(this,arguments,(function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)}))},after:function(){return domManip(this,arguments,(function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)}))},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map((function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)}))},html:function(value){return access(this,(function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++)1===(elem=this[i]||{}).nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)}),null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,(function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent&&parent.replaceChild(elem,this))}),ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}}));var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){var view=elem.ownerDocument.defaultView;return view&&view.opener||(view=window),view.getComputedStyle(elem)},swap=function(elem,options,callback){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];for(name in ret=callback.call(elem),options)elem.style[name]=old[name];return ret},rboxStyle=new RegExp(cssExpand.join("|"),"i");function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return(computed=computed||getStyles(elem))&&(""!==(ret=computed.getPropertyValue(name)||computed[name])||isAttached(elem)||(ret=jQuery.style(elem,name)),!support.pixelBoxStyles()&&rnumnonpx.test(ret)&&rboxStyle.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(!conditionFn())return(this.get=hookFn).apply(this,arguments);delete this.get}}}!function(){function computeStyleTests(){if(div){container.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",div.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",documentElement.appendChild(container).appendChild(div);var divStyle=window.getComputedStyle(div);pixelPositionVal="1%"!==divStyle.top,reliableMarginLeftVal=12===roundPixelMeasures(divStyle.marginLeft),div.style.right="60%",pixelBoxStylesVal=36===roundPixelMeasures(divStyle.right),boxSizingReliableVal=36===roundPixelMeasures(divStyle.width),div.style.position="absolute",scrollboxSizeVal=12===roundPixelMeasures(div.offsetWidth/3),documentElement.removeChild(container),div=null}}function roundPixelMeasures(measure){return Math.round(parseFloat(measure))}var pixelPositionVal,boxSizingReliableVal,scrollboxSizeVal,pixelBoxStylesVal,reliableTrDimensionsVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,jQuery.extend(support,{boxSizingReliable:function(){return computeStyleTests(),boxSizingReliableVal},pixelBoxStyles:function(){return computeStyleTests(),pixelBoxStylesVal},pixelPosition:function(){return computeStyleTests(),pixelPositionVal},reliableMarginLeft:function(){return computeStyleTests(),reliableMarginLeftVal},scrollboxSize:function(){return computeStyleTests(),scrollboxSizeVal},reliableTrDimensions:function(){var table,tr,trChild,trStyle;return null==reliableTrDimensionsVal&&(table=document.createElement("table"),tr=document.createElement("tr"),trChild=document.createElement("div"),table.style.cssText="position:absolute;left:-11111px",tr.style.height="1px",trChild.style.height="9px",documentElement.appendChild(table).appendChild(tr).appendChild(trChild),trStyle=window.getComputedStyle(tr),reliableTrDimensionsVal=parseInt(trStyle.height)>3,documentElement.removeChild(table)),reliableTrDimensionsVal}}))}();var cssPrefixes=["Webkit","Moz","ms"],emptyStyle=document.createElement("div").style,vendorProps={};function finalPropName(name){var final=jQuery.cssProps[name]||vendorProps[name];return final||(name in emptyStyle?name:vendorProps[name]=function(name){for(var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if((name=cssPrefixes[i]+capName)in emptyStyle)return name}(name)||name)}var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rcustomProp=/^--/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(_elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function boxModelAdjustment(elem,dimension,box,isBorderBox,styles,computedVal){var i="width"===dimension?1:0,extra=0,delta=0;if(box===(isBorderBox?"border":"content"))return 0;for(;i<4;i+=2)"margin"===box&&(delta+=jQuery.css(elem,box+cssExpand[i],!0,styles)),isBorderBox?("content"===box&&(delta-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==box&&(delta-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(delta+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==box?delta+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles):extra+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles));return!isBorderBox&&computedVal>=0&&(delta+=Math.max(0,Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-computedVal-delta-extra-.5))||0),delta}function getWidthOrHeight(elem,dimension,extra){var styles=getStyles(elem),isBorderBox=(!support.boxSizingReliable()||extra)&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),valueIsBorderBox=isBorderBox,val=curCSS(elem,dimension,styles),offsetProp="offset"+dimension[0].toUpperCase()+dimension.slice(1);if(rnumnonpx.test(val)){if(!extra)return val;val="auto"}return(!support.boxSizingReliable()&&isBorderBox||!support.reliableTrDimensions()&&nodeName(elem,"tr")||"auto"===val||!parseFloat(val)&&"inline"===jQuery.css(elem,"display",!1,styles))&&elem.getClientRects().length&&(isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles),(valueIsBorderBox=offsetProp in elem)&&(val=elem[offsetProp])),(val=parseFloat(val)||0)+boxModelAdjustment(elem,dimension,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles,val)+"px"}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=camelCase(name),isCustomProp=rcustomProp.test(name),style=elem.style;if(isCustomProp||(name=finalPropName(origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value)return hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name];"string"===(type=typeof value)&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number"),null!=value&&value==value&&("number"!==type||isCustomProp||(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(isCustomProp?style.setProperty(name,value):style[name]=value))}},css:function(elem,name,extra,styles){var val,num,hooks,origName=camelCase(name);return rcustomProp.test(name)||(name=finalPropName(origName)),(hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName])&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),!0===extra||isFinite(num)?num||0:val):val}}),jQuery.each(["height","width"],(function(_i,dimension){jQuery.cssHooks[dimension]={get:function(elem,computed,extra){if(computed)return!rdisplayswap.test(jQuery.css(elem,"display"))||elem.getClientRects().length&&elem.getBoundingClientRect().width?getWidthOrHeight(elem,dimension,extra):swap(elem,cssShow,(function(){return getWidthOrHeight(elem,dimension,extra)}))},set:function(elem,value,extra){var matches,styles=getStyles(elem),scrollboxSizeBuggy=!support.scrollboxSize()&&"absolute"===styles.position,isBorderBox=(scrollboxSizeBuggy||extra)&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),subtract=extra?boxModelAdjustment(elem,dimension,extra,isBorderBox,styles):0;return isBorderBox&&scrollboxSizeBuggy&&(subtract-=Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-parseFloat(styles[dimension])-boxModelAdjustment(elem,dimension,"border",!1,styles)-.5)),subtract&&(matches=rcssNum.exec(value))&&"px"!==(matches[3]||"px")&&(elem.style[dimension]=value,value=jQuery.css(elem,dimension)),setPositiveNumber(0,value,subtract)}}})),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,(function(elem,computed){if(computed)return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},(function(){return elem.getBoundingClientRect().left})))+"px"})),jQuery.each({margin:"",padding:"",border:"Width"},(function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},"margin"!==prefix&&(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)})),jQuery.fn.extend({css:function(name,value){return access(this,(function(elem,name,value){var styles,len,map={},i=0;if(Array.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)}),name,value,arguments.length>1)}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,""))&&"auto"!==result?result:0},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||!jQuery.cssHooks[tween.prop]&&null==tween.elem.style[finalPropName(tween.prop)]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,inProgress,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function schedule(){inProgress&&(!1===document.hidden&&window.requestAnimationFrame?window.requestAnimationFrame(schedule):window.setTimeout(schedule,jQuery.fx.interval),jQuery.fx.tick())}function createFxNow(){return window.setTimeout((function(){fxNow=void 0})),fxNow=Date.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)attrs["margin"+(which=cssExpand[i])]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always((function(){delete tick.elem})),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),percent=1-(remaining/animation.duration||0),index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),percent<1&&length?remaining:(length||deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;index<length;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(!function(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(easing=specialEasing[name=camelCase(index)],value=props[index],Array.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),(hooks=jQuery.cssHooks[name])&&"expand"in hooks)for(index in value=hooks.expand(value),delete props[name],value)index in props||(props[index]=value[index],specialEasing[index]=easing);else specialEasing[name]=easing}(props,animation.opts.specialEasing);index<length;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=result.stop.bind(result)),result;return jQuery.map(props,createTween,animation),isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){isFunction(props)?(callback=props,props=["*"]):props=props.match(rnothtmlwhite);for(var prop,index=0,length=props.length;index<length;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[function(elem,props,opts){var prop,value,toggle,hooks,oldfire,propTween,restoreDisplay,display,isBox="width"in props||"height"in props,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHiddenWithinTree(elem),dataShow=dataPriv.get(elem,"fxshow");for(prop in opts.queue||(null==(hooks=jQuery._queueHooks(elem,"fx")).unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always((function(){anim.always((function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()}))}))),props)if(value=props[prop],rfxtypes.test(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}if((propTween=!jQuery.isEmptyObject(props))||!jQuery.isEmptyObject(orig))for(prop in isBox&&1===elem.nodeType&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],null==(restoreDisplay=dataShow&&dataShow.display)&&(restoreDisplay=dataPriv.get(elem,"display")),"none"===(display=jQuery.css(elem,"display"))&&(restoreDisplay?display=restoreDisplay:(showHide([elem],!0),restoreDisplay=elem.style.display||restoreDisplay,display=jQuery.css(elem,"display"),showHide([elem]))),("inline"===display||"inline-block"===display&&null!=restoreDisplay)&&"none"===jQuery.css(elem,"float")&&(propTween||(anim.done((function(){style.display=restoreDisplay})),null==restoreDisplay&&(display=style.display,restoreDisplay="none"===display?"":display)),style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always((function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}))),propTween=!1,orig)propTween||(dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,"fxshow",{display:restoreDisplay}),toggle&&(dataShow.hidden=!hidden),hidden&&showHide([elem],!0),anim.done((function(){for(prop in hidden||showHide([elem]),dataPriv.remove(elem,"fxshow"),orig)jQuery.style(elem,prop,orig[prop])}))),propTween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=propTween.start,hidden&&(propTween.end=propTween.start,propTween.start=0))}],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!isFunction(easing)&&easing};return jQuery.fx.off?opt.duration=0:"number"!=typeof opt.duration&&(opt.duration in jQuery.fx.speeds?opt.duration=jQuery.fx.speeds[opt.duration]:opt.duration=jQuery.fx.speeds._default),null!=opt.queue&&!0!==opt.queue||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||!1===optall.queue?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&this.queue(type||"fx",[]),this.each((function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)}))},finish:function(type){return!1!==type&&(type=type||"fx"),this.each((function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish}))}}),jQuery.each(["toggle","show","hide"],(function(_i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}})),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}})),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=Date.now();i<timers.length;i++)(timer=timers[i])()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){inProgress||(inProgress=!0,schedule())},jQuery.fx.stop=function(){inProgress=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx&&jQuery.fx.speeds[time]||time,type=type||"fx",this.queue(type,(function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}}))},function(){var input=document.createElement("input"),opt=document.createElement("select").appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,(input=document.createElement("input")).value="t",input.type="radio",support.radioValue="t"===input.value}();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each((function(){jQuery.removeAttr(this,name)}))}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return void 0===elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(hooks=jQuery.attrHooks[name.toLowerCase()]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)),void 0!==value?null===value?void jQuery.removeAttr(elem,name):hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:null==(ret=jQuery.find.attr(elem,name))?void 0:ret)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},removeAttr:function(elem,value){var name,i=0,attrNames=value&&value.match(rnothtmlwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return!1===value?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),(function(_i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle,lowercaseName=name.toLowerCase();return isXML||(handle=attrHandle[lowercaseName],attrHandle[lowercaseName]=ret,ret=null!=getter(elem,name,isXML)?lowercaseName:null,attrHandle[lowercaseName]=handle),ret}}));var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;function stripAndCollapse(value){return(value.match(rnothtmlwhite)||[]).join(" ")}function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}function classesToArray(value){return Array.isArray(value)?value:"string"==typeof value&&value.match(rnothtmlwhite)||[]}jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each((function(){delete this[jQuery.propFix[name]||name]}))}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return 1===nType&&jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null},set:function(elem){var parent=elem.parentNode;parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){jQuery.propFix[this.toLowerCase()]=this})),jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value))return this.each((function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))}));if((classes=classesToArray(value)).length)for(;elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&" "+stripAndCollapse(curValue)+" "){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");curValue!==(finalValue=stripAndCollapse(cur))&&elem.setAttribute("class",finalValue)}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value))return this.each((function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))}));if(!arguments.length)return this.attr("class","");if((classes=classesToArray(value)).length)for(;elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&" "+stripAndCollapse(curValue)+" "){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>-1;)cur=cur.replace(" "+clazz+" "," ");curValue!==(finalValue=stripAndCollapse(cur))&&elem.setAttribute("class",finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value,isValidValue="string"===type||Array.isArray(value);return"boolean"==typeof stateVal&&isValidValue?stateVal?this.addClass(value):this.removeClass(value):isFunction(value)?this.each((function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)})):this.each((function(){var className,i,self,classNames;if(isValidValue)for(i=0,self=jQuery(this),classNames=classesToArray(value);className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else void 0!==value&&"boolean"!==type||((className=getClass(this))&&dataPriv.set(this,"__className__",className),this.setAttribute&&this.setAttribute("class",className||!1===value?"":dataPriv.get(this,"__className__")||""))}))},hasClass:function(selector){var className,elem,i=0;for(className=" "+selector+" ";elem=this[i++];)if(1===elem.nodeType&&(" "+stripAndCollapse(getClass(elem))+" ").indexOf(className)>-1)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,valueIsFunction,elem=this[0];return arguments.length?(valueIsFunction=isFunction(value),this.each((function(i){var val;1===this.nodeType&&(null==(val=valueIsFunction?value.call(this,i,jQuery(this).val()):value)?val="":"number"==typeof val?val+="":Array.isArray(val)&&(val=jQuery.map(val,(function(value){return null==value?"":value+""}))),(hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))}))):elem?(hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()])&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:"string"==typeof(ret=elem.value)?ret.replace(rreturn,""):null==ret?"":ret:void 0}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:stripAndCollapse(jQuery.text(elem))}},select:{get:function(elem){var value,option,i,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type,values=one?null:[],max=one?index+1:options.length;for(i=index<0?max:one?index:0;i<max;i++)if(((option=options[i]).selected||i===index)&&!option.disabled&&(!option.parentNode.disabled||!nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)((option=options[i]).selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],(function(){jQuery.valHooks[this]={set:function(elem,value){if(Array.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})})),support.focusin="onfocusin"in window;var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback=function(e){e.stopPropagation()};jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,lastElement,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=lastElement=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>-1&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,(event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event)).isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||!1!==special.trigger.apply(elem,data))){if(!onlyHandlers&&!special.noBubble&&!isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)lastElement=cur,event.type=i>1?bubbleType:special.bindType||type,(handle=(dataPriv.get(cur,"events")||Object.create(null))[event.type]&&dataPriv.get(cur,"handle"))&&handle.apply(cur,data),(handle=ontype&&cur[ontype])&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),!1===event.result&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&!1!==special._default.apply(eventPath.pop(),data)||!acceptData(elem)||ontype&&isFunction(elem[type])&&!isWindow(elem)&&((tmp=elem[ontype])&&(elem[ontype]=null),jQuery.event.triggered=type,event.isPropagationStopped()&&lastElement.addEventListener(type,stopPropagationCallback),elem[type](),event.isPropagationStopped()&&lastElement.removeEventListener(type,stopPropagationCallback),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem)}}),jQuery.fn.extend({trigger:function(type,data){return this.each((function(){jQuery.event.trigger(type,data,this)}))},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}}),support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},(function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this.document||this,attaches=dataPriv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this.document||this,attaches=dataPriv.access(doc,fix)-1;attaches?dataPriv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),dataPriv.remove(doc,fix))}}}));var location=window.location,nonce={guid:Date.now()},rquery=/\?/;jQuery.parseXML=function(data){var xml;if(!data||"string"!=typeof data)return null;try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=void 0}return xml&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(Array.isArray(obj))jQuery.each(obj,(function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v&&null!=v?i:"")+"]",v,traditional,add)}));else if(traditional||"object"!==toType(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,valueOrFunction){var value=isFunction(valueOrFunction)?valueOrFunction():valueOrFunction;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(null==value?"":value)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,(function(){add(this.name,this.value)}));else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this})).filter((function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))})).map((function(_i,elem){var val=jQuery(this).val();return null==val?null:Array.isArray(val)?jQuery.map(val,(function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}})):{name:elem.name,value:val.replace(rCRLF,"\r\n")}})).get()}});var r20=/%20/g,rhash=/#.*$/,rantiCache=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnothtmlwhite)||[];if(isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],(function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)})),selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,completed,fireGlobals,i,uncached,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(completed){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()+" "]=(responseHeaders[match[1].toLowerCase()+" "]||[]).concat(match[2]);match=responseHeaders[key.toLowerCase()+" "]}return null==match?null:match.join(", ")},getAllResponseHeaders:function(){return completed?responseHeadersString:null},setRequestHeader:function(name,value){return null==completed&&(name=requestHeadersNames[name.toLowerCase()]=requestHeadersNames[name.toLowerCase()]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return null==completed&&(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(completed)jqXHR.always(map[jqXHR.status]);else for(code in map)statusCode[code]=[statusCode[code],map[code]];return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR),s.url=((url||s.url||location.href)+"").replace(rprotocol,location.protocol+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=(s.dataType||"*").toLowerCase().match(rnothtmlwhite)||[""],null==s.crossDomain){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url,urlAnchor.href=urlAnchor.href,s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),completed)return jqXHR;for(i in(fireGlobals=jQuery.event&&s.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url.replace(rhash,""),s.hasContent?s.data&&s.processData&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&(s.data=s.data.replace(r20,"+")):(uncached=s.url.slice(cacheURL.length),s.data&&(s.processData||"string"==typeof s.data)&&(cacheURL+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),!1===s.cache&&(cacheURL=cacheURL.replace(rantiCache,"$1"),uncached=(rquery.test(cacheURL)?"&":"?")+"_="+nonce.guid+++uncached),s.url=cacheURL+uncached),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&!1!==s.contentType||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]),s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(!1===s.beforeSend.call(callbackContext,jqXHR,s)||completed))return jqXHR.abort();if(strAbort="abort",completeDeferred.add(s.complete),jqXHR.done(s.success),jqXHR.fail(s.error),transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),completed)return jqXHR;s.async&&s.timeout>0&&(timeoutTimer=window.setTimeout((function(){jqXHR.abort("timeout")}),s.timeout));try{completed=!1,transport.send(requestHeaders,done)}catch(e){if(completed)throw e;done(-1,e)}}else done(-1,"No Transport");function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;completed||(completed=!0,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&status<300||304===status,responses&&(response=function(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}(s,jqXHR,responses)),!isSuccess&&jQuery.inArray("script",s.dataTypes)>-1&&(s.converters["text script"]=function(){}),response=function(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(!(conv=converters[prev+" "+current]||converters["* "+current]))for(conv2 in converters)if((tmp=conv2.split(" "))[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){!0===conv?conv=converters[conv2]:!0!==converters[conv2]&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(!0!==conv)if(conv&&s.throws)response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&((modified=jqXHR.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[cacheURL]=modified),(modified=jqXHR.getResponseHeader("etag"))&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,isSuccess=!(error=response.error))):(error=statusText,!status&&statusText||(statusText="error",status<0&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],(function(_i,method){jQuery[method]=function(url,data,callback,type){return isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}})),jQuery.ajaxPrefilter((function(s){var i;for(i in s.headers)"content-type"===i.toLowerCase()&&(s.contentType=s.headers[i]||"")})),jQuery._evalUrl=function(url,options,doc){return jQuery.ajax({url:url,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(response){jQuery.globalEval(response,options,doc)}})},jQuery.fn.extend({wrapAll:function(html){var wrap;return this[0]&&(isFunction(html)&&(html=html.call(this[0])),wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map((function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem})).append(this)),this},wrapInner:function(html){return isFunction(html)?this.each((function(i){jQuery(this).wrapInner(html.call(this,i))})):this.each((function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)}))},wrap:function(html){var htmlIsFunction=isFunction(html);return this.each((function(i){jQuery(this).wrapAll(htmlIsFunction?html.call(this,i):html)}))},unwrap:function(selector){return this.parent(selector).not("body").each((function(){jQuery(this).replaceWith(this.childNodes)})),this}}),jQuery.expr.pseudos.hidden=function(elem){return!jQuery.expr.pseudos.visible(elem)},jQuery.expr.pseudos.visible=function(elem){return!!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length)},jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport((function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain)return{send:function(headers,complete){var i,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];for(i in options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest"),headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.ontimeout=xhr.onreadystatechange=null,"abort"===type?xhr.abort():"error"===type?"number"!=typeof xhr.status?complete(0,"error"):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"text"!==(xhr.responseType||"text")||"string"!=typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=callback(),errorCallback=xhr.onerror=xhr.ontimeout=callback("error"),void 0!==xhr.onabort?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){4===xhr.readyState&&window.setTimeout((function(){callback&&errorCallback()}))},callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}})),jQuery.ajaxPrefilter((function(s){s.crossDomain&&(s.contents.script=!1)})),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",(function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")})),jQuery.ajaxTransport("script",(function(s){var script,callback;if(s.crossDomain||s.scriptAttrs)return{send:function(_,complete){script=jQuery("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}));var body,oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce.guid++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",(function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=!1!==s.jsonp&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0])return callbackName=s.jsonpCallback=isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):!1!==s.jsonp&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always((function(){void 0===overwritten?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0})),"script"})),support.createHTMLDocument=((body=document.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===body.childNodes.length),jQuery.parseHTML=function(data,context,keepScripts){return"string"!=typeof data?[]:("boolean"==typeof context&&(keepScripts=context,context=!1),context||(support.createHTMLDocument?((base=(context=document.implementation.createHTMLDocument("")).createElement("base")).href=document.location.href,context.head.appendChild(base)):context=document),scripts=!keepScripts&&[],(parsed=rsingleTag.exec(data))?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes)));var base,parsed,scripts},jQuery.fn.load=function(url,params,callback){var selector,type,response,self=this,off=url.indexOf(" ");return off>-1&&(selector=stripAndCollapse(url.slice(off)),url=url.slice(0,off)),isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done((function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)})).always(callback&&function(jqXHR,status){self.each((function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])}))}),this},jQuery.expr.pseudos.animated=function(elem){return jQuery.grep(jQuery.timers,(function(fn){return elem===fn.elem})).length},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1?(curTop=(curPosition=curElem.position()).top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),isFunction(options)&&(options=options.call(elem,i,jQuery.extend({},curOffset))),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):("number"==typeof props.top&&(props.top+="px"),"number"==typeof props.left&&(props.left+="px"),curElem.css(props))}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each((function(i){jQuery.offset.setOffset(this,options,i)}));var rect,win,elem=this[0];return elem?elem.getClientRects().length?(rect=elem.getBoundingClientRect(),win=elem.ownerDocument.defaultView,{top:rect.top+win.pageYOffset,left:rect.left+win.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var offsetParent,offset,doc,elem=this[0],parentOffset={top:0,left:0};if("fixed"===jQuery.css(elem,"position"))offset=elem.getBoundingClientRect();else{for(offset=this.offset(),doc=elem.ownerDocument,offsetParent=elem.offsetParent||doc.documentElement;offsetParent&&(offsetParent===doc.body||offsetParent===doc.documentElement)&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.parentNode;offsetParent&&offsetParent!==elem&&1===offsetParent.nodeType&&((parentOffset=jQuery(offsetParent).offset()).top+=jQuery.css(offsetParent,"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent,"borderLeftWidth",!0))}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var offsetParent=this.offsetParent;offsetParent&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement}))}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,(function(elem,method,val){var win;if(isWindow(elem)?win=elem:9===elem.nodeType&&(win=elem.defaultView),void 0===val)return win?win[prop]:elem[method];win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val}),method,val,arguments.length)}})),jQuery.each(["top","left"],(function(_i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,(function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}))})),jQuery.each({Height:"height",Width:"width"},(function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},(function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(!0===margin||!0===value?"margin":"border");return access(this,(function(elem,type,value){var doc;return isWindow(elem)?0===funcName.indexOf("outer")?elem["inner"+name]:elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)}),type,chainable?margin:void 0,chainable)}}))})),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(_i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}})),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(_i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}));var rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;jQuery.proxy=function(fn,context){var tmp,args,proxy;if("string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),isFunction(fn))return args=slice.call(arguments,2),(proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))}).guid=fn.guid=fn.guid||jQuery.guid++,proxy},jQuery.holdReady=function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},jQuery.isArray=Array.isArray,jQuery.parseJSON=JSON.parse,jQuery.nodeName=nodeName,jQuery.isFunction=isFunction,jQuery.isWindow=isWindow,jQuery.camelCase=camelCase,jQuery.type=toType,jQuery.now=Date.now,jQuery.isNumeric=function(obj){var type=jQuery.type(obj);return("number"===type||"string"===type)&&!isNaN(obj-parseFloat(obj))},jQuery.trim=function(text){return null==text?"":(text+"").replace(rtrim,"")},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return jQuery}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__);var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},void 0===noGlobal&&(window.jQuery=window.$=jQuery),jQuery}))},"contrib/jg_library":function(module,exports){jg_import.define("jgatt.events.EventData",(function(){jg_namespace("jgatt.events",(function(){this.EventData=jg_extend(Object,(function(EventData,base){this.event=null,this.target=null,this.currentEvent=null,this.currentTarget=null,this._isPropagationStopped=!1,this._isImmediatePropagationStopped=!1,this._isDefaultPrevented=!1,this.constructor=function(){},this.stopPropagation=function(){this._isPropagationStopped=!0},this.stopImmediatePropagation=function(){this._isPropagationStopped=!0,this._isImmediatePropagationStopped=!0},this.preventDefault=function(){this._isDefaultPrevented=!0},this.isPropagationStopped=function(){return this._isPropagationStopped},this.isImmediatePropagationStopped=function(){return this._isImmediatePropagationStopped},this.isDefaultPrevented=function(){return this._isDefaultPrevented}}))}))})),jg_import.define("jgatt.utils.TypeUtils",(function(){jg_namespace("jgatt.utils",(function(){this.TypeUtils=jg_static((function(TypeUtils){TypeUtils.isTypeOf=function(value,type){if(null==value)return!1;if(type===Object)return!0;switch(typeof value){case"number":return type===Number;case"boolean":return type===Boolean;case"string":return type===String;default:return value instanceof type}},TypeUtils.isSubclassOf=function(c,type){return null!=c&&null!=c.prototype&&c.prototype instanceof type}}))}))})),jg_import.define("jgatt.properties.Property",(function(){jg_namespace("jgatt.properties",(function(){var TypeUtils=jg_import("jgatt.utils.TypeUtils");this.Property=jg_extend(Object,(function(Property,base){this._name=null,this._type=null,this._defaultValue=null,this._readOnly=!1,this._getter=null,this._setter=null,this._readFilter=null,this._writeFilter=null,this._onRead=null,this._onWrite=null,this.constructor=function(name,type,defaultValue,readOnly){if(null==name)throw new Error("Parameter name must be non-null.");if("string"!=typeof name)throw new Error("Parameter name must be a string.");if(null==type)throw new Error("Parameter type must be non-null.");if("function"!=typeof type)throw new Error("Parameter type must be a class.");if(this._name=name,this._type=type,defaultValue=this.assertType(defaultValue,"Parameter defaultValue is incompatible with property type."),null!=readOnly&&"boolean"!=typeof readOnly)throw new Error("Parameter readOnly must be a boolean.");this._defaultValue=defaultValue,this._readOnly=!0===readOnly},this.name=function(){return this._name},this.type=function(){return this._type},this.defaultValue=function(){return this._defaultValue},this.readOnly=function(){return this._readOnly},this.getter=function(value){if(0==arguments.length)return this._getter;if(null!=value&&"function"!=typeof value)throw new Error("Parameter getter must be a function.");return this._getter=value||null,this},this.setter=function(value){if(0==arguments.length)return this._setter;if(null!=value&&"function"!=typeof value)throw new Error("Parameter setter must be a function.");return this._setter=value||null,this},this.readFilter=function(value){if(0==arguments.length)return this._readFilter;if(null!=value&&"function"!=typeof value)throw new Error("Parameter readFilter must be a function.");return this._readFilter=value||null,this},this.writeFilter=function(value){if(0==arguments.length)return this._writeFilter;if(null!=value&&"function"!=typeof value)throw new Error("Parameter writeFilter must be a function.");return this._writeFilter=value||null,this},this.onRead=function(value){if(0==arguments.length)return this._onRead;if(null!=value&&"function"!=typeof value)throw new Error("Parameter onRead must be a function.");return this._onRead=value||null,this},this.onWrite=function(value){if(0==arguments.length)return this._onWrite;if(null!=value&&"function"!=typeof value)throw new Error("Parameter onWrite must be a function.");return this._onWrite=value||null,this},this.get=function(target,propertyMap){this._onRead&&this._onRead.call(target);var value=this.getInternal(target,propertyMap);if(this._readFilter){var value2=this._readFilter.call(target,value);value2!==value&&(value=this.assertType(value2,"Value returned from readFilter for property "+this._name+" is incompatible with property type."))}return value},this.set=function(target,propertyMap,value){if(this._readOnly)throw new Error("Property "+this._name+" is read-only.");if(value=this.assertType(value,"Value assigned to property "+this._name+" is incompatible with property type."),this._writeFilter){var value2=this._writeFilter.call(target,value);value2!==value&&(value=this.assertType(value2,"Value returned from writeFilter for property "+this._name+" is incompatible with property type."))}return!!this.setInternal(target,propertyMap,value)&&(this._onWrite&&this._onWrite.call(target),!0)},this.getInternal=function(target,propertyMap){var propertyInfo=propertyMap.get(this);propertyInfo||(propertyInfo=propertyMap.set(this,this.createPropertyInfo(this,target)));var value=propertyInfo.value;if(this._getter){var value2=this._getter.call(target);value2!==value&&(value=propertyInfo.value=this.assertType(value2,"Value returned from getter for property "+this._name+" is incompatible with property type."))}return value},this.setInternal=function(target,propertyMap,value){value=this.assertType(value,"Value assigned to property "+this._name+" is incompatible with property type.");var propertyInfo=propertyMap.get(this);return propertyInfo||(propertyInfo=propertyMap.set(this,this.createPropertyInfo(this,target))),this._setter&&this._setter.call(target,value),propertyInfo.value=value,!0},this.assertType=function(value,message){var type=this._type;if(null!=value&&!TypeUtils.isTypeOf(value,type))throw new Error(message);return null==value&&(value=type===Number?0:type!==Boolean&&null),value},this.createPropertyInfo=function(property,target){return new Property.PropertyInfo(property,target)}})),this.Property.PropertyInfo=jg_extend(Object,(function(PropertyInfo,base){this.property=null,this.target=null,this.value=null,this.constructor=function(property,target){this.property=property,this.target=target,this.value=property._defaultValue}}))}))})),jg_import.define("jgatt.utils.Dictionary",(function(){jg_namespace("jgatt.utils",(function(){this.Dictionary=jg_extend(Object,(function(Dictionary,base){var _HASH_KEY="__jgatt_utils_Dictionary_hash",_hashCount=0,_hash=function(value){if(null===value)return"null";switch(typeof value){case"object":case"function":return value.hasOwnProperty(_HASH_KEY)?value[_HASH_KEY]:value[_HASH_KEY]="#"+ ++_hashCount;case"string":return'"'+value+'"';default:return value+""}};this._kvs=null,this._size=0,this.constructor=function(){this._kvs={}},this.size=function(){return this._size},this.get=function(key){var hash=_hash(key);if(this._kvs.hasOwnProperty(hash))return this._kvs[hash].v},this.set=function(key,value){var hash=_hash(key);return this._kvs.hasOwnProperty(hash)?(this._kvs[hash].v=value,value):(this._kvs[hash]={k:key,v:value},this._size++,value)},this.del=function(key){var hash=_hash(key);if(this._kvs.hasOwnProperty(hash)){var value=this._kvs[hash].v;return delete this._kvs[hash],this._size--,value}},this.has=function(key){var hash=_hash(key);return this._kvs.hasOwnProperty(hash)},this.keys=function(){var keys=[],kvs=this._kvs;for(var hash in kvs)kvs.hasOwnProperty(hash)&&keys.push(kvs[hash].k);return keys},this.values=function(){var values=[],kvs=this._kvs;for(var hash in kvs)kvs.hasOwnProperty(hash)&&values.push(kvs[hash].v);return values}}))}))})),jg_import.define("jgatt.properties.MPropertyTarget",(function(){jg_namespace("jgatt.properties",(function(){var Property=jg_import("jgatt.properties.Property"),Dictionary=jg_import("jgatt.utils.Dictionary");this.MPropertyTarget=jg_static((function(MPropertyTarget){var _resolveProperty=function(target,property){if(null==property)throw new Error("Parameter property must be non-null.");if(property instanceof Property)return property;if("string"!=typeof property)throw new Error("Parameter property must be a string or an instance of jgatt.properties.Property.");var targetProperty=target[property];if(!(targetProperty instanceof Property))throw new Error('Unknown property "'+property+'".');return targetProperty};this._propertyMap=null,this.constructor=function(){this._propertyMap=new Dictionary},this.get=function(property){return(property=_resolveProperty(this,property)).get(this,this._propertyMap)},this.set=function(property,value){return(property=_resolveProperty(this,property)).set(this,this._propertyMap,value)},this.getInternal=function(property){return(property=_resolveProperty(this,property)).getInternal(this,this._propertyMap)},this.setInternal=function(property,value){return(property=_resolveProperty(this,property)).setInternal(this,this._propertyMap,value)}}))}))})),jg_import.define("jgatt.utils.ErrorUtils",(function(){jg_namespace("jgatt.utils",(function(){this.ErrorUtils=jg_static((function(ErrorUtils){ErrorUtils.asyncThrow=function(e){setTimeout((function(){throw e}),1)}}))}))})),jg_import.define("jgatt.events.Event",(function(){jg_namespace("jgatt.events",(function(ns){var EventData=jg_import("jgatt.events.EventData"),MPropertyTarget=jg_import("jgatt.properties.MPropertyTarget"),Property=jg_import("jgatt.properties.Property"),Dictionary=jg_import("jgatt.utils.Dictionary"),ErrorUtils=jg_import("jgatt.utils.ErrorUtils"),TypeUtils=jg_import("jgatt.utils.TypeUtils");this.Event=jg_extend(Object,(function(Event,base){var _listenerInfoComparator=function(info1,info2){return info1.priority>info2.priority?-1:info1.priority<info2.priority?1:info1.index<info2.index?-1:info2.index>info2.index?1:0};this._name=null,this._type=null,this._bubbles=!1,this._cancelable=!1,this.constructor=function(name,type,bubbles,cancelable){if(null==name)throw new Error("Parameter name must be non-null.");if("string"!=typeof name)throw new Error("Parameter name must be a string.");if(null==type)throw new Error("Parameter type must be non-null.");if("function"!=typeof type)throw new Error("Parameter type must be a class.");if(type!==EventData&&!TypeUtils.isSubclassOf(type,EventData))throw new Error("Parameter type must be a subclass of jgatt.events.EventData.");if(null!=bubbles&&"boolean"!=typeof bubbles)throw new Error("Parameter bubbles must be a boolean.");if(null!=cancelable&&"boolean"!=typeof cancelable)throw new Error("Parameter cancelable must be a boolean.");this._name=name,this._type=type,this._bubbles=!0===bubbles,this._cancelable=!0===cancelable},this.name=function(){return this._name},this.type=function(){return this._type},this.bubbles=function(){return this._bubbles},this.cancelable=function(){return this._cancelable},this.addEventListener=function(target,eventMap,listener,priority){if(null==listener)throw new Error("Parameter listener must be non-null.");if("function"!=typeof listener)throw new Error("Parameter listener must be a function.");if(null!=priority&&"number"!=typeof priority)throw new Error("Parameter priority must be a number.");(null==priority||isNaN(priority))&&(priority=0);var eventInfo=eventMap.get(this);eventInfo||(eventInfo=eventMap.set(this,{map:new Dictionary,list:null,index:0}));var listenerMap=eventInfo.map,listenerInfo=listenerMap.get(listener);if(listenerInfo){if(listenerInfo.priority===priority)return}else listenerInfo=listenerMap.set(listener,{listener:listener});listenerInfo.priority=priority,listenerInfo.index=eventInfo.index,eventInfo.list=null,eventInfo.index++},this.removeEventListener=function(target,eventMap,listener){if(null==listener)throw new Error("Parameter listener must be non-null.");if("function"!=typeof listener)throw new Error("Parameter listener must be a function.");var eventInfo=eventMap.get(this);if(eventInfo){var listenerMap=eventInfo.map;listenerMap.has(listener)&&(listenerMap.del(listener),eventInfo.list=null)}},this.hasEventListener=function(target,eventMap){var eventInfo=eventMap.get(this);return!!eventInfo&&eventInfo.map.size()>0},this.dispatchEvent=function(target,eventMap,eventData){if(null==eventData)throw new Error("Parameter eventData must be non-null.");if(!(eventData instanceof this._type))throw new Error("Parameter eventData is incompatible with event type.");if(eventData.isPropagationStopped())return!this._cancelable||!eventData.isDefaultPrevented();null==eventData.event&&(eventData.event=this),null==eventData.target&&(eventData.target=target),eventData.currentEvent=this,eventData.currentTarget=target;var eventInfo=eventMap.get(this);if(eventInfo){var listenerList=eventInfo.list;if(!listenerList){var listenerMap=eventInfo.map;listenerMap.size()>0&&(listenerList=eventInfo.list=listenerMap.values()).sort(_listenerInfoComparator)}if(listenerList)for(var listenerInfo,i=0,l=listenerList.length;i<l;i++){listenerInfo=listenerList[i];try{if(eventData.currentEvent=this,eventData.currentTarget=target,listenerInfo.listener.call(target,eventData),eventData.isImmediatePropagationStopped())break}catch(e){ErrorUtils.asyncThrow(e)}}}if(this._bubbles&&!eventData.isPropagationStopped()){var parent=target.parent;null!=parent?parent instanceof Property&&jg_has_mixin(target,MPropertyTarget)&&(parent=target.get(parent)):parent=target.parentNode,null!=parent&&ns.MEventTarget&&jg_has_mixin(parent,ns.MEventTarget)&&parent.dispatchEvent(this,eventData)}return!this._cancelable||!eventData.isDefaultPrevented()}}))}))})),jg_import.define("jgatt.events.ChainedEvent",(function(){jg_namespace("jgatt.events",(function(){var Event=jg_import("jgatt.events.Event"),TypeUtils=jg_import("jgatt.utils.TypeUtils");this.ChainedEvent=jg_extend(Event,(function(ChainedEvent,base){this._parentEvent=null,this.constructor=function(name,parentEvent,type,bubbles,cancelable){if(null==parentEvent)throw new Error("Parameter parentEvent must be non-null.");if(!(parentEvent instanceof Event))throw new Error("Parameter parentEvent must be an instance of jgatt.events.Event.");var parentType=parentEvent._type;if(null==type)type=parentType;else{if("function"!=typeof type)throw new Error("Parameter type must be a class.");if(type!==parentType&&!TypeUtils.isSubclassOf(type,parentType))throw new Error("Parameter type must be a subclass of parentEvent type.")}base.constructor.call(this,name,type,bubbles,cancelable),this._parentEvent=parentEvent},this.parentEvent=function(){return this._parentEvent},this.dispatchEvent=function(target,eventMap,eventData){return base.dispatchEvent.call(this,target,eventMap,eventData),eventData.isPropagationStopped()||this._parentEvent.dispatchEvent(target,eventMap,eventData),!this._cancelable||!eventData.isDefaultPrevented()}}))}))})),jg_import.define("jgatt.events.MEventTarget",(function(){jg_namespace("jgatt.events",(function(){var Event=jg_import("jgatt.events.Event"),Dictionary=jg_import("jgatt.utils.Dictionary");this.MEventTarget=jg_static((function(MEventTarget){var _resolveEvent=function(target,event){if(null==event)throw new Error("Parameter event must be non-null.");if(event instanceof Event)return event;if("string"!=typeof event)throw new Error("Parameter event must be a string or an instance of jgatt.events.Event.");var targetEvent=target._eventNameMap[event];if(!targetEvent){var eventPath=event.split(".");targetEvent=target;for(var i=0,l=eventPath.length;i<l&&null!=(targetEvent=targetEvent[eventPath[i]]);i++);if(!(targetEvent instanceof Event))throw new Error('Unknown event "'+event+'".');target._eventNameMap[event]=targetEvent}return targetEvent};this._eventMap=null,this._eventNameMap=null,this.constructor=function(){this._eventMap=new Dictionary,this._eventNameMap={}},this.addEventListener=function(event,listener,priority){(event=_resolveEvent(this,event)).addEventListener(this,this._eventMap,listener,priority)},this.removeEventListener=function(event,listener){(event=_resolveEvent(this,event)).removeEventListener(this,this._eventMap,listener)},this.hasEventListener=function(event){return(event=_resolveEvent(this,event)).hasEventListener(this,this._eventMap)},this.dispatchEvent=function(event,eventData){return(event=_resolveEvent(this,event)).dispatchEvent(this,this._eventMap,eventData)}}))}))})),jg_import.define("jgatt.events.MObservable",(function(){jg_namespace("jgatt.events",(function(){var Event=jg_import("jgatt.events.Event"),EventData=jg_import("jgatt.events.EventData"),MEventTarget=jg_import("jgatt.events.MEventTarget");this.MObservable=jg_static((function(MObservable){this.mixin=function(base){base=jg_mixin(this,MEventTarget,base)},this.changed=new Event("changed",EventData)}))}))})),jg_import.define("jgatt.geom.Point",(function(){jg_namespace("jgatt.geom",(function(){this.Point=jg_extend(Object,(function(Point,base){this.x=0,this.y=0,this.constructor=function(x,y){this.x=void 0!==x?x:0,this.y=void 0!==y?y:0},this.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},this.hasNaN=function(){return isNaN(this.x)||isNaN(this.y)},this.hasInfinity=function(){return this.x==1/0||this.x==-1/0||this.y==1/0||this.y==-1/0},this.hasPositiveInfinity=function(){return this.x==1/0||this.y==1/0},this.hasNegativeInfinity=function(){return this.x==-1/0||this.y==-1/0},this.isFinite=function(){return this.x-this.x==0&&this.y-this.y==0},this.equals=function(point){return this.x==point.x&&this.y==point.y},this.clone=function(){return new Point(this.x,this.y)},this.toString=function(){return"("+this.x+", "+this.y+")"}}))}))})),jg_import.define("jgatt.geom.Matrix",(function(){jg_namespace("jgatt.geom",(function(){var Point=jg_import("jgatt.geom.Point");this.Matrix=jg_extend(Object,(function(Matrix,base){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.constructor=function(a,b,c,d,tx,ty){this.a=void 0!==a?a:1,this.b=void 0!==b?b:0,this.c=void 0!==c?c:0,this.d=void 0!==d?d:1,this.tx=void 0!==tx?tx:0,this.ty=void 0!==ty?ty:0},this.transformPoint=function(point){var x=this.a*point.x+this.c*point.y+this.tx,y=this.b*point.x+this.d*point.y+this.ty;return new Point(x,y)},this.translate=function(x,y){this.tx+=x,this.ty+=y},this.scale=function(scaleX,scaleY){this.a*=scaleX,this.b*=scaleY,this.c*=scaleX,this.d*=scaleY,this.tx*=scaleX,this.ty*=scaleY},this.rotate=function(angle){angle=angle/180*Math.PI;var cosAngle=Math.cos(angle),sinAngle=Math.sin(angle),a=this.a,b=this.b,c=this.c,d=this.d,tx=this.tx,ty=this.ty;this.a=a*cosAngle-b*sinAngle,this.b=b*cosAngle+a*sinAngle,this.c=c*cosAngle-d*sinAngle,this.d=d*cosAngle+c*sinAngle,this.tx=tx*cosAngle-ty*sinAngle,this.ty=ty*cosAngle+tx*sinAngle},this.skew=function(skewX,skewY){skewX=skewX/180*Math.PI,skewY=skewY/180*Math.PI;var tanSkewX=Math.tan(skewX),tanSkewY=Math.tan(skewY),a=this.a,b=this.b,c=this.c,d=this.d,tx=this.tx,ty=this.ty;this.a=a+b*tanSkewX,this.b=b+a*tanSkewY,this.c=c+d*tanSkewX,this.d=d+c*tanSkewY,this.tx=tx+ty*tanSkewX,this.ty=ty+tx*tanSkewY},this.concat=function(matrix){var a1=this.a,b1=this.b,c1=this.c,d1=this.d,tx1=this.tx,ty1=this.ty,a2=matrix.a,b2=matrix.b,c2=matrix.c,d2=matrix.d,tx2=matrix.tx,ty2=matrix.ty;this.a=a1*a2+b1*c2,this.b=b1*d2+a1*b2,this.c=c1*a2+d1*c2,this.d=d1*d2+c1*b2,this.tx=tx1*a2+ty1*c2+tx2,this.ty=ty1*d2+tx1*b2+ty2},this.invert=function(){var det=this.determinant(),a=this.a/det,b=this.b/det,c=this.c/det,d=this.d/det,tx=this.tx,ty=this.ty;this.a=d,this.b=-b,this.c=-c,this.d=a,this.tx=c*ty-d*tx,this.ty=b*tx-a*ty},this.identity=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},this.determinant=function(){return this.a*this.d-this.b*this.c},this.hasInverse=function(){var det=Math.abs(this.determinant());return det>0&&det<1/0},this.hasNaN=function(){return isNaN(this.a)||isNaN(this.b)||isNaN(this.c)||isNaN(this.d)||isNaN(this.tx)||isNaN(this.ty)},this.hasInfinity=function(){return this.a==1/0||this.a==-1/0||this.b==1/0||this.b==-1/0||this.c==1/0||this.c==-1/0||this.d==1/0||this.d==-1/0||this.tx==1/0||this.tx==-1/0||this.ty==1/0||this.ty==-1/0},this.hasPositiveInfinity=function(){return this.a==1/0||this.b==1/0||this.c==1/0||this.d==1/0||this.tx==1/0||this.ty==1/0},this.hasNegativeInfinity=function(){return this.a==-1/0||this.b==-1/0||this.c==-1/0||this.d==-1/0||this.tx==-1/0||this.ty==-1/0},this.isFinite=function(){return this.a-this.a==0&&this.b-this.b==0&&this.c-this.c==0&&this.d-this.d==0&&this.tx-this.tx==0&&this.ty-this.ty==0},this.isIdentity=function(){return 1==this.a&&0==this.b&&0==this.c&&1==this.d&&0==this.tx&&0==this.ty},this.equals=function(matrix){return this.a==matrix.a&&this.b==matrix.b&&this.c==matrix.c&&this.d==matrix.d&&this.tx==matrix.tx&&this.ty==matrix.ty},this.clone=function(){return new Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)},this.toString=function(){return"("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"}}))}))})),jg_import.define("jgatt.geom.Rectangle",(function(){jg_namespace("jgatt.geom",(function(){this.Rectangle=jg_extend(Object,(function(Rectangle,base){this.x=0,this.y=0,this.width=0,this.height=0,this.constructor=function(x,y,width,height){this.x=void 0!==x?x:0,this.y=void 0!==y?y:0,this.width=void 0!==width?width:0,this.height=void 0!==height?height:0},this.hasNaN=function(){return isNaN(this.x)||isNaN(this.y)||isNaN(this.width)||isNaN(this.height)},this.hasInfinity=function(){return this.x==1/0||this.x==-1/0||this.y==1/0||this.y==-1/0||this.width==1/0||this.width==-1/0||this.height==1/0||this.height==-1/0},this.hasPositiveInfinity=function(){return this.x==1/0||this.y==1/0||this.width==1/0||this.height==1/0},this.hasNegativeInfinity=function(){return this.x==-1/0||this.y==-1/0||this.width==-1/0||this.height==-1/0},this.isFinite=function(){return this.x-this.x==0&&this.y-this.y==0&&this.width-this.width==0&&this.height-this.height==0},this.equals=function(rectangle){return this.x==rectangle.x&&this.y==rectangle.y&&this.width==rectangle.width&&this.height==rectangle.height},this.clone=function(){return new Rectangle(this.x,this.y,this.width,this.height)},this.toString=function(){return"("+this.x+", "+this.y+", "+this.width+", "+this.height+")"}}))}))})),jg_import.define("jgatt.graphics.Caps",(function(){jg_namespace("jgatt.graphics",(function(){this.Caps=jg_static((function(Caps){Caps.NONE="none",Caps.ROUND="round",Caps.SQUARE="square"}))}))})),jg_import.define("jgatt.utils.NumberUtils",(function(){jg_namespace("jgatt.utils",(function(){this.NumberUtils=jg_static((function(NumberUtils){NumberUtils.EPSILON=function(){for(var eps=1,temp=1;1+temp>1;)eps=temp,temp/=2;return eps}(),NumberUtils.PRECISION=function(){for(var prec=0,temp=9;temp%10==9;)prec++,temp=10*temp+9;return prec}(),NumberUtils.parseNumber=function(value){if(null==value)return NaN;switch(typeof value){case"number":return value;case"string":return value?Number(value):NaN;case"boolean":return value?1:0}return NaN},NumberUtils.toPrecision=function(n,precision){return(precision=void 0!==precision?precision:0)<1&&(precision=NumberUtils.PRECISION+precision),precision<1?precision=1:precision>21&&(precision=21),Number(n.toPrecision(precision))},NumberUtils.toFixed=function(n,decimalDigits){return(decimalDigits=void 0!==decimalDigits?decimalDigits:0)<0?decimalDigits=0:decimalDigits>20&&(decimalDigits=20),Number(n.toFixed(decimalDigits))},NumberUtils.roundTo=function(n,units){return units=void 0!==units?units:1,NumberUtils.toPrecision(Math.round(n/units)*units,-1)},NumberUtils.minMax=function(n,min,max){return n<min&&(n=min),n>max&&(n=max),n},NumberUtils.maxMin=function(n,max,min){return n>max&&(n=max),n<min&&(n=min),n},NumberUtils.interpolate=function(n1,n2,f){return n1*(1-f)+n2*f},NumberUtils.approxZero=function(n,threshold){return 0==n||(threshold=void 0!==threshold?threshold:NaN,isNaN(threshold)&&(threshold=NumberUtils.EPSILON),n<0?-n<threshold:n<threshold)},NumberUtils.approxOne=function(n,threshold){return 1==n||(n-=1,threshold=void 0!==threshold?threshold:NaN,isNaN(threshold)&&(threshold=NumberUtils.EPSILON),n<0?-n<threshold:n<threshold)},NumberUtils.approxEqual=function(n1,n2,threshold){return n1==n2||(n1-=n2,threshold=void 0!==threshold?threshold:NaN,isNaN(threshold)&&(threshold=NumberUtils.EPSILON),n1<0?-n1<threshold:n1<threshold)},NumberUtils.approxLessThan=function(n1,n2,threshold){return n1<n2&&!NumberUtils.approxEqual(n1,n2,threshold)},NumberUtils.approxLessThanOrEqual=function(n1,n2,threshold){return n1<n2||NumberUtils.approxEqual(n1,n2,threshold)},NumberUtils.approxGreaterThan=function(n1,n2,threshold){return n1>n2&&!NumberUtils.approxEqual(n1,n2,threshold)},NumberUtils.approxGreaterThanOrEqual=function(n1,n2,threshold){return n1>n2||NumberUtils.approxEqual(n1,n2,threshold)}}))}))})),jg_import.define("jgatt.graphics.ColorUtils",(function(){jg_namespace("jgatt.graphics",(function(){var NumberUtils=jg_import("jgatt.utils.NumberUtils");this.ColorUtils=jg_static((function(ColorUtils){ColorUtils.toRGB=function(color){var rgb={};return rgb.r=color>>16&255,rgb.g=color>>8&255,rgb.b=255&color,rgb},ColorUtils.fromRGB=function(rgb){return rgb.r<<16|rgb.g<<8|rgb.b},ColorUtils.brightness=function(color,brightness){var c,rgb=ColorUtils.toRGB(color);return brightness<0?(brightness=-brightness,c=0):c=255,brightness>1&&(brightness=1),rgb.r+=Math.round((c-rgb.r)*brightness),rgb.g+=Math.round((c-rgb.g)*brightness),rgb.b+=Math.round((c-rgb.b)*brightness),ColorUtils.fromRGB(rgb)},ColorUtils.interpolate=function(color1,color2,f){var rgb1=ColorUtils.toRGB(color1),rgb2=ColorUtils.toRGB(color2),rgb={};return rgb.r=Math.round(NumberUtils.interpolate(rgb1.r,rgb2.r,f)),rgb.g=Math.round(NumberUtils.interpolate(rgb1.g,rgb2.g,f)),rgb.b=Math.round(NumberUtils.interpolate(rgb1.b,rgb2.b,f)),ColorUtils.fromRGB(rgb)}}))}))})),jg_import.define("jgatt.graphics.GradientType",(function(){jg_namespace("jgatt.graphics",(function(){this.GradientType=jg_static((function(GradientType){GradientType.LINEAR="linear",GradientType.RADIAL="radial"}))}))})),jg_import.define("jgatt.graphics.Graphics",(function(){jg_namespace("jgatt.graphics",(function(){var Matrix=jg_import("jgatt.geom.Matrix");jg_import("jgatt.geom.Point");this.Graphics=jg_extend(Object,(function(Graphics,base){this._width=1,this._height=1,this._strokeStyle=null,this._strokeCommands=null,this._fillCommands=null,this._drawingStack=null,this._drawingStackIndex=0,this._penX=0,this._penY=0,this._element=null,this._canvas=null,this._context=null,this.constructor=function(width,height){this._width=width>1&&width<1/0?Math.floor(width):1,this._height=height>1&&height<1/0?Math.floor(height):1,this._strokeStyle={thickness:1,caps:"none",joints:"miter",miterLimit:10,pixelHinting:!0},this._drawingStack=[]},this.appendTo=function(element){if(!element)throw new Error("Parameter element must be non-null.");if(element===this._element)return!0;this.remove();var canvas=document.createElement("canvas");if(!canvas)return!1;if("function"!=typeof canvas.getContext)return!1;var context=canvas.getContext("2d");return!!context&&(canvas.style.position="absolute",canvas.width=this._width,canvas.height=this._height,element.appendChild(canvas),this._element=element,this._canvas=canvas,this._context=context,this._draw(!0),!0)},this.remove=function(){if(!this._element)return!1;var context=this._context;context.clearRect(0,0,context.canvas.width,context.canvas.height),context.beginPath();var canvas=this._canvas,parentNode=canvas.parentNode;return parentNode&&parentNode.removeChild(canvas),this._element=null,this._canvas=null,this._context=null,!0},this.setSize=function(width,height){if(width=width>1&&width<1/0?Math.floor(width):1,height=height>1&&height<1/0?Math.floor(height):1,width!==this._width||height!==this._height){this._width=width,this._height=height;var canvas=this._canvas;canvas&&(canvas.width=width,canvas.height=height,this._draw(!0))}},this.setStrokeStyle=function(thickness,caps,joints,miterLimit,pixelHinting){if(null!=caps&&"none"!==caps&&"round"!==caps&&"square"!==caps)throw new Error('Parameter caps must be one of "none", "round", or "square".');if(null!=joints&&"miter"!==joints&&"round"!==joints&&"bevel"!==joints)throw new Error('Parameter joints must be one of "miter", "round", or "bevel".');thickness=(thickness*=1)>0&&thickness<1/0?thickness:1,caps=caps||"none",joints=joints||"miter",miterLimit=(miterLimit*=1)>0&&miterLimit<1/0?miterLimit:10,pixelHinting=0!=pixelHinting,this._strokeStyle={thickness:thickness,caps:caps,joints:joints,miterLimit:miterLimit,pixelHinting:pixelHinting}},this.beginSolidStroke=function(color,alpha){this.endStroke(),color=isNaN(color)?0:Math.min(Math.max(Math.floor(color),0),16777215),alpha=isNaN(alpha)?1:Math.min(Math.max(alpha,0),1);var strokeCommands=this._strokeCommands=[];strokeCommands.push({name:"solidStroke",strokeStyle:this._strokeStyle,color:color,alpha:alpha}),strokeCommands.push({name:"moveTo",x:this._penX,y:this._penY})},this.beginGradientStroke=function(type,colors,alphas,ratios,matrix,focalPointRatio){if(null==type)throw new Error("Parameter type must be non-null.");if("linear"!==type&&"radial"!==type)throw new Error('Parameter type must be one of "linear" or "radial".');if(null==colors)throw new Error("Parameter colors must be non-null.");if(!(colors instanceof Array))throw new Error("Parameter colors must be an array.");if(null==alphas)throw new Error("Parameter alphas must be non-null.");if(!(alphas instanceof Array))throw new Error("Parameter alphas must be an array.");if(null==ratios)throw new Error("Parameter ratios must be non-null.");if(!(ratios instanceof Array))throw new Error("Parameter ratios must be an array.");if(null!=matrix&&!(matrix instanceof Matrix))throw new Error("Parameter matrix must be an instance of jgatt.geom.Matrix.");this.endStroke();var color,alpha,ratio,numStops=Math.min(colors.length,alphas.length,ratios.length);colors=colors.slice(0,numStops),alphas=alphas.slice(0,numStops),ratios=ratios.slice(0,numStops);for(var i=0;i<numStops;i++)color=colors[i],colors[i]=isNaN(color)?0:Math.min(Math.max(Math.floor(color),0),16777215),alpha=alphas[i],alphas[i]=isNaN(alpha)?1:Math.min(Math.max(alpha,0),1),ratio=ratios[i],ratios[i]=isNaN(ratio)?0:Math.min(Math.max(ratio,0),1);matrix&&((matrix=new Matrix(1*matrix.a,1*matrix.b,1*matrix.c,1*matrix.d,1*matrix.tx,1*matrix.ty)).tx-matrix.tx!=0&&(matrix.tx=0),matrix.ty-matrix.ty!=0&&(matrix.ty=0),matrix.hasInverse()||(matrix=null)),focalPointRatio=isNaN(focalPointRatio)?0:Math.min(Math.max(focalPointRatio,-1),1);var strokeCommands=this._strokeCommands=[];strokeCommands.push({name:"gradientStroke",strokeStyle:this._strokeStyle,type:type,colors:colors,alphas:alphas,ratios:ratios,matrix:matrix,focalPointRatio:focalPointRatio}),strokeCommands.push({name:"moveTo",x:this._penX,y:this._penY})},this.beginImageStroke=function(image,matrix,repeat){},this.endStroke=function(){this._strokeCommands&&(this._drawingStack.push(this._strokeCommands),this._strokeCommands=null,this._draw())},this.beginSolidFill=function(color,alpha){this.endFill(),color=isNaN(color)?0:Math.min(Math.max(Math.floor(color),0),16777215),alpha=isNaN(alpha)?1:Math.min(Math.max(alpha,0),1);var fillCommands=this._fillCommands=[];fillCommands.push({name:"solidFill",color:color,alpha:alpha}),fillCommands.push({name:"moveTo",x:this._penX,y:this._penY})},this.beginGradientFill=function(type,colors,alphas,ratios,matrix,focalPointRatio){if(null==type)throw new Error("Parameter type must be non-null.");if("linear"!==type&&"radial"!==type)throw new Error('Parameter type must be one of "linear" or "radial".');if(null==colors)throw new Error("Parameter colors must be non-null.");if(!(colors instanceof Array))throw new Error("Parameter colors must be an array.");if(null==alphas)throw new Error("Parameter alphas must be non-null.");if(!(alphas instanceof Array))throw new Error("Parameter alphas must be an array.");if(null==ratios)throw new Error("Parameter ratios must be non-null.");if(!(ratios instanceof Array))throw new Error("Parameter ratios must be an array.");if(null!=matrix&&!(matrix instanceof Matrix))throw new Error("Parameter matrix must be an instance of jgatt.geom.Matrix.");this.endFill();var color,alpha,ratio,numStops=Math.min(colors.length,alphas.length,ratios.length);colors=colors.slice(0,numStops),alphas=alphas.slice(0,numStops),ratios=ratios.slice(0,numStops);for(var i=0;i<numStops;i++)color=colors[i],colors[i]=isNaN(color)?0:Math.min(Math.max(Math.floor(color),0),16777215),alpha=alphas[i],alphas[i]=isNaN(alpha)?1:Math.min(Math.max(alpha,0),1),ratio=ratios[i],ratios[i]=isNaN(ratio)?0:Math.min(Math.max(ratio,0),1);matrix&&((matrix=new Matrix(1*matrix.a,1*matrix.b,1*matrix.c,1*matrix.d,1*matrix.tx,1*matrix.ty)).tx-matrix.tx!=0&&(matrix.tx=0),matrix.ty-matrix.ty!=0&&(matrix.ty=0),matrix.hasInverse()||(matrix=null)),focalPointRatio=isNaN(focalPointRatio)?0:Math.min(Math.max(focalPointRatio,-1),1);var fillCommands=this._fillCommands=[];fillCommands.push({name:"gradientFill",type:type,colors:colors,alphas:alphas,ratios:ratios,matrix:matrix,focalPointRatio:focalPointRatio}),fillCommands.push({name:"moveTo",x:this._penX,y:this._penY})},this.beginImageFill=function(image,matrix,repeat){},this.endFill=function(){this._fillCommands&&(this._drawingStack.push(this._fillCommands),this._fillCommands=null,this._draw())},this.moveTo=function(x,y){(x*=1)-x!=0&&(x=0),(y*=1)-y!=0&&(y=0),this._penX=x,this._penY=y;var command={name:"moveTo",x:x,y:y};this._strokeCommands&&this._strokeCommands.push(command),this._fillCommands&&this._fillCommands.push(command)},this.lineTo=function(x,y){(x*=1)-x!=0&&(x=0),(y*=1)-y!=0&&(y=0),this._penX=x,this._penY=y;var command={name:"lineTo",x:x,y:y};this._strokeCommands&&this._strokeCommands.push(command),this._fillCommands&&this._fillCommands.push(command)},this.curveTo=function(controlX,controlY,anchorX,anchorY){(controlX*=1)-controlX!=0&&(controlX=0),(controlY*=1)-controlY!=0&&(controlY=0),(anchorX*=1)-anchorX!=0&&(anchorX=0),(anchorY*=1)-anchorY!=0&&(anchorY=0),this._penX=anchorX,this._penY=anchorY;var command={name:"curveTo",controlX:controlX,controlY:controlY,anchorX:anchorX,anchorY:anchorY};this._strokeCommands&&this._strokeCommands.push(command),this._fillCommands&&this._fillCommands.push(command)},this.clear=function(){this._strokeCommands=null,this._fillCommands=null,this._drawingStack=[],this._draw(!0)},this._draw=function(redraw){var context=this._context;if(context){1==redraw&&(this._drawingStackIndex=0,context.clearRect(0,0,context.canvas.width,context.canvas.height),context.beginPath());var commands,i,drawingStack=this._drawingStack,drawingStackSize=drawingStack.length;for(i=this._drawingStackIndex;i<drawingStackSize;i++)switch((commands=drawingStack[i])[0].name){case"solidStroke":case"gradientStroke":this._drawStroke(commands);break;case"solidFill":case"gradientFill":this._drawFill(commands)}this._drawingStackIndex=i}},this._drawStroke=function(commands){var context=this._context;if(context){var startX,startY,endX,endY,gradient,numStops,colors,alphas,ratios,color,alpha,ratio,matrix,i,numCommands=commands.length,command=commands[0],strokeStyle=command.strokeStyle,offset=strokeStyle.pixelHinting?strokeStyle.thickness%2/2:0,hasPath=!1;for(context.beginPath(),i=1;i<numCommands;i++)"moveTo"===(command=commands[i]).name?(hasPath&&startX===endX&&startY===endY&&context.closePath(),hasPath=!1,startX=command.x,startY=command.y,context.moveTo(startX+offset,startY+offset)):"lineTo"===command.name?(hasPath=!0,endX=command.x,endY=command.y,context.lineTo(endX+offset,endY+offset)):"curveTo"===command.name&&(hasPath=!0,endX=command.anchorX,endY=command.anchorY,context.quadraticCurveTo(command.controlX+offset,command.controlY+offset,endX+offset,endY+offset));if(hasPath&&startX===endX&&startY===endY&&context.closePath(),context.save(),context.lineWidth=strokeStyle.thickness,context.lineCap="none"===strokeStyle.caps?"butt":strokeStyle.caps,context.lineJoin=strokeStyle.joints,context.miterLimit=strokeStyle.miterLimit,"solidStroke"===(command=commands[0]).name)color=command.color,alpha=command.alpha,context.strokeStyle="rgba("+(color>>16&255)+", "+(color>>8&255)+", "+(255&color)+", "+alpha+")";else if("gradientStroke"===command.name){for(gradient="radial"===command.type?context.createRadialGradient(.5+.49*command.focalPointRatio,.5,0,.5,.5,.5):context.createLinearGradient(0,0,1,0),colors=command.colors,alphas=command.alphas,ratios=command.ratios,numStops=colors.length,i=0;i<numStops;i++)color=colors[i],alpha=alphas[i],ratio=ratios[i],gradient.addColorStop(ratio,"rgba("+(color>>16&255)+", "+(color>>8&255)+", "+(255&color)+", "+alpha+")");(matrix=command.matrix)&&context.setTransform(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx,matrix.ty),context.strokeStyle=gradient}context.stroke(),context.restore(),context.beginPath()}},this._drawFill=function(commands){var context=this._context;if(context){var command,gradient,numStops,colors,alphas,ratios,color,alpha,ratio,matrix,i,numCommands=commands.length;for(context.beginPath(),i=1;i<numCommands;i++)"moveTo"===(command=commands[i]).name?context.moveTo(command.x,command.y):"lineTo"===command.name?context.lineTo(command.x,command.y):"curveTo"===command.name&&context.quadraticCurveTo(command.controlX,command.controlY,command.anchorX,command.anchorY);if(context.save(),"solidFill"===(command=commands[0]).name)color=command.color,alpha=command.alpha,context.fillStyle="rgba("+(color>>16&255)+", "+(color>>8&255)+", "+(255&color)+", "+alpha+")";else if("gradientFill"===command.name){for(gradient="radial"===command.type?context.createRadialGradient(.5+.49*command.focalPointRatio,.5,0,.5,.5,.5):context.createLinearGradient(0,0,1,0),colors=command.colors,alphas=command.alphas,ratios=command.ratios,numStops=colors.length,i=0;i<numStops;i++)color=colors[i],alpha=alphas[i],ratio=ratios[i],gradient.addColorStop(ratio,"rgba("+(color>>16&255)+", "+(color>>8&255)+", "+(255&color)+", "+alpha+")");(matrix=command.matrix)&&context.setTransform(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx,matrix.ty),context.fillStyle=gradient}context.fill(),context.restore(),context.beginPath()}}}))}))})),jg_import.define("jgatt.graphics.Joints",(function(){jg_namespace("jgatt.graphics",(function(){this.Joints=jg_static((function(Joints){Joints.MITER="miter",Joints.ROUND="round",Joints.BEVEL="bevel"}))}))})),jg_import.define("jgatt.properties.PropertyEventData",(function(){jg_namespace("jgatt.properties",(function(){var EventData=jg_import("jgatt.events.EventData");this.PropertyEventData=jg_extend(EventData,(function(PropertyEventData,base){this.property=null,this.oldValue=null,this.newValue=null,this.constructor=function(property,oldValue,newValue){this.property=property,this.oldValue=oldValue,this.newValue=newValue}}))}))})),jg_import.define("jgatt.graphics.brushes.Brush",(function(){jg_namespace("jgatt.graphics.brushes",(function(){var MObservable=jg_import("jgatt.events.MObservable"),Matrix=jg_import("jgatt.geom.Matrix"),Point=jg_import("jgatt.geom.Point"),Graphics=jg_import("jgatt.graphics.Graphics"),MPropertyTarget=jg_import("jgatt.properties.MPropertyTarget"),Property=jg_import("jgatt.properties.Property"),PropertyEventData=jg_import("jgatt.properties.PropertyEventData");this.Brush=jg_extend(Object,(function(Brush,base){base=jg_mixin(this,MObservable,base),base=jg_mixin(this,MPropertyTarget,base),this._properties=null,this._commands=null,this._graphics=null,this._matrix=null,this._bounds=null,this.constructor=function(){base.constructor.call(this),this.addEventListener(this.changed,this._self_changed,1/0)},this.beginBrush=function(graphics,matrix,bounds){if(!graphics)throw new Error("Parameter graphics must be non-null.");if(!(graphics instanceof Graphics))throw new Error("Parameter graphics must be an instance of jgatt.graphics.Graphics.");if(null!=matrix&&!(matrix instanceof Matrix))throw new Error("Parameter matrix must be an instance of jgatt.geom.Matrix.");if(null!=bounds&&!(bounds instanceof Array))throw new Error("Parameter bounds must be an array.");if(this.endBrush(),this._properties||(this._properties=this._getProperties()),this._commands=[],this._graphics=graphics,this._matrix=matrix?matrix.clone():null,bounds)for(var point,bounds2=this._bounds=[],numPoints=bounds.length,i=0;i<numPoints;i++)(point=bounds[i])instanceof Point&&bounds2.push(point.clone())},this.endBrush=function(){this._graphics&&(this.draw(this._properties,this._commands,this._graphics,this._matrix,this._bounds),this._commands=null,this._graphics=null,this._matrix=null,this._bounds=null)},this.moveTo=function(x,y){this._graphics&&this._commands.push({name:"moveTo",x:x,y:y})},this.lineTo=function(x,y){this._graphics&&this._commands.push({name:"lineTo",x:x,y:y})},this.curveTo=function(controlX,controlY,anchorX,anchorY){this._graphics&&this._commands.push({name:"curveTo",controlX:controlX,controlY:controlY,anchorX:anchorX,anchorY:anchorY})},this.draw=function(properties,commands,graphics,matrix,bounds){},this._getProperties=function(){var property,properties={};for(var p in this)(property=this[p])instanceof Property&&(properties[p]=this.getInternal(property));return properties},this._self_changed=function(e){e.target===this&&e instanceof PropertyEventData&&(this._properties=null)}}))}))})),jg_import.define("jgatt.graphics.brushes.DrawingUtils",(function(){jg_namespace("jgatt.graphics.brushes",(function(){var Point=jg_import("jgatt.geom.Point"),Brush=jg_import("jgatt.graphics.brushes.Brush");this.DrawingUtils=jg_static((function(DrawingUtils){DrawingUtils.arcTo=function(brush,startX,startY,startAngle,arcAngle,radius,radiusY){if(null==brush)throw new Error("Parameter brush must be non-null.");if(!(brush instanceof Brush))throw new Error("Parameter brush must be an instance of jgatt.graphics.brushes.Brush.");arcAngle>360?arcAngle=360:arcAngle<-360&&(arcAngle=-360),void 0===radiusY&&(radiusY=radius);var angleMid,bx,by,cx,cy,i,segs=Math.ceil(Math.abs(arcAngle)/45),theta=arcAngle/segs/180*Math.PI,cosThetaMid=Math.cos(theta/2),angle=startAngle/180*Math.PI,ax=startX-Math.cos(angle)*radius,ay=startY-Math.sin(angle)*radiusY;for(i=0;i<segs;i++)angleMid=(angle+=theta)-theta/2,bx=ax+Math.cos(angle)*radius,by=ay+Math.sin(angle)*radiusY,cx=ax+Math.cos(angleMid)*(radius/cosThetaMid),cy=ay+Math.sin(angleMid)*(radiusY/cosThetaMid),brush.curveTo(cx,cy,bx,by);return new Point(bx,by)},DrawingUtils.drawRectangle=function(brush,x,y,width,height){if(null==brush)throw new Error("Parameter brush must be non-null.");if(!(brush instanceof Brush))throw new Error("Parameter brush must be an instance of jgatt.graphics.brushes.Brush.");var x2=x+width,y2=y+height;brush.moveTo(x,y),brush.lineTo(x2,y),brush.lineTo(x2,y2),brush.lineTo(x,y2),brush.lineTo(x,y)},DrawingUtils.drawEllipse=function(brush,x,y,radiusX,radiusY){if(null==brush)throw new Error("Parameter brush must be non-null.");if(!(brush instanceof Brush))throw new Error("Parameter brush must be an instance of jgatt.graphics.brushes.Brush.");x+=radiusX,brush.moveTo(x,y),DrawingUtils.arcTo(brush,x,y,0,360,radiusX,radiusY)}}))}))})),jg_import.define("jgatt.utils.FunctionUtils",(function(){jg_namespace("jgatt.utils",(function(){this.FunctionUtils=jg_static((function(FunctionUtils){FunctionUtils.bind=function(f,scope){if(null==f)throw new Error("Parameter f must be non-null.");if("function"!=typeof f)throw new Error("Parameter f must be a function.");return function(){return f.apply(scope,arguments)}}}))}))})),jg_import.define("jgatt.properties.ObservableProperty",(function(){jg_namespace("jgatt.properties",(function(){var ChainedEvent=jg_import("jgatt.events.ChainedEvent"),Event=jg_import("jgatt.events.Event"),EventData=jg_import("jgatt.events.EventData"),MObservable=jg_import("jgatt.events.MObservable"),Property=jg_import("jgatt.properties.Property"),PropertyEventData=jg_import("jgatt.properties.PropertyEventData"),Dictionary=jg_import("jgatt.utils.Dictionary"),FunctionUtils=jg_import("jgatt.utils.FunctionUtils");this.ObservableProperty=jg_extend(Property,(function(ObservableProperty,base){this.changed=null,this._noChaining=!1,this._changedComparator=null,this._onChanged=null,this.constructor=function(name,type,defaultValue,readOnly,noChaining){if(base.constructor.call(this,name,type,defaultValue,readOnly),null!=noChaining&&"boolean"!=typeof noChaining)throw new Error("Parameter noChaining must be a boolean.");this._noChaining=!0===noChaining,this.changed=this._noChaining?new Event("changed",EventData):new ChainedEvent("changed",MObservable.changed)},this.noChaining=function(){return this._noChaining},this.changedComparator=function(value){if(0==arguments.length)return this._changedComparator;if(null!=value&&"function"!=typeof value)throw new Error("Parameter changedComparator must be a function.");return this._changedComparator=value||null,this},this.onChanged=function(value){if(0==arguments.length)return this._onChanged;if(null!=value&&"function"!=typeof value)throw new Error("Parameter onChanged must be a function.");return this._onChanged=value||null,this},this.setInternal=function(target,propertyMap,value){value=this.assertType(value,"Value assigned to property "+this._name+" is incompatible with property type.");var propertyInfo=propertyMap.get(this);if(propertyInfo||(propertyInfo=propertyMap.set(this,this.createPropertyInfo(this,target))),propertyInfo.isChanging)return!1;try{propertyInfo.isChanging=!0;var oldValue=propertyInfo.value;if(this._changedComparator){if(!this._changedComparator.call(target,oldValue,value))return!1}else if(!function(oldValue,newValue){return oldValue!==newValue&&(oldValue==oldValue||newValue==newValue)}(oldValue,value))return!1;this._setter&&this._setter.call(target,value),propertyInfo.value=value,propertyInfo.setupValueChain(),propertyInfo.isObservable&&target.dispatchEvent(this.changed,new PropertyEventData(this,oldValue,value))}finally{propertyInfo.isChanging=!1}return!0},this.createPropertyInfo=function(property,target){return new ObservableProperty.PropertyInfo(property,target)}})),this.ObservableProperty.PropertyInfo=jg_extend(Property.PropertyInfo,(function(PropertyInfo,base){this.cachedValue=null,this.isObservable=!1,this.isChanging=!1,this.isValueChangingMap=null,this.constructor=function(property,target){base.constructor.call(this,property,target),this.isObservable=jg_has_mixin(target,MObservable),this.isValueChangingMap=new Dictionary,this.value_changed=FunctionUtils.bind(this.value_changed,this),property._onChanged&&this.isObservable&&target.addEventListener(property.changed,property._onChanged,1/0)},this.setupValueChain=function(){this.clearValueChain();var value=this.value;null!=value&&jg_has_mixin(value,MObservable)&&(this.cachedValue=value,value.addEventListener(value.changed,this.value_changed,-1/0))},this.clearValueChain=function(){var value=this.cachedValue;null!=value&&(value.removeEventListener(value.changed,this.value_changed),this.cachedValue=null)},this.value_changed=function(e){if(this.isObservable&&!this.isChanging&&!this.isValueChangingMap.has(e)&&!e.isPropagationStopped())try{this.isValueChangingMap.set(e,!0),this.target.dispatchEvent(this.property.changed,e)}finally{this.isValueChangingMap.del(e)}}}))}))})),jg_import.define("jgatt.graphics.brushes.TileBrush",(function(){jg_namespace("jgatt.graphics.brushes",(function(){var Matrix=jg_import("jgatt.geom.Matrix"),Point=jg_import("jgatt.geom.Point"),Brush=jg_import("jgatt.graphics.brushes.Brush"),ObservableProperty=jg_import("jgatt.properties.ObservableProperty");this.TileBrush=jg_extend(Brush,(function(TileBrush,base){this.stretchMode=new ObservableProperty("stretchMode",String,"fill").writeFilter((function(value){switch(value){case"none":case"fill":case"uniform":case"uniformToFill":case"uniformToWidth":case"uniformToHeight":return value;default:return"fill"}})),this.alignmentX=new ObservableProperty("alignmentX",Number,.5).writeFilter((function(value){return value>-1/0&&value<1/0?value:.5})),this.alignmentY=new ObservableProperty("alignmentY",Number,.5).writeFilter((function(value){return value>-1/0&&value<1/0?value:.5})),this.tileTransform=new ObservableProperty("tileTransform",Matrix,null).readFilter((function(value){return value?value.clone():null})).writeFilter((function(value){return value?value.clone():null})),this.renderTransform=new ObservableProperty("renderTransform",Matrix,null).readFilter((function(value){return value?value.clone():null})).writeFilter((function(value){return value?value.clone():null})),this.fitToDrawing=new ObservableProperty("fitToDrawing",Boolean,!1),this.constructor=function(stretchMode,alignmentX,alignmentY,tileTransform,renderTransform,fitToDrawing){base.constructor.call(this),null!=stretchMode&&this.set(this.stretchMode,stretchMode),null!=alignmentX&&this.set(this.alignmentX,alignmentX),null!=alignmentY&&this.set(this.alignmentY,alignmentY),null!=tileTransform&&this.set(this.tileTransform,tileTransform),null!=renderTransform&&this.set(this.renderTransform,renderTransform),null!=fitToDrawing&&this.set(this.fitToDrawing,fitToDrawing)},this.computeTileMatrix=function(tileWidth,tileHeight,properties,commands,matrix,bounds){var tileMatrix,invertedMatrix,tileTransform=properties.tileTransform;if(tileTransform){tileMatrix=tileTransform.clone();var p1=new Point(0,0),p2=new Point(tileWidth,0),p3=new Point(tileWidth,tileHeight),p4=new Point(0,tileHeight);p1=tileMatrix.transformPoint(p1),p2=tileMatrix.transformPoint(p2),p3=tileMatrix.transformPoint(p3),p4=tileMatrix.transformPoint(p4);var left=Math.min(p1.x,p2.x,p3.x,p4.x),right=Math.max(p1.x,p2.x,p3.x,p4.x),top=Math.min(p1.y,p2.y,p3.y,p4.y);tileWidth=right-left,tileHeight=Math.max(p1.y,p2.y,p3.y,p4.y)-top,tileMatrix.translate(-left,-top)}else tileMatrix=new Matrix;matrix&&matrix.hasInverse()&&(invertedMatrix=matrix.clone()).invert();var point,i,minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;if(bounds&&!properties.fitToDrawing){var numPoints=bounds.length;for(i=0;i<numPoints;i++)point=bounds[i],invertedMatrix&&(point=invertedMatrix.transformPoint(point)),minX=Math.min(point.x,minX),minY=Math.min(point.y,minY),maxX=Math.max(point.x,maxX),maxY=Math.max(point.y,maxY)}else{var command,numCommands=commands.length;for(i=0;i<numCommands;i++){if("moveTo"==(command=commands[i]).name)point=new Point(command.x,command.y);else if("lineTo"==command.name)point=new Point(command.x,command.y);else{if("curveTo"!=command.name)continue;point=new Point(command.anchorX,command.anchorY)}invertedMatrix&&(point=invertedMatrix.transformPoint(point)),minX=Math.min(point.x,minX),minY=Math.min(point.y,minY),maxX=Math.max(point.x,maxX),maxY=Math.max(point.y,maxY)}}minX==1/0&&(minX=minY=maxX=maxY=0);var scaleX,scaleY,offsetX,offsetY,width=maxX-minX,height=maxY-minY;switch(properties.stretchMode){case"none":offsetX=(width-tileWidth)*properties.alignmentX,offsetY=(height-tileHeight)*properties.alignmentY,tileMatrix.translate(offsetX,offsetY);break;case"uniform":scaleX=tileWidth>0?width/tileWidth:1,scaleY=tileHeight>0?height/tileHeight:1,offsetX=(width-tileWidth*(scaleX=scaleY=Math.min(scaleX,scaleY)))*properties.alignmentX,offsetY=(height-tileHeight*scaleY)*properties.alignmentY,tileMatrix.scale(scaleX,scaleY),tileMatrix.translate(offsetX,offsetY);break;case"uniformToFill":scaleX=tileWidth>0?width/tileWidth:1,scaleY=tileHeight>0?height/tileHeight:1,offsetX=(width-tileWidth*(scaleX=scaleY=Math.max(scaleX,scaleY)))*properties.alignmentX,offsetY=(height-tileHeight*scaleY)*properties.alignmentY,tileMatrix.scale(scaleX,scaleY),tileMatrix.translate(offsetX,offsetY);break;case"uniformToWidth":offsetX=(width-tileWidth*(scaleX=scaleY=tileWidth>0?width/tileWidth:1))*properties.alignmentX,offsetY=(height-tileHeight*scaleY)*properties.alignmentY,tileMatrix.scale(scaleX,scaleY),tileMatrix.translate(offsetX,offsetY);break;case"uniformToHeight":offsetX=(width-tileWidth*(scaleX=scaleY=tileHeight>0?height/tileHeight:1))*properties.alignmentX,offsetY=(height-tileHeight*scaleY)*properties.alignmentY,tileMatrix.scale(scaleX,scaleY),tileMatrix.translate(offsetX,offsetY);break;default:scaleX=tileWidth>0?width/tileWidth:1,scaleY=tileHeight>0?height/tileHeight:1,tileMatrix.scale(scaleX,scaleY)}var renderTransform=properties.renderTransform;return renderTransform&&tileMatrix.concat(renderTransform),tileMatrix.translate(minX,minY),matrix&&tileMatrix.concat(matrix),tileMatrix}}))}))})),jg_import.define("jgatt.properties.ObservableArrayProperty",(function(){jg_namespace("jgatt.properties",(function(){var MObservable=jg_import("jgatt.events.MObservable"),ObservableProperty=jg_import("jgatt.properties.ObservableProperty"),TypeUtils=jg_import("jgatt.utils.TypeUtils");this.ObservableArrayProperty=jg_extend(ObservableProperty,(function(ObservableArrayProperty,base){this._elementType=null,this.constructor=function(name,elementType,defaultValue,readOnly,noChaining){if(null==elementType)throw new Error("Parameter elementType must be non-null.");if("function"!=typeof elementType)throw new Error("Parameter elementType must be a class.");this._elementType=elementType,base.constructor.call(this,name,Array,defaultValue,readOnly,noChaining)},this.elementType=function(){return this._elementType},this.assertType=function(value,message){if(null==value)return null;if(!(value instanceof Array))throw new Error(message);var elementValue,elementType=this._elementType;if(elementType===Object)return value;for(var i=0,l=value.length;i<l;i++)if(null==(elementValue=value[i])||!TypeUtils.isTypeOf(elementValue,elementType))throw new Error(message);return value},this.createPropertyInfo=function(property,target){return new ObservableArrayProperty.PropertyInfo(property,target)}})),this.ObservableArrayProperty.PropertyInfo=jg_extend(ObservableProperty.PropertyInfo,(function(PropertyInfo,base){this.cachedElementValues=null,this.constructor=function(property,target){base.constructor.call(this,property,target)},this.setupValueChain=function(){this.clearValueChain();var value=this.value;if(null!=value&&(jg_has_mixin(value,MObservable)&&(this.cachedValue=value,value.addEventListener(value.changed,this.value_changed,-1/0)),0!=value.length))for(var elementValue,elementValues=this.cachedElementValues=[],i=0,l=value.length;i<l;i++)elementValue=value[i],jg_has_mixin(elementValue,MObservable)&&(elementValues.push(elementValue),elementValue.addEventListener(elementValue.changed,this.value_changed,-1/0))},this.clearValueChain=function(){var elementValues=this.cachedElementValues;if(elementValues){for(var elementValue,i=elementValues.length-1;i>=0;i--)(elementValue=value[i]).removeEventListener(elementValue.changed,this.value_changed);this.cachedElementValues=null}var value=this.cachedValue;null!=value&&(value.removeEventListener(value.changed,this.value_changed),this.cachedValue=null)}}))}))})),jg_import.define("jgatt.graphics.brushes.GradientFillBrush",(function(){jg_namespace("jgatt.graphics.brushes",(function(){var Matrix=jg_import("jgatt.geom.Matrix"),TileBrush=jg_import("jgatt.graphics.brushes.TileBrush"),ObservableArrayProperty=jg_import("jgatt.properties.ObservableArrayProperty"),ObservableProperty=jg_import("jgatt.properties.ObservableProperty"),NumberUtils=jg_import("jgatt.utils.NumberUtils");this.GradientFillBrush=jg_extend(TileBrush,(function(GradientFillBrush,base){this.type=new ObservableProperty("type",String,"linear").writeFilter((function(value){switch(value){case"linear":case"radial":return value;default:return"linear"}})),this.colors=new ObservableArrayProperty("colors",Number,[]).readFilter((function(value){return value.concat()})).writeFilter((function(value){return value?value.concat():[]})),this.alphas=new ObservableArrayProperty("alphas",Number,[]).readFilter((function(value){return value.concat()})).writeFilter((function(value){return value?value.concat():[]})),this.ratios=new ObservableArrayProperty("ratios",Number,[]).readFilter((function(value){return value.concat()})).writeFilter((function(value){return value?value.concat():[]})),this.focalPointRatio=new ObservableProperty("focalPointRatio",Number,0).writeFilter((function(value){return isNaN(value)?0:NumberUtils.minMax(value,-1,1)})),this.gradientWidth=new ObservableProperty("gradientWidth",Number,100).writeFilter((function(value){return value>0&&value<1/0?value:100})),this.gradientHeight=new ObservableProperty("gradientHeight",Number,100).writeFilter((function(value){return value>0&&value<1/0?value:100})),this.constructor=function(type,colors,alphas,ratios,focalPointRatio){base.constructor.call(this),null!=type&&this.set(this.type,type),null!=colors&&this.set(this.colors,colors),null!=alphas&&this.set(this.alphas,alphas),null!=ratios&&this.set(this.ratios,ratios),null!=focalPointRatio&&this.set(this.focalPointRatio,focalPointRatio)},this.draw=function(properties,commands,graphics,matrix,bounds){var gradientWidth=properties.gradientWidth,gradientHeight=properties.gradientHeight,tileMatrix=new Matrix(gradientWidth,0,0,gradientHeight);tileMatrix.concat(this.computeTileMatrix(gradientWidth,gradientHeight,properties,commands,matrix,bounds)),graphics.beginGradientFill(properties.type,properties.colors,properties.alphas,properties.ratios,tileMatrix,properties.focalPointRatio);for(var command,numCommands=commands.length,i=0;i<numCommands;i++)"moveTo"===(command=commands[i]).name?graphics.moveTo(command.x,command.y):"lineTo"===command.name?graphics.lineTo(command.x,command.y):"curveTo"===command.name&&graphics.curveTo(command.controlX,command.controlY,command.anchorX,command.anchorY);graphics.endFill()}}))}))})),jg_import.define("jgatt.graphics.brushes.GroupBrush",(function(){jg_namespace("jgatt.graphics.brushes",(function(){var Brush=jg_import("jgatt.graphics.brushes.Brush"),ObservableArrayProperty=jg_import("jgatt.properties.ObservableArrayProperty");this.GroupBrush=jg_extend(Brush,(function(GroupBrush,base){this.brushes=new ObservableArrayProperty("brushes",Brush,[]).readFilter((function(value){return value.concat()})).writeFilter((function(value){return value?value.concat():[]})),this.constructor=function(brushes){base.constructor.call(this),null!=brushes&&this.set(this.brushes,brushes)},this.draw=function(properties,commands,graphics,matrix,bounds){var brush,command,i,j,brushes=properties.brushes,numBrushes=brushes.length,numCommands=commands.length;for(i=0;i<numBrushes;i++){for((brush=brushes[i]).beginBrush(graphics,matrix,bounds),j=0;j<numCommands;j++)"moveTo"===(command=commands[j]).name?brush.moveTo(command.x,command.y):"lineTo"===command.name?brush.lineTo(command.x,command.y):"curveTo"===command.name&&brush.curveTo(command.controlX,command.controlY,command.anchorX,command.anchorY);brush.endBrush()}}}))}))})),jg_import.define("jgatt.graphics.brushes.SolidFillBrush",(function(){jg_namespace("jgatt.graphics.brushes",(function(){var Brush=jg_import("jgatt.graphics.brushes.Brush"),ObservableProperty=jg_import("jgatt.properties.ObservableProperty"),NumberUtils=jg_import("jgatt.utils.NumberUtils");this.SolidFillBrush=jg_extend(Brush,(function(SolidFillBrush,base){this.color=new ObservableProperty("color",Number,0).writeFilter((function(value){return isNaN(value)?0:NumberUtils.minMax(Math.floor(value),0,16777215)})),this.alpha=new ObservableProperty("alpha",Number,1).writeFilter((function(value){return isNaN(value)?1:NumberUtils.minMax(value,0,1)})),this.constructor=function(color,alpha){base.constructor.call(this),null!=color&&this.set(this.color,color),null!=alpha&&this.set(this.alpha,alpha)},this.draw=function(properties,commands,graphics,matrix,bounds){graphics.beginSolidFill(properties.color,properties.alpha);for(var command,numCommands=commands.length,i=0;i<numCommands;i++)"moveTo"===(command=commands[i]).name?graphics.moveTo(command.x,command.y):"lineTo"===command.name?graphics.lineTo(command.x,command.y):"curveTo"===command.name&&graphics.curveTo(command.controlX,command.controlY,command.anchorX,command.anchorY);graphics.endFill()}}))}))})),jg_import.define("jgatt.graphics.brushes.SolidStrokeBrush",(function(){jg_namespace("jgatt.graphics.brushes",(function(){var Brush=jg_import("jgatt.graphics.brushes.Brush"),ObservableProperty=jg_import("jgatt.properties.ObservableProperty"),NumberUtils=jg_import("jgatt.utils.NumberUtils");this.SolidStrokeBrush=jg_extend(Brush,(function(SolidStrokeBrush,base){this.color=new ObservableProperty("color",Number,0).writeFilter((function(value){return isNaN(value)?0:NumberUtils.minMax(Math.floor(value),0,16777215)})),this.alpha=new ObservableProperty("alpha",Number,1).writeFilter((function(value){return isNaN(value)?1:NumberUtils.minMax(value,0,1)})),this.thickness=new ObservableProperty("thickness",Number,1).writeFilter((function(value){return value>0&&value<1/0?value:1})),this.caps=new ObservableProperty("caps",String,"none").writeFilter((function(value){switch(value){case"none":case"round":case"square":return value;default:return"none"}})),this.joints=new ObservableProperty("joints",String,"miter").writeFilter((function(value){switch(value){case"miter":case"round":case"bevel":return value;default:return"miter"}})),this.miterLimit=new ObservableProperty("miterLimit",Number,10).writeFilter((function(value){return value>0&&value<1/0?value:10})),this.pixelHinting=new ObservableProperty("pixelHinting",Boolean,!0),this.constructor=function(color,alpha,thickness,caps,joints,miterLimit,pixelHinting){base.constructor.call(this),null!=color&&this.set(this.color,color),null!=alpha&&this.set(this.alpha,alpha),null!=thickness&&this.set(this.thickness,thickness),null!=caps&&this.set(this.caps,caps),null!=joints&&this.set(this.joints,joints),null!=miterLimit&&this.set(this.miterLimit,miterLimit),null!=pixelHinting&&this.set(this.pixelHinting,pixelHinting)},this.draw=function(properties,commands,graphics,matrix,bounds){graphics.setStrokeStyle(properties.thickness,properties.caps,properties.joints,properties.miterLimit,properties.pixelHinting),graphics.beginSolidStroke(properties.color,properties.alpha);for(var command,numCommands=commands.length,i=0;i<numCommands;i++)"moveTo"===(command=commands[i]).name?graphics.moveTo(command.x,command.y):"lineTo"===command.name?graphics.lineTo(command.x,command.y):"curveTo"===command.name&&graphics.curveTo(command.controlX,command.controlY,command.anchorX,command.anchorY);graphics.endStroke()}}))}))})),jg_import.define("jgatt.graphics.brushes.StretchMode",(function(){jg_namespace("jgatt.graphics.brushes",(function(){this.StretchMode=jg_static((function(StretchMode){StretchMode.NONE="none",StretchMode.FILL="fill",StretchMode.UNIFORM="uniform",StretchMode.UNIFORM_TO_FILL="uniformToFill",StretchMode.UNIFORM_TO_WIDTH="uniformToWidth",StretchMode.UNIFORM_TO_HEIGHT="uniformToHeight"}))}))})),jg_import.define("jgatt.motion.easers.Easer",(function(){jg_namespace("jgatt.motion.easers",(function(){this.Easer=jg_extend(Object,(function(Easer,base){this.direction=1,this.constructor=function(direction){this.direction=void 0!==direction?direction:1},this.ease=function(position){return this.direction>0?this.easeOverride(position):this.direction<0?1-this.easeOverride(1-position):position<.5?this.easeOverride(2*position)/2:.5+(1-this.easeOverride(2-2*position))/2},this.easeOverride=function(position){return position}}))}))})),jg_import.define("jgatt.motion.Tween",(function(){jg_namespace("jgatt.motion",(function(){var Event=jg_import("jgatt.events.Event"),EventData=jg_import("jgatt.events.EventData"),MEventTarget=jg_import("jgatt.events.MEventTarget"),Easer=jg_import("jgatt.motion.easers.Easer"),MPropertyTarget=jg_import("jgatt.properties.MPropertyTarget"),Property=jg_import("jgatt.properties.Property");this.Tween=jg_extend(Object,(function(Tween,base){base=jg_mixin(this,MEventTarget,base),base=jg_mixin(this,MPropertyTarget,base),this.begin=new Event("begin",EventData),this.end=new Event("end",EventData),this.update=new Event("update",EventData),this.easer=new Property("easer",Easer,null).onWrite((function(){this.endTween()})),this._runningEaser=null,this._isRunning=!1,this.constructor=function(easer){base.constructor.call(this),null!=easer&&this.set(this.easer,easer)},this.beginTween=function(){return this.endTween(),!!this.beginTweenOverride()&&(this._runningEaser=this.getInternal(this.easer),this._isRunning=!0,this.dispatchEvent(this.begin,new EventData),!0)},this.endTween=function(){return!!this._isRunning&&(this.endTweenOverride(),this._isRunning=!1,this.dispatchEvent(this.end,new EventData),!0)},this.updateTween=function(position){if(!this._isRunning)return!1;var easer=this._runningEaser;return easer&&(position=easer.ease(position)),!!this.updateTweenOverride(position)&&(this.dispatchEvent(this.update,new EventData),!0)},this.beginTweenOverride=function(){return!1},this.endTweenOverride=function(){},this.updateTweenOverride=function(position){return!1}}))}))})),jg_import.define("jgatt.properties.ArrayProperty",(function(){jg_namespace("jgatt.properties",(function(){var Property=jg_import("jgatt.properties.Property"),TypeUtils=jg_import("jgatt.utils.TypeUtils");this.ArrayProperty=jg_extend(Property,(function(ArrayProperty,base){this._elementType=null,this.constructor=function(name,elementType,defaultValue,readOnly){if(null==elementType)throw new Error("Parameter elementType must be non-null.");if("function"!=typeof elementType)throw new Error("Parameter elementType must be a class.");this._elementType=elementType,base.constructor.call(this,name,Array,defaultValue,readOnly)},this.elementType=function(){return this._elementType},this.assertType=function(value,message){if(null==value)return null;if(!(value instanceof Array))throw new Error(message);var elementValue,elementType=this._elementType;if(elementType===Object)return value;for(var i=0,l=value.length;i<l;i++)if(null==(elementValue=value[i])||!TypeUtils.isTypeOf(elementValue,elementType))throw new Error(message);return value}}))}))})),jg_import.define("jgatt.motion.GroupTween",(function(){jg_namespace("jgatt.motion",(function(){var Tween=jg_import("jgatt.motion.Tween"),ArrayProperty=jg_import("jgatt.properties.ArrayProperty");this.GroupTween=jg_extend(Tween,(function(GroupTween,base){this.tweens=new ArrayProperty("tweens",Tween,[]).readFilter((function(value){return value.concat()})).writeFilter((function(value){return value?value.concat():[]})).onWrite((function(){this.endTween()})),this._runningTweens=null,this.constructor=function(tweens,easer){base.constructor.call(this,easer),null!=tweens&&this.set(this.tweens,tweens)},this.beginTweenOverride=function(){for(var tween,runningTweens=[],tweens=this.getInternal(this.tweens),i=0,l=tweens.length;i<l;i++)(tween=tweens[i]).beginTween()&&runningTweens.push(tween);return 0!=runningTweens.length&&(this._runningTweens=runningTweens,!0)},this.endTweenOverride=function(){for(var runningTweens=this._runningTweens,i=0,l=runningTweens.length;i<l;i++)runningTweens[i].endTween();this._runningTweens=null},this.updateTweenOverride=function(position){for(var tween,runningTweens=this._runningTweens,numTweens=runningTweens.length,i=0;i<numTweens;i++)(tween=runningTweens[i]).updateTween(position)||(tween.endTween(),runningTweens.splice(i,1),i--,numTweens--);return runningTweens.length>0}}))}))})),jg_import.define("jgatt.motion.interpolators.Interpolator",(function(){jg_namespace("jgatt.motion.interpolators",(function(){this.Interpolator=jg_extend(Object,(function(Interpolator,base){this.interpolate=function(value1,value2,position){return position<.5?value1:value2}}))}))})),jg_import.define("jgatt.motion.interpolators.NumberInterpolator",(function(){jg_namespace("jgatt.motion.interpolators",(function(){var Interpolator=jg_import("jgatt.motion.interpolators.Interpolator"),NumberUtils=jg_import("jgatt.utils.NumberUtils");this.NumberInterpolator=jg_extend(Interpolator,(function(NumberInterpolator,base){this.snap=0,this.constructor=function(snap){this.snap=void 0!==snap?snap:0},this.interpolate=function(value1,value2,position){var number1=Number(value1),number2=Number(value2),number=NumberUtils.interpolate(number1,number2,position),snap=this.snap;return snap>0&&(number=Math.round(number/snap)*snap),number}}))}))})),jg_import.define("jgatt.motion.MethodTween",(function(){jg_namespace("jgatt.motion",(function(){var Tween=jg_import("jgatt.motion.Tween"),Interpolator=jg_import("jgatt.motion.interpolators.Interpolator"),NumberInterpolator=jg_import("jgatt.motion.interpolators.NumberInterpolator"),Property=jg_import("jgatt.properties.Property"),Dictionary=jg_import("jgatt.utils.Dictionary");this.MethodTween=jg_extend(Tween,(function(MethodTween,base){var _DEFAULT_INTERPOLATOR=new NumberInterpolator,_runningTargets=new Dictionary;this.target=new Property("target",Object,null).onWrite((function(){this.endTween()})),this.getter=new Property("getter",Function,null).onWrite((function(){this.endTween()})),this.setter=new Property("setter",Function,null).onWrite((function(){this.endTween()})),this.startValue=new Property("startValue",Object,null).onWrite((function(){this.endTween()})),this.endValue=new Property("endValue",Object,null).onWrite((function(){this.endTween()})),this.interpolator=new Property("interpolator",Interpolator,null).onWrite((function(){this.endTween()})),this._runningTarget=null,this._runningGetter=null,this._runningSetter=null,this._runningStartValue=null,this._runningEndValue=null,this._runningInterpolator=null,this.constructor=function(target,getter,setter,startValue,endValue,easer,interpolator){base.constructor.call(this,easer),null!=target&&this.set(this.target,target),null!=getter&&this.set(this.getter,getter),null!=setter&&this.set(this.setter,setter),null!=startValue&&this.set(this.startValue,startValue),null!=endValue&&this.set(this.endValue,endValue),null!=interpolator&&this.set(this.interpolator,interpolator)},this.beginTweenOverride=function(){var target=this.getInternal(this.target);if(null==target)return!1;var getter=this.getInternal(this.getter);if(null==getter)return!1;var setter=this.getInternal(this.setter);if(null==setter)return!1;var endValue=this.getInternal(this.endValue);if(null==endValue)return!1;var startValue=this.getInternal(this.startValue);if(null==startValue)try{startValue=getter.call(target)}catch(e){return!1}var interpolator=this.getInternal(this.interpolator);interpolator||(interpolator=_DEFAULT_INTERPOLATOR),this._runningTarget=target,this._runningGetter=getter,this._runningSetter=setter,this._runningStartValue=startValue,this._runningEndValue=endValue,this._runningInterpolator=interpolator;var runningSetters=_runningTargets.get(target);runningSetters||(runningSetters=_runningTargets.set(target,new Dictionary));var runningTween=runningSetters.get(setter);return runningSetters.set(setter,this),runningTween&&runningTween.endTween(),!0},this.endTweenOverride=function(){var target=this._runningTarget,setter=this._runningSetter;this._runningTarget=null,this._runningGetter=null,this._runningSetter=null,this._runningStartValue=null,this._runningEndValue=null,this._runningInterpolator=null;var runningSetters=_runningTargets.get(target);runningSetters.get(setter)===this&&(runningSetters.del(setter),runningSetters.size()>0||_runningTargets.del(target))},this.updateTweenOverride=function(position){var value=this._runningInterpolator.interpolate(this._runningStartValue,this._runningEndValue,position);try{this._runningSetter.call(this._runningTarget,value)}catch(e){return!1}return!0}}))}))})),jg_import.define("jgatt.motion.PropertyTween",(function(){jg_namespace("jgatt.motion",(function(){var Tween=jg_import("jgatt.motion.Tween"),Interpolator=jg_import("jgatt.motion.interpolators.Interpolator"),NumberInterpolator=jg_import("jgatt.motion.interpolators.NumberInterpolator"),MPropertyTarget=jg_import("jgatt.properties.MPropertyTarget"),Property=jg_import("jgatt.properties.Property"),Dictionary=jg_import("jgatt.utils.Dictionary");this.PropertyTween=jg_extend(Tween,(function(PropertyTween,base){var _DEFAULT_INTERPOLATOR=new NumberInterpolator,_runningTargets=new Dictionary;this.target=new Property("target",Object,null).writeFilter((function(value){if(null!=value&&!jg_has_mixin(value,MPropertyTarget))throw new Error("Parameter target must have the mixin jgatt.properties.MPropertyTarget.");return value})).onWrite((function(){this.endTween()})),this.property=new Property("property",Object,null).writeFilter((function(value){if(null!=value&&"string"!=typeof value&&!(value instanceof Property))throw new Error("Parameter property must be a string or an instance of jgatt.properties.Property.");return value})).onWrite((function(){this.endTween()})),this.startValue=new Property("startValue",Object,null).onWrite((function(){this.endTween()})),this.endValue=new Property("endValue",Object,null).onWrite((function(){this.endTween()})),this.interpolator=new Property("interpolator",Interpolator,null).onWrite((function(){this.endTween()})),this._runningTarget=null,this._runningProperty=null,this._runningStartValue=null,this._runningEndValue=null,this._runningInterpolator=null,this.constructor=function(target,property,startValue,endValue,easer,interpolator){base.constructor.call(this,easer),null!=target&&this.set(this.target,target),null!=property&&this.set(this.property,property),null!=startValue&&this.set(this.startValue,startValue),null!=endValue&&this.set(this.endValue,endValue),null!=interpolator&&this.set(this.interpolator,interpolator)},this.beginTweenOverride=function(){var target=this.getInternal(this.target);if(null==target)return!1;var property=this.getInternal(this.property);if(null==property)return!1;if("string"==typeof property&&!((property=target[property])instanceof Property))return!1;var endValue=this.getInternal(this.endValue);if(null==endValue)return!1;var startValue=this.getInternal(this.startValue);if(null==startValue)try{startValue=target.get(property)}catch(e){return!1}var interpolator=this.getInternal(this.interpolator);interpolator||(interpolator=_DEFAULT_INTERPOLATOR),this._runningTarget=target,this._runningProperty=property,this._runningStartValue=startValue,this._runningEndValue=endValue,this._runningInterpolator=interpolator;var runningProperties=_runningTargets.get(target);runningProperties||(runningProperties=_runningTargets.set(target,new Dictionary));var runningTween=runningProperties.get(property);return runningProperties.set(property,this),runningTween&&runningTween.endTween(),!0},this.endTweenOverride=function(){var target=this._runningTarget,property=this._runningProperty;this._runningTarget=null,this._runningProperty=null,this._runningStartValue=null,this._runningEndValue=null,this._runningInterpolator=null;var runningProperties=_runningTargets.get(target);runningProperties.get(property)===this&&(runningProperties.del(property),runningProperties.size()>0||_runningTargets.del(target))},this.updateTweenOverride=function(position){var value=this._runningInterpolator.interpolate(this._runningStartValue,this._runningEndValue,position);try{this._runningTarget.set(this._runningProperty,value)}catch(e){return!1}return!0}}))}))})),jg_import.define("jgatt.motion.TweenRunner",(function(){jg_namespace("jgatt.motion",(function(){var Tween=jg_import("jgatt.motion.Tween"),Dictionary=jg_import("jgatt.utils.Dictionary");this.TweenRunner=jg_static((function(TweenRunner){var _tweenRunInfo=new Dictionary,_tweenInterval=0,_tweenTime=0,_tweenStep=function(){var tweenTime=(new Date).getTime()/1e3,time=tweenTime-_tweenTime;time<0?time=0:time>.1&&(time=.1),_tweenTime=tweenTime;for(var runInfo,position,runInfos=_tweenRunInfo.values(),i=0,l=runInfos.length;i<l;i++)(runInfo=runInfos[i]).time+=time,(position=runInfo.time/runInfo.duration)>1&&(position=1),runInfo.tween.updateTween(position)||(position=1),1==position&&TweenRunner.stop(runInfo.tween)};TweenRunner.start=function(tween,duration){if(null==tween)throw new Error("Parameter tween must be non-null.");if(!(tween instanceof Tween))throw new Error("Parameter tween must be an instance of jgatt.motion.Tween.");if(TweenRunner.stop(tween),!tween.beginTween())return!1;if(tween.updateTween(0))if(duration>0){_tweenRunInfo.set(tween,{tween:tween,duration:duration,time:0});1==_tweenRunInfo.size()&&(_tweenInterval=setInterval(_tweenStep,1e3/30),_tweenTime=(new Date).getTime()/1e3)}else tween.updateTween(1),tween.endTween();else tween.endTween();return!0},TweenRunner.stop=function(tween){if(null==tween)throw new Error("Parameter tween must be non-null.");if(!(tween instanceof Tween))throw new Error("Parameter tween must be an instance of jgatt.motion.Tween.");return!!_tweenRunInfo.get(tween)&&(_tweenRunInfo.del(tween),0==_tweenRunInfo.size()&&clearInterval(_tweenInterval),tween.endTween(),!0)}}))}))})),jg_import.define("jgatt.motion.easers.CubicEaser",(function(){jg_namespace("jgatt.motion.easers",(function(){var Easer=jg_import("jgatt.motion.easers.Easer");this.CubicEaser=jg_extend(Easer,(function(CubicEaser,base){this.constructor=function(direction){base.constructor.call(this,direction)},this.easeOverride=function(position){return position*position*position}}))}))})),jg_import.define("jgatt.motion.easers.EaseDirection",(function(){jg_namespace("jgatt.motion.easers",(function(){this.EaseDirection=jg_static((function(EaseDirection){EaseDirection.IN=1,EaseDirection.OUT=-1,EaseDirection.IN_OUT=0}))}))})),jg_import.define("jgatt.utils.Comparator",(function(){jg_namespace("jgatt.utils",(function(){this.Comparator=jg_extend(Object,(function(Comparator,base){this.compare=function(value1,value2){return 0}}))}))})),jg_import.define("jgatt.utils.AlphabeticComparator",(function(){jg_namespace("jgatt.utils",(function(){var Comparator=jg_import("jgatt.utils.Comparator");this.AlphabeticComparator=jg_extend(Comparator,(function(AlphabeticComparator,base){this.compare=function(value1,value2){var str1=String(value1).toLowerCase(),str2=String(value2).toLowerCase();return str1<str2?-1:str1>str2?1:0}}))}))})),jg_import.define("jgatt.utils.NaturalComparator",(function(){jg_namespace("jgatt.utils",(function(){var Comparator=jg_import("jgatt.utils.Comparator");this.NaturalComparator=jg_extend(Comparator,(function(NaturalComparator,base){this.compare=function(value1,value2){return value1<value2?-1:value1>value2?1:0}}))}))})),jg_import.define("jgatt.utils.ArrayUtils",(function(){jg_namespace("jgatt.utils",(function(){var Comparator=jg_import("jgatt.utils.Comparator"),NaturalComparator=jg_import("jgatt.utils.NaturalComparator");this.ArrayUtils=jg_static((function(ArrayUtils){var _NATURAL_COMPARATOR=new NaturalComparator;ArrayUtils.indexOf=function(a,value){if(null==a)throw new Error("Parameter a must be non-null.");if(!(a instanceof Array))throw new Error("Parameter a must be an array.");for(var i=0,l=a.length;i<l;i++)if(a[i]===value)return i;return-1},ArrayUtils.lastIndexOf=function(a,value){if(null==a)throw new Error("Parameter a must be non-null.");if(!(a instanceof Array))throw new Error("Parameter a must be an array.");for(var i=a.length-1;i>=0;i--)if(a[i]===value)return i;return-1},ArrayUtils.sort=function(a,comparator){if(null==a)throw new Error("Parameter a must be non-null.");if(!(a instanceof Array))throw new Error("Parameter a must be an array.");if(null!=comparator&&!(comparator instanceof Comparator))throw new Error("Parameter comparator must be an instance of jgatt.utils.Comparator.");comparator||(comparator=_NATURAL_COMPARATOR);a.sort((function(value1,value2){return comparator.compare(value1,value2)}))},ArrayUtils.binarySearch=function(a,value,comparator){if(null==a)throw new Error("Parameter a must be non-null.");if(!(a instanceof Array))throw new Error("Parameter a must be an array.");if(null!=comparator&&!(comparator instanceof Comparator))throw new Error("Parameter comparator must be an instance of jgatt.utils.Comparator.");var high=a.length-1;if(high<0)return-1;comparator||(comparator=_NATURAL_COMPARATOR);for(var mid,comp,low=0;low<=high;)if(mid=low+Math.floor((high-low)/2),(comp=comparator.compare(value,a[mid]))<0)high=mid-1;else{if(!(comp>0))return mid;low=mid+1}return-low-1}}))}))})),jg_import.define("jgatt.utils.FunctionComparator",(function(){jg_namespace("jgatt.utils",(function(){var Comparator=jg_import("jgatt.utils.Comparator");this.FunctionComparator=jg_extend(Comparator,(function(FunctionComparator,base){this._f=null,this.constructor=function(f){if(null==f)throw new Error("Parameter f must be non-null.");if("function"!=typeof f)throw new Error("Parameter f must be a function.");this._f=f},this.compare=function(value1,value2){return this._f(value1,value2)}}))}))})),jg_import.define("jgatt.utils.GroupComparator",(function(){jg_namespace("jgatt.utils",(function(){var Comparator=jg_import("jgatt.utils.Comparator");this.GroupComparator=jg_extend(Comparator,(function(GroupComparator,base){this._comparators=null,this.constructor=function(comparators){if(null==comparators)throw new Error("Parameter comparators must be non-null.");if(!(comparators instanceof Array))throw new Error("Parameter comparators must be an array.");for(var comparator,comparatorsCopy=[],i=0,l=comparators.length;i<l;i++)if(null!=(comparator=comparators[i])){if(!(comparator instanceof Comparator))throw new Error("Parameter comparators must be an array containing only instances of jgatt.utils.Comparator.");comparatorsCopy.push(comparator)}this._comparators=comparatorsCopy},this.compare=function(value1,value2){for(var result,comparators=this._comparators,i=0,l=comparators.length;i<l;i++)if(0!=(result=comparators[i].compare(value1,value2)))return result;return 0}}))}))})),jg_import.define("jgatt.utils.NumericComparator",(function(){jg_namespace("jgatt.utils",(function(){var Comparator=jg_import("jgatt.utils.Comparator"),NumberUtils=jg_import("jgatt.utils.NumberUtils");this.NumericComparator=jg_extend(Comparator,(function(NumericComparator,base){this.compare=function(value1,value2){var num1=NumberUtils.parseNumber(value1),num2=NumberUtils.parseNumber(value2);return num1<num2?-1:num1>num2?1:0}}))}))})),jg_import.define("jgatt.utils.PropertyComparator",(function(){jg_namespace("jgatt.utils",(function(){var MPropertyTarget=jg_import("jgatt.properties.MPropertyTarget"),Property=jg_import("jgatt.properties.Property"),Comparator=jg_import("jgatt.utils.Comparator"),NaturalComparator=jg_import("jgatt.utils.NaturalComparator");this.PropertyComparator=jg_extend(Comparator,(function(PropertyComparator,base){var _getValue=function(target,property){if(null!=target){if("string"==typeof property){var value=target[property];if(!(value instanceof Property))return value;property=value}return jg_has_mixin(target,MPropertyTarget)?target.get(property):void 0}};this._property=null,this._comparator=null,this.constructor=function(property,comparator){if(null==property)throw new Error("Parameter property must be non-null.");if("string"!=typeof property&&!(property instanceof Property))throw new Error("Parameter property must be a string or an instance of jgatt.properties.Property.");if(null!=comparator&&!(comparator instanceof Comparator))throw new Error("Parameter comparator must be an instance of jgatt.utils.Comparator.");this._property=property,this._comparator=comparator||new NaturalComparator},this.compare=function(value1,value2){var property=this._property;return value1=_getValue(value1,property),value2=_getValue(value2,property),this._comparator.compare(value1,value2)}}))}))})),jg_import.define("jgatt.utils.ReverseComparator",(function(){jg_namespace("jgatt.utils",(function(){var Comparator=jg_import("jgatt.utils.Comparator"),NaturalComparator=jg_import("jgatt.utils.NaturalComparator");this.ReverseComparator=jg_extend(Comparator,(function(ReverseComparator,base){this._comparator=null,this.constructor=function(comparator){if(null!=comparator&&!(comparator instanceof Comparator))throw new Error("Parameter comparator must be an instance of jgatt.utils.Comparator.");this._comparator=comparator||new NaturalComparator},this.compare=function(value1,value2){return-this._comparator.compare(value1,value2)}}))}))})),jg_import.define("jgatt.utils.SequentialNumericComparator",(function(){jg_namespace("jgatt.utils",(function(){var Comparator=jg_import("jgatt.utils.Comparator");this.SequentialNumericComparator=jg_extend(Comparator,(function(SequentialNumericComparator,base){var _NUMERIC_PATTERN=/\d+/g;this.compare=function(value1,value2){for(var num1,num2,str1=String(value1),str2=String(value2),arr1=str1.match(_NUMERIC_PATTERN),arr2=str2.match(_NUMERIC_PATTERN),len1=arr1.length,len2=arr2.length,len=len1<len2?len1:len2,i=0;i<len;i++){if((num1=Number(arr1[i]))<(num2=Number(arr2[i])))return-1;if(num1>num2)return 1}return len1<len2?-1:len1>len2?1:0}}))}))})),jg_import.define("jgatt.utils.StringUtils",(function(){jg_namespace("jgatt.utils",(function(){this.StringUtils=jg_static((function(StringUtils){StringUtils.escapeHTML=function(str){return null==str?str:(str=String(str)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}))}))})),jg_import.define("jgatt.validation.ValidateEventData",(function(){jg_namespace("jgatt.validation",(function(){var EventData=jg_import("jgatt.events.EventData");this.ValidateEventData=jg_extend(EventData,(function(ValidateEventData,base){this.pass=null,this.constructor=function(pass){this.pass=pass}}))}))})),jg_import.define("jgatt.validation.ValidatePass",(function(){jg_namespace("jgatt.validation",(function(ns){var ChainedEvent=jg_import("jgatt.events.ChainedEvent"),Event=jg_import("jgatt.events.Event"),Comparator=jg_import("jgatt.utils.Comparator"),ValidateEventData=jg_import("jgatt.validation.ValidateEventData");this.ValidatePass=jg_extend(Object,(function(ValidatePass,base){this.invalidated=null,this.validated=null,this._methodName=null,this._priority=0,this._targetComparator=null,this.constructor=function(methodName,priority,targetComparator){if(null==methodName)throw new Error("Parameter methodName must be non-null.");if("string"!=typeof methodName)throw new Error("Parameter methodName must be a string.");if(null==priority)throw new Error("Parameter priority must be non-null.");if("number"!=typeof priority)throw new Error("Parameter priority must be a number.");if(isNaN(priority))throw new Error("Parameter priority must be a valid number.");if(null!=targetComparator&&!(targetComparator instanceof Comparator))throw new Error("Parameter targetComparator must be an instance of jgatt.utils.Comparator.");this._methodName=methodName,this._priority=priority,this._targetComparator=targetComparator||null,this.invalidated=ns.MValidateTarget?new ChainedEvent("invalidated",ns.MValidateTarget.invalidated):new Event("invalidated",ValidateEventData),this.validated=ns.MValidateTarget?new ChainedEvent("validated",ns.MValidateTarget.validated):new Event("validated",ValidateEventData)},this.methodName=function(){return this._methodName},this.priority=function(){return this._priority},this.targetComparator=function(){return this._targetComparator}}))}))})),jg_import.define("jgatt.validation.ValidateQueue",(function(){jg_namespace("jgatt.validation",(function(){var ArrayUtils=jg_import("jgatt.utils.ArrayUtils"),Dictionary=jg_import("jgatt.utils.Dictionary"),ErrorUtils=jg_import("jgatt.utils.ErrorUtils");this.ValidateQueue=jg_static((function(ValidateQueue){var _passesMap=new Dictionary,_passesList=[],_validateInterval=0,_validateIndex=-1,_isValidating=!1;ValidateQueue.enqueue=function(target,pass){var targetsMap=_passesMap.get(pass);if(!targetsMap){targetsMap=_passesMap.set(pass,new Dictionary);for(var passPriority=pass.priority(),passAdded=!1,i=0,l=_passesList.length;i<l;i++)if(passPriority<_passesList[i].priority()){_passesList.splice(i,0,pass),i<=_validateIndex&&_validateIndex++,passAdded=!0;break}passAdded||_passesList.push(pass),_validateInterval||(_validateInterval=setInterval(ValidateQueue.validateAll,1))}targetsMap.set(target,!0)},ValidateQueue.dequeue=function(target,pass){var targetsMap=_passesMap.get(pass);targetsMap&&targetsMap.del(target)},ValidateQueue.contains=function(target,pass){var targetsMap=_passesMap.get(pass);return!!targetsMap&&targetsMap.has(target)},ValidateQueue.validateAll=function(){if(_isValidating)return!1;try{var targetsMap,targetsList,targetComparator,pass,i,l;for(_isValidating=!0,_validateIndex=0;_validateIndex<_passesList.length;_validateIndex++)for(pass=_passesList[_validateIndex],targetsList=(targetsMap=_passesMap.get(pass)).keys(),(targetComparator=pass.targetComparator())&&ArrayUtils.sort(targetsList,targetComparator),i=0,l=targetsList.length;i<l;i++)try{targetsList[i].validate(pass)}catch(e){ErrorUtils.asyncThrow(e)}for(_validateIndex=-1,i=_passesList.length-1;i>=0;i--)pass=_passesList[i],(targetsMap=_passesMap.get(pass))&&0!=targetsMap.size()||(_passesMap.del(pass),_passesList.splice(i,1));0==_passesList.length&&(clearInterval(_validateInterval),_validateInterval=0)}catch(e){throw clearInterval(_validateInterval),_validateInterval=0,e}finally{_isValidating=!1}return!0},ValidateQueue.isValidating=function(){return _isValidating}}))}))})),jg_import.define("jgatt.validation.MValidateTarget",(function(){jg_namespace("jgatt.validation",(function(){var Event=jg_import("jgatt.events.Event"),MEventTarget=jg_import("jgatt.events.MEventTarget"),Dictionary=jg_import("jgatt.utils.Dictionary"),ErrorUtils=jg_import("jgatt.utils.ErrorUtils"),ValidateEventData=jg_import("jgatt.validation.ValidateEventData"),ValidatePass=jg_import("jgatt.validation.ValidatePass"),ValidateQueue=jg_import("jgatt.validation.ValidateQueue");this.MValidateTarget=jg_static((function(MValidateTarget){this.mixin=function(base){base=jg_mixin(this,MEventTarget,base)};var _resolvePass=function(target,pass){if(null==pass)throw new Error("Parameter pass must be non-null.");if(pass instanceof ValidatePass)return pass;if("string"!=typeof pass)throw new Error("Parameter pass must be a string or an instance of jgatt.validation.ValidatePass.");var targetPass=target[pass];if(!(targetPass instanceof ValidatePass))throw new Error('Unknown pass "'+pass+'".');return targetPass},_passComparator=function(pass1,pass2){var priority1=pass1.priority(),priority2=pass2.priority();return priority1<priority2?-1:priority1>priority2?1:0},_batchValidate=function(target,endPass){if(target._batchValidateList)return!1;var invalidPasses=target._invalidPasses;if(0==invalidPasses.size())return!1;var result=!1;try{target._batchValidateEndPass=endPass;var pass,i,passesList=target._batchValidateList=invalidPasses.keys();if(endPass){var endPassPriority=endPass.priority();for(i=passesList.length-1;i>=0;i--)(pass=passesList[i]).priority()>=endPassPriority&&passesList.splice(i,1)}for(passesList.sort(_passComparator),i=target._batchValidateIndex=0;i<passesList.length;){if(pass=passesList[i],invalidPasses.has(pass))try{result=target.validate(pass)||result}catch(e){ErrorUtils.asyncThrow(e)}i=++target._batchValidateIndex}}finally{target._batchValidateList=null,target._batchValidateIndex=-1,target._batchValidateEndPass=null}return result};this.invalidated=new Event("invalidated",ValidateEventData),this.validated=new Event("validated",ValidateEventData),this._invalidPasses=null,this._validatingPasses=null,this._batchValidateList=null,this._batchValidateIndex=-1,this._batchValidateEndPass=null,this.constructor=function(){this._invalidPasses=new Dictionary,this._validatingPasses=new Dictionary},this.invalidate=function(pass){if(pass=_resolvePass(this,pass),this._invalidPasses.has(pass))return!1;if(this._batchValidateList){var passPriority=pass.priority(),pass2=this._batchValidateEndPass;if(!pass2||passPriority<pass2.priority()){for(var passesList=this._batchValidateList,validateIndex=this._batchValidateIndex,needsAppend=!0,i=validateIndex,l=passesList.length;i<l;i++)if(passPriority<(pass2=passesList[i]).priority()){i>validateIndex&&passesList.splice(i,0,pass),needsAppend=!1;break}needsAppend&&passesList.push(pass)}}return this._invalidPasses.set(pass,!0),ValidateQueue.enqueue(this,pass),this.dispatchEvent(pass.invalidated,new ValidateEventData(pass)),!0},this.validate=function(pass){if(null==pass)return _batchValidate(this);if(pass=_resolvePass(this,pass),this._validatingPasses.has(pass))return!1;if(this.validatePreceding(pass),!this._invalidPasses.has(pass))return!1;this._validatingPasses.set(pass,!0);var result=!1;try{var methodName=pass.methodName(),method=this[methodName];if("function"!=typeof method)throw new Error('Unknown method "'+methodName+'".');method.call(this),result=!0}catch(e){ErrorUtils.asyncThrow(e)}return this.setValid(pass),result},this.validatePreceding=function(pass){return pass=_resolvePass(this,pass),!ValidateQueue.isValidating()&&!this._batchValidateList&&_batchValidate(this,pass)},this.setValid=function(pass){if(null==pass){var passesList=this._invalidPasses.keys();passesList.sort(_passComparator);for(var result=!1,i=0,l=passesList.length;i<l;i++)pass=passesList[i],invalidPasses.has(pass)&&(result=this.setValid(pass)||result);return result}return pass=_resolvePass(this,pass),!!this._invalidPasses.has(pass)&&(this._invalidPasses.del(pass),this._validatingPasses.del(pass),ValidateQueue.dequeue(this,pass),this.dispatchEvent(pass.validated,new ValidateEventData(pass)),!0)},this.isValid=function(pass){return null==pass?0==this._invalidPasses.size():(pass=_resolvePass(this,pass),!this._invalidPasses.has(pass))}}))}))}))},"contrib/jquery.cookie":function(module,exports){jQuery.cookie=function(name,value,options){if(void 0===value){var cookieValue=null;if(document.cookie&&""!=document.cookie)for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==name+"="){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break}}return cookieValue}options=options||{},null===value&&(value="",options.expires=-1);var date,expires="";options.expires&&("number"==typeof options.expires||options.expires.toUTCString)&&("number"==typeof options.expires?(date=new Date).setTime(date.getTime()+24*options.expires*60*60*1e3):date=options.expires,expires="; expires="+date.toUTCString());var path=options.path?"; path="+options.path:"",domain=options.domain?"; domain="+options.domain:"",secure=options.secure?"; secure":"";document.cookie=[name,"=",encodeURIComponent(value),expires,path,domain,secure].join("")}},"contrib/lowpro_for_jquery":function(module,exports){!function($){var addMethods=function(source){var ancestor=this.superclass&&this.superclass.prototype,properties=$.keys(source);$.keys({toString:!0}).length||properties.push("toString","valueOf");for(var i=0,length=properties.length;i<length;i++){var property=properties[i],value=source[property];if(ancestor&&$.isFunction(value)&&"$super"==$.argumentNames(value)[0]){var method=value;value=$.extend($.wrap(function(m){return function(){return ancestor[m].apply(this,arguments)}}(property),method),{valueOf:function(){return method},toString:function(){return method.toString()}})}this.prototype[property]=value}return this};$.extend({keys:function(obj){var keys=[];for(var key in obj)keys.push(key);return keys},argumentNames:function(func){var names=func.toString().match(/^[\s\(]*function[^(]*\((.*?)\)/)[1].split(/, ?/);return 1!=names.length||names[0]?names:[]},bind:function(func,scope){return function(){return func.apply(scope,$.makeArray(arguments))}},wrap:function(func,wrapper){var __method=func;return function(){return wrapper.apply(this,[$.bind(__method,this)].concat($.makeArray(arguments)))}},klass:function(){var parent=null,properties=$.makeArray(arguments);$.isFunction(properties[0])&&(parent=properties.shift());var klass=function(){this.initialize.apply(this,arguments)};if(klass.superclass=parent,klass.subclasses=[],klass.addMethods=addMethods,parent){var subclass=function(){};subclass.prototype=parent.prototype,klass.prototype=new subclass,parent.subclasses.push(klass)}for(var i=0;i<properties.length;i++)klass.addMethods(properties[i]);return klass.prototype.initialize||(klass.prototype.initialize=function(){}),klass.prototype.constructor=klass,klass}});var attachBehavior=function(el,behavior,args){var wrapper=function(behavior){return $.klass(behavior,{initialize:function($super,element,args){this.element=$(element),$super&&$super.apply(this,args)}})}(behavior);return instance=new wrapper(el,args),function(instance){for(var member in instance)member.match(/^on(.+)/)&&"function"==typeof instance[member]&&instance.element.bind(RegExp.$1,$.bind(instance[member],instance))}(instance),behavior.instances||(behavior.instances=[]),behavior.instances.push(instance),instance};$.fn.extend({attach:function(){var args=$.makeArray(arguments),behavior=args.shift();return $.livequery&&this.selector?this.livequery((function(){attachBehavior(this,behavior,args)})):this.each((function(){attachBehavior(this,behavior,args)}))},attachAndReturn:function(){var args=$.makeArray(arguments),behavior=args.shift();return $.map(this,(function(el){return attachBehavior(el,behavior,args)}))},attached:function(behavior){var instances=[];return behavior.instances?(this.each((function(i,element){$.each(behavior.instances,(function(i,instance){instance.element.get(0)==element&&instances.push(instance)}))})),instances):instances},firstAttached:function(behavior){return this.attached(behavior)[0]}});var Remote=$.klass({initialize:function(options){"FORM"==this.element.attr("nodeName")?this.element.attach(Remote.Form,options):this.element.attach(Remote.Link,options)}});Remote.Base=$.klass({initialize:function(options){this.options=$.extend({},options||{})},_makeRequest:function(options){return $.ajax(options),!1}}),Remote.Link=$.klass(Remote.Base,{onclick:function(){var options=$.extend({url:this.element.attr("href"),type:"GET"},this.options);return this._makeRequest(options)}}),Remote.Form=$.klass(Remote.Base,{onclick:function(e){var target=e.target;$.inArray(target.nodeName.toLowerCase(),["input","button"])>=0&&target.type.match(/submit|image/)&&(this._submitButton=target)},onsubmit:function(){var data=this.element.serializeArray();this._submitButton&&data.push({name:this._submitButton.name,value:this._submitButton.value});var options=$.extend({url:this.element.attr("action"),type:this.element.attr("method")||"GET",data:data},this.options);return this._makeRequest(options),!1}}),$.ajaxSetup({beforeSend:function(xhr){xhr.setRequestHeader("Accept","text/javascript, text/html, application/xml, text/xml, */*")}})}(jQuery)},"contrib/strftime":function(module,exports){Number.prototype.pad=function(n,p){var s=""+this;for(p=p||"0";s.length<n;)s=p+s;return s},Date.prototype.months=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.prototype.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.prototype.dpm=[31,28,31,30,31,30,31,31,30,31,30,31],Date.prototype.strftime_f={A:function(d){return d.weekdays[d.getDay()]},a:function(d){return d.weekdays[d.getDay()].substring(0,3)},B:function(d){return d.months[d.getMonth()]},b:function(d){return d.months[d.getMonth()].substring(0,3)},C:function(d){return Math.floor(d.getFullYear()/100)},c:function(d){return d.toString()},D:function(d){return d.strftime_f.m(d)+"/"+d.strftime_f.d(d)+"/"+d.strftime_f.y(d)},d:function(d){return d.getDate().pad(2,"0")},e:function(d){return d.getDate()},F:function(d){return d.strftime_f.Y(d)+"-"+d.strftime_f.m(d)+"-"+d.strftime_f.d(d)},H:function(d){return d.getHours().pad(2,"0")},I:function(d){return(d.getHours()%12||12).pad(2)},j:function(d){var t=d.getDate(),m=d.getMonth()-1;if(m>1){var y=d.getYear();(y%100==0&&y%400==0||y%4==0)&&++t}for(;m>-1;)t+=d.dpm[m--];return t.pad(3,"0")},k:function(d){return d.getHours().pad(2," ")},l:function(d){return d.getHours()%12||12},M:function(d){return d.getMinutes().pad(2,"0")},m:function(d){return(d.getMonth()+1).pad(2,"0")},n:function(d){return"\n"},p:function(d){return d.getHours()>11?"PM":"AM"},Q:function(d){return 0==d.getMilliseconds()?"000":d.getMilliseconds().pad(3,"0")},R:function(d){return d.strftime_f.H(d)+":"+d.strftime_f.M(d)},r:function(d){return d.strftime_f.I(d)+":"+d.strftime_f.M(d)+":"+d.strftime_f.S(d)+" "+d.strftime_f.p(d)},S:function(d){return d.getSeconds().pad(2,"0")},s:function(d){return Math.floor(d.getTime()/1e3)},T:function(d){return d.strftime_f.H(d)+":"+d.strftime_f.M(d)+":"+d.strftime_f.S(d)},t:function(d){return"\t"},u:function(d){return d.getDay()||7},v:function(d){return d.strftime_f.e(d)+"-"+d.strftime_f.b(d)+"-"+d.strftime_f.Y(d)},w:function(d){return d.getDay()},X:function(d){return d.toTimeString()},x:function(d){return d.toDateString()},Y:function(d){return d.getFullYear()},y:function(d){return(d.getYear()%100).pad(2)},z:function(d){return""},Z:function(d){return""},"%":function(d){return"%"}},Date.prototype.strftime_f["+"]=Date.prototype.strftime_f.c,Date.prototype.strftime_f.h=Date.prototype.strftime_f.b,Date.prototype.strftime=function(fmt){var rv;if(rv=this[fmt])return rv;for(var r=[],n=0;n<fmt.length;){var c=fmt.charAt(n);"%"==c?(c=fmt.charAt(++n),r.push(this.strftime_f[c]?this.strftime_f[c](this):c)):r.push(c),++n}return this[fmt]=r.join("")}},legend:function(module,exports){Splunk.Legend={_numLabels:0,_targetMap:{},_targetList:[],_labelMap:{},_labelList:[],_isLabelMapValid:!0,_timeoutID:0,_listeners:{},numLabels:function(){return this._validateLabelMap(),this._numLabels},register:function(id){if(null==id)throw new Error("Parameter id must be non-null.");var targetData=this._getOwn(this._targetMap,id);targetData||(targetData={id:id,labels:null,sortIndex:+id.match(/\d+/g).join("")},this._targetMap[id]=targetData,this._targetList.push(targetData),this._targetList.sort((function(a,b){return a.sortIndex-b.sortIndex})))},unregister:function(id){var targetData=this._getOwn(this._targetMap,id);if(targetData){for(var i=this._targetList.length-1;i>=0;i--)if(this._targetList[i]===targetData){this._targetList.splice(i,1);break}delete this._targetMap[id],this._invalidateLabelMap()}},setLabels:function(id,labels){var targetData=this._getOwn(this._targetMap,id);targetData&&(targetData.labels=labels?labels.concat():null,this._invalidateLabelMap())},getLabelIndex:function(label){this._validateLabelMap();var index=this._getOwn(this._labelMap,label);return null!=index?index:-1},getLabelAt:function(index){return this._validateLabelMap(),(index=Math.floor(index))>=0&&index<this._labelList.length?this._labelList[index]:null},addEventListener:function(event,closure){var listeners=this._getOwn(this._listeners,event);listeners||(listeners=this._listeners[event]=[]);for(var numListeners=listeners.length,i=0;i<numListeners;i++)if(listeners[i]===closure)return;listeners.push(closure)},removeEventListener:function(event,closure){var listeners=this._getOwn(this._listeners,event);if(listeners)for(var numListeners=listeners.length,i=0;i<numListeners;i++)if(listeners[i]===closure)return void listeners.splice(i,1)},dispatchEvent:function(event){var listeners=this._getOwn(this._listeners,event);if(listeners){var i;listeners=listeners.concat();var eventParams=[],numArguments=arguments.length;for(i=1;i<numArguments;i++)eventParams.push(arguments[i]);var closure,numListeners=listeners.length;for(i=0;i<numListeners;i++){closure=listeners[i];try{closure.apply(null,eventParams)}catch(e){}}}},_invalidateLabelMap:function(){if(this._isLabelMapValid){this._isLabelMapValid=!1;var self=this;this._timeoutID=setTimeout((function(){self._validateLabelMap()}),0)}},_validateLabelMap:function(){this._isLabelMapValid||(this._updateLabelMap(),this._isLabelMapValid=!0,clearTimeout(this._timeoutID))},_updateLabelMap:function(){var targetLabels,targetLabelsLength,targetLabel,numLabels,i,j,currentLabelList=this._labelList,changed=!1,labelMap={},labelList=[],targetList=this._targetList,targetListLength=targetList.length;for(i=0;i<targetListLength;i++)if(targetLabels=targetList[i].labels)for(targetLabelsLength=targetLabels.length,j=0;j<targetLabelsLength;j++)targetLabel=targetLabels[j],null==this._getOwn(labelMap,targetLabel)&&(labelMap[targetLabel]=labelList.length,labelList.push(targetLabel));if((numLabels=labelList.length)!==currentLabelList.length)changed=!0;else for(i=0;i<numLabels;i++)if(labelList[i]!==currentLabelList[i]){changed=!0;break}changed&&(this._labelMap=labelMap,this._labelList=labelList,this._numLabels=numLabels,this.dispatchEvent("labelIndexMapChanged"))},_getOwn:function(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)?obj[key]:void 0}}},logger:function(module,exports){!function(global){Splunk.namespace("Splunk.Logger"),Splunk.Logger.getLogger=function(fileName,mode){var self;mode=mode||Splunk.Logger.mode.Default;try{self=new mode(fileName)}catch(err){throw self=this,new Error("Splunk.Logger mode is undefined, not callable or thrown an exception. mode="+mode+" and fileName="+fileName+". Check to make sure the mode you are defining exist (see: web.conf js_logger_mode) and is a proper closure. Stack trace:"+err)}return self},Splunk.Logger.hasConsole=function(){return"undefined"!=typeof console},Splunk.Logger.mode={},Splunk.Logger.mode.None=function(){this.info=this.log=this.debug=this.warn=this.error=this.trace=function(){}},Splunk.Logger.mode.Firebug=Splunk.Logger.mode.None,Splunk.Logger.mode.Server=function(fileName){var buffer=Splunk.Logger.mode.Server.Buffer.getInstance(),bufferPush=function(args,level){args=args||[];for(var i=0;i<args.length;i++)if("object"==typeof args[i])try{args[i]=JSON.stringify(args[i])}catch(e){}var message=Array.apply(null,args).join(" "),data={level:level,class:fileName,message:message};buffer.push(data)};this.info=function(){bufferPush(arguments,"info")},this.log=function(){bufferPush(arguments,"log")},this.debug=function(){bufferPush(arguments,"debug")},this.warn=function(){bufferPush(arguments,"warn")},this.error=function(){bufferPush(arguments,"error")},this.trace=function(){var trace="";try{trace=(new Error).stack.replace(/^Error/,"")}catch(e){}trace&&bufferPush([trace],"debug")}},Splunk.Logger.mode.Server.Buffer=function(){var self=this,buffer=[],purge=function(){var data;data=JSON.stringify(buffer),$.post(Splunk.Logger.mode.Server.END_POINT,{data:data}),buffer=[]};self.push=function(str){buffer.push(str),buffer.length>Splunk.Logger.mode.Server.MAX_BUFFER&&purge()},self.poller=function(){buffer.length>0&&purge()},self.size=function(){return buffer.length},self.Buffer=void setInterval(self.poller,Splunk.Logger.mode.Server.POLL_BUFFER)},Splunk.Logger.mode.Server.Buffer.instance=null,Splunk.Logger.mode.Server.Buffer.getInstance=function(){return null==Splunk.Logger.mode.Server.Buffer.instance&&(Splunk.Logger.mode.Server.Buffer.instance=new Splunk.Logger.mode.Server.Buffer),Splunk.Logger.mode.Server.Buffer.instance},Splunk.Logger.mode.Server.END_POINT=Splunk.util.make_url(Splunk.util.getConfigValue("JS_LOGGER_MODE_SERVER_END_POINT","util/log/js")),Splunk.Logger.mode.Server.POLL_BUFFER=Splunk.util.getConfigValue("JS_LOGGER_MODE_SERVER_POLL_BUFFER",1e3),Splunk.Logger.mode.Server.MAX_BUFFER=Splunk.util.getConfigValue("JS_LOGGER_MODE_SERVER_MAX_BUFFER",100),Splunk.Logger.mode.Default=Splunk.Logger.mode[Splunk.util.getConfigValue("JS_LOGGER_MODE","None")],Splunk.log=function(msg,category,src){Splunk.Logger.getLogger("logger.js").warn("WARNING! Splunk.log is now deprecated. See Splunk.Logger class for more details.","Original Message:",msg," Original Category:",category,"Original Source:",src)};var D=global.D={};D.logger=Splunk.Logger.getLogger("logger.js"),D.wrapper=function(str,level){D.logger.warn("WARNING! D.",level,"is now deprecated. See Splunk.Logger class for more details.",str)},D.debug=function(str){D.wrapper(str,"debug")},D.error=function(str){D.wrapper(str,"error")},D.warn=function(str){D.wrapper(str,"warn")},Splunk.util.logger=Splunk.Logger.getLogger("util.js")}(this)},messenger:function(module,exports){Splunk.namespace("Splunk.Messenger"),Splunk.Messenger.Bus=$.klass({DATE_FORMAT:"%Y-%m-%dT%H:%M:%S",MAX_SUBJECTS_BUFFER:100,MAX_OBSERVERS_BUFFER:200,initialize:function(){this.count=1,this.id=0,this.logger=Splunk.Logger.getLogger("Splunk.Messenger.Bus"),this.observers=[],this.subjects=[],$(window).bind("unload",this.gc.bind(this))},createObserver:function(filter,sort,callback,negate,cancel){return filter.control=!filter.hasOwnProperty("control")||filter.control,{filter:filter,sort:sort,callback:callback,negate:negate,cancel:cancel}},createSubject:function(level,content,className,date,id,control){return{level:level,control:control,content:content,className:className,date:date,id:id}},filter:function(arrayOfObjects,kv){var included=[],excluded=[];for(i=0;i<arrayOfObjects.length;i++){var object=arrayOfObjects[i],match=!0;for(var k in kv)if(!kv.hasOwnProperty(k)||!object.hasOwnProperty(k)||void 0===object[k]||("control"!=k||!kv[kv]&&object[k])&&(kv[k]instanceof RegExp?-1==object[k].search(kv[k]):kv[k]!=object[k])){match=!1;break}match?included.push(object):excluded.push(object)}return{included:included,excluded:excluded}},gc:function(){this.observers=[]},getEmptySubject:function(){return this.createSubject("","","","","",!1)},getUniqueId:function(){this.id++;for(var paddingLength=[this.MAX_OBSERVERS_BUFFER].join("").length+1,zeropad=[this.id,""].join("");zeropad.length<paddingLength;)zeropad=["0",zeropad].join("");return zeropad},getSubjects:function(del,filter,sort,negate){negate=arguments[3]||!1;var filtered=filter&&this.hasSubjectProperty(filter)?this.filter(this.subjects,filter):{included:this.subjects.concat([]),excluded:[]},included=negate?filtered.excluded:filtered.included,excluded=negate?filtered.included:filtered.excluded;return del&&(this.subjects=excluded),sort&&sort.length>0?this.sort(included,sort):included},getSubjectLength:function(filter){var negate=arguments[1]||!1;return this.getSubjects(!1,filter,null,negate).length},hasSubjectProperty:function(object){for(var property in object)if(this.isValidSubjectProperty(property))return!0;return!1},isValidSubject:function(object){var subject=this.getEmptySubject();for(var property in subject)if(subject.hasOwnProperty(property)&&!object.hasOwnProperty(property))return!1;return!0},isValidSubjectProperty:function(property){return!!this.getEmptySubject().hasOwnProperty(property)},notify:function(observers){var observer;observers=observers.concat([]).sort(this.observerNotifySortby.bind(this));for(var j=0;j<observers.length;j++){observer=observers[j];for(var subjects=this.getSubjects(observer.cancel,observer.filter,observer.sort,observer.negate),k=0;k<subjects.length;k++){var subject=subjects[k];this.logger.info(subject);try{observer.callback(subject)}catch(e){}}}for(var l=0;l<observers.length;l++)observer=observers[l],this.getSubjects(!0,observer.filter,null,observer.negate)},observerNotifySortby:function(a,b){return 0},receive:function(filter,sort,callback,negate,cancel){var observer=this.createObserver(filter,sort,callback,negate,cancel);this.observers.length>=this.MAX_OBSERVERS_BUFFER&&(this.logger.warn("observers length exceeds MAX_OBSERVERS_BUFFER constraint of",this.MAX_OBSERVERS_BUFFER,"dropping earliest item."),this.observers.shift()),this.observers.push(observer),this.notify([observer])},send:function(level,content,className,id,date,control){date=date||(new Date).strftime(this.DATE_FORMAT),id=id||this.getUniqueId(),control=!!control;var subject=this.createSubject(level,content,className,date,id,control);this.subjects.length>=this.MAX_SUBJECTS_BUFFER&&(this.logger.warn("subjects length exceeds MAX_SUBJECTS_BUFFER constraint of",this.MAX_SUBJECTS_BUFFER,"dropping earliest item."),this.subjects.shift()),this.logger.info(sprintf("MSG [%s, %s] %s",level,className,content)),this.subjects.push(subject),this.notify(this.observers)},sort:function(arrayOfObjects,keys){for(var sortedArray=arrayOfObjects.concat([]),i=0;i<keys.length;i++){var k=keys[i];sortedArray.sort((function(a,b){return a.hasOwnProperty(k)&&b.hasOwnProperty(k)?[a[k],b[k]].sort()[0]!==a[k]?1:-1:(this.logger.warn("Cannot sort with invalid key",k),0)}))}return sortedArray}}),Splunk.Messenger.System=$.klass(Splunk.Messenger.Bus,{RECEIVE_WILD_CARD:"*",RECEIVE_LEVELS:["persistent","info","warn","error","fatal"],RECEIVE_LEVEL:"fatal",REQUEST_TIMEOUT:5e3,SERVER_ENABLED:!0,SERVER_POLL_INTERVAL:6e4,SERVER_RESOURCE:Splunk.util.make_url("/api/messages/index"),SERVER_CLASSIFIER:"splunk.services",SERVER_SESSION_EXPIRED_MESSAGE:_("Your session has expired."),SERVER_DOWN_MESSAGE:_("Your network connection may have been lost or Splunk web may be down."),SERVER_BACK_UP_MESSAGE:_("Your network connection was either restored or Splunk web was restarted."),OFFLINE_WARNING_THRESHOLD:2,initialize:function(){Splunk.Messenger.Bus.prototype.initialize.call(this),this.logger=Splunk.Logger.getLogger("Splunk.Messenger.System"),this.intervalId=null,this.isRequestQueued=!1,this.isServerDown=!1,this.errorCount=0,this.abortRequests=!1,this.previousEtag="",this.SERVER_ENABLED&&"undefined"==typeof DISABLE_MESSENGER&&(setTimeout(this.getServerMessages.bind(this),0),this.startPoller()),$(document).bind("SessionTimeout",this.onSessionTimeout.bind(this)),$(document).bind("SessionStart",this.onSessionStart.bind(this))},classNameSerialize:function(className){var regex;if(className||(className=this.RECEIVE_WILD_CARD),className===this.RECEIVE_WILD_CARD)regex=/./;else{var classNameParts=className.split(".");0===classNameParts.length&&(classNameParts=[className]);var pattern="^"+classNameParts.join(".");try{regex=new RegExp(pattern)}catch(e){return this.logger.error("Could not create RegExp object for className",className),null}}return regex},getServerMessages:function(){this.isRequestQueued||this.abortRequests||(this.isRequestQueued=!0,$.ajax({type:"GET",url:this.SERVER_RESOURCE,dataType:"text",beforeSend:function(XMLHttpRequest){if(this.previousEtag)try{XMLHttpRequest.setRequestHeader("If-None-Match",this.previousEtag)}catch(e){}}.bind(this),timeout:this.REQUEST_TIMEOUT,error:this.onServerMessagesError.bind(this),complete:this.onServerMessagesComplete.bind(this)}))},observerNotifySortby:function(a,b){var classNameA=a.filter.className instanceof RegExp?a.filter.className.toString():a.filter.className,classNameB=b.filter.className instanceof RegExp?b.filter.className.toString():b.filter.className,classNameWildCard=this.classNameSerialize(this.RECEIVE_WILD_CARD).toString();return classNameA===classNameWildCard?1:classNameB===classNameWildCard?-1:[classNameA,classNameB].sort()[0]!==classNameA?1:-1},onServerMessagesError:function(){},onServerMessagesComplete:function(data,textStatus){switch(this.isRequestQueued=!1,this.previousEtag=data.getResponseHeader("Etag"),data.status){case 0:case 12029:this.errorCount++,this.previousEtag=new Date,this.errorCount>=this.OFFLINE_WARNING_THRESHOLD&&(this.isServerDown=!0,this.send("error",this.SERVER_CLASSIFIER,this.SERVER_DOWN_MESSAGE),this.logger.warn("Server message timeout, offline"));break;case 304:this.errorCount=0;break;case 412:this.abortRequests=!0,this.send("error",this.SERVER_CLASSIFIER,this.SERVER_SESSION_EXPIRED_MESSAGE),this.logger.warn("Server message session expired, abort further requests.");break;case 200:if(this.errorCount=0,this.isServerDown){this.logger.info("Server message back online."),this.isServerDown=!1,this.previousEtag=new Date,this.send("persistent",this.SERVER_CLASSIFIER,this.SERVER_BACK_UP_MESSAGE);break}this.processResponse(data)}},onSessionStart:function(event,date){this.logger.info("Starting message poller..."),this.abortRequests=!1},onSessionTimeout:function(event,date){this.logger.info("Stopping message poller..."),this.abortRequests=!0},processResponse:function(data){try{this.logger.info("Server message process response"),data=JSON.parse(data.responseText)}catch(e){return void this.logger.warn("Could not parse server messages with error")}for(var i=0;i<data.messages.length;i++){var dataObj=data.messages[i];if(dataObj.hasOwnProperty("type")&&dataObj.hasOwnProperty("message"))try{this.send(dataObj.type.toLowerCase(),this.SERVER_CLASSIFIER,dataObj.message,dataObj.id)}catch(e){this.logger.error("Could not send message through bus",e)}else this.logger.error("Missing jsonresponse property from app server.")}},receive:function(className,callback,id,control){className||(className=this.RECEIVE_WILD_CARD);var classNameRegExp=this.classNameSerialize(className);if(classNameRegExp)for(var i=0;i<this.RECEIVE_LEVELS.length;i++){var filter={};filter.className=classNameRegExp,id&&(filter.id=id),control&&(filter.control=!0),filter.level=this.RECEIVE_LEVELS[i];for(var uniqueReceiver=!0,j=0;j<this.observers.length;j++){var observerFilter=this.observers[j].filter;if(observerFilter.level&&observerFilter.level===filter.level&&observerFilter.className&&observerFilter.className.toString()===filter.className.toString()){uniqueReceiver=!1,this.logger.warn("Can't add another receiver with level",filter.level,"for already observed className",className);break}}if(uniqueReceiver&&Splunk.Messenger.Bus.prototype.receive.call(this,filter,null,callback,!1,!0),this.RECEIVE_LEVELS[i]===this.RECEIVE_LEVEL)break}},resetPoller:function(){this.intervalId&&clearInterval(this.intervalId),this.startPoller()},send:function(level,className,content,id,control){id=id||null,-1!=jQuery.inArray(level,this.RECEIVE_LEVELS)?(this.SERVER_ENABLED&&this.resetPoller(),Splunk.Messenger.Bus.prototype.send.call(this,level,content,className,id,null,control)):this.logger.warn("Message not sent, invalid message level -",level,"- needs to be one of",this.RECEIVE_LEVELS.join(","))},startPoller:function(){this.intervalId=setInterval(this.getServerMessages.bind(this),this.SERVER_POLL_INTERVAL)},clear:function(){this.send("info","control","CLEAR",null,!0)}}),Splunk.Messenger.System.instance=null,Splunk.Messenger.System.getInstance=function(){return Splunk.Messenger.System.instance||(Splunk.Messenger.System.instance=new Splunk.Messenger.System),Splunk.Messenger.System.instance}},paginator:function(module,exports){var ns;(ns=Splunk.namespace("Splunk.paginator")).range=function(){var start,stop,step,l=arguments,r=[];1==l.length?(start=0,stop=l[0],step=1):(start=l[0],stop=l[1],step=null==l[2]?1:l[2]);for(var i=start;step>0?i<stop:i>stop;i+=step)r.push(i);return r},ns.Google=function(item_count,options){options=options||{},this.item_count=item_count,this.max_items_page=options.max_items_page||10,this.max_pages=options.max_pages||10,this.item_offset=options.item_offset||0,this.total_pages=this.__total_pages(),this.active_page=this.__active_page(),this.page_range=this.__page_range()},ns.Google.prototype={__page_range:function(){return 1==this.total_pages?[]:(page_mid_point=parseInt(Math.floor(this.max_pages/2),10),this.active_page<=page_mid_point?(start=1,end=Math.min(this.total_pages,this.max_pages)+1):(end=Math.min(this.active_page+page_mid_point,this.total_pages)+1,start=Math.max(end-this.max_pages,1)),ns.range(start,end))},__total_pages:function(){return parseInt(Math.ceil(this.item_count/this.max_items_page),10)},__active_page:function(){return parseInt(Math.floor(this.item_offset/this.max_items_page+1),10)},next_exists:function(){return 0!=this.page_range.length&&this.active_page<this.total_pages},next_offset:function(){return this.next_exists()?(page=this.active_page+1,this.page_item_offset(page)):-1},previous_exists:function(){return 0!=this.page_range.length&&this.active_page>1},previous_offset:function(){if(this.previous_exists()){var page=this.active_page-1;return this.page_item_offset(page)}return-1},page_item_offset:function(page_num){return this.max_items_page*page_num-this.max_items_page},is_active_page:function(page_num){return page_num==this.active_page}}},print:function(module,exports){Splunk.namespace("Splunk.Print");var agentString=window.navigator.userAgent,isIE=/msie/i.test(agentString),isIE7=/msie 7\.0/i.test(agentString),isIE8=/msie 8\.0/i.test(agentString);Splunk.Print=$.klass({START_EVENT:"PrintStart",END_EVENT:"PrintEnd",PAGE_EVENT:"PrintPage",PAGE_WIDTH:isIE7||isIE8?"700px":"800px",WINDOW_PRINT_END_EVENT_DELAY:1e3,initialize:function(){this.logger=Splunk.Logger.getLogger("Splunk.Print"),$(document).bind(this.START_EVENT,this.onPrintStart.bind(this)),$(document).bind(this.END_EVENT,this.onPrintEnd.bind(this)),$(document).bind(this.PAGE_EVENT,this.onPrintPage.bind(this)),this.bindPrintEvents()},onPrintEnd:function(event){this.logger.info("Splunk.Print.END_EVENT fired")},onPrintPage:function(event){var bodyStyle=$("body")[0].style,currentX=window.pageXOffset,currentY=window.pageYOffset,printPrepare=function(){$("body").addClass("print").css({width:this.PAGE_WIDTH,"min-width":0}),window.scrollTo(0,document.body.offsetHeight)}.bind(this),printCleanup=function(){$("body").removeClass("print"),bodyStyle.width="",bodyStyle["min-width"]="",window.scrollTo(currentX,currentY)};if(this.logger.info("Splunk.Print.PAGE_EVENT fired"),isIE)printPrepare(),$(document).trigger(this.START_EVENT),window.print(),printCleanup(),$(document).trigger(this.END_EVENT);else if(this.isChromeThirteenPlus()){var printPreviewMode=!1;$(window).bind("blur.splunkPrint",function(){printPreviewMode=!0,$(window).bind("focus.splunkPrint",function(){printCleanup(),$(document).trigger(this.END_EVENT),$(window).unbind(".splunkPrint")}.bind(this))}.bind(this)),printPrepare(),setTimeout(function(){$(document).trigger(this.START_EVENT)}.bind(this),0),setTimeout(function(){window.print(),setTimeout(function(){printPreviewMode||(printCleanup(),$(window).unbind(".splunkPrint"),$(document).trigger(this.END_EVENT))}.bind(this),this.WINDOW_PRINT_END_EVENT_DELAY)}.bind(this),0)}else printPrepare(),setTimeout(function(){$(document).trigger(this.START_EVENT)}.bind(this),0),setTimeout(function(){window.print(),setTimeout(function(){printCleanup(),$(document).trigger(this.END_EVENT)}.bind(this),this.WINDOW_PRINT_END_EVENT_DELAY)}.bind(this),0)},onPrintStart:function(event){this.logger.info("Splunk.Print.START_EVENT fired")},bindPrintEvents:function(){var onBeforePrint=function(){$("body").css("width",this.PAGE_WIDTH),$(document).trigger(this.START_EVENT)}.bind(this),onAfterPrint=function(){$("body").css("width",""),$(document).trigger(this.END_EVENT)}.bind(this);if(void 0!==window.onbeforeprint)window.addEventListener?(window.addEventListener("beforeprint",onBeforePrint,!1),window.addEventListener("afterprint",onAfterPrint,!1)):window.attachEvent&&(window.attachEvent("onbeforeprint",onBeforePrint),window.attachEvent("onafterprint",onAfterPrint));else if(window.matchMedia){var mediaQueryList=window.matchMedia("print");mediaQueryList&&mediaQueryList.addListener&&mediaQueryList.addListener((function(mql){mql&&(mql.matches?onBeforePrint():onAfterPrint())}))}},isChromeThirteenPlus:function(){var chromeInfo=/chrome\/(\d+)/i.exec(navigator.userAgent);return!!(chromeInfo&&parseInt(chromeInfo[1],10)>=13)}}),Splunk.Print.instance=null,Splunk.Print.getInstance=function(){return Splunk.Print.instance||(Splunk.Print.instance=new Splunk.Print),Splunk.Print.instance}},session:function(module,exports){Splunk.namespace("Splunk.Session"),Splunk.Session=$.klass({EVENT_BUFFER_TIMEOUT:1e3,UI_INACTIVITY_TIMEOUT:60,START_EVENT:"SessionStart",TIMEOUT_EVENT:"SessionTimeout",RESTART_EVENT:"HaltOnRestart",UI_EVENT_TYPES:["click","keydown","mouseover","scroll"],initialize:function(){this.logger=Splunk.Logger.getLogger("session.js"),this.eventBuffer=[],this.timeoutDelay=Splunk.util.getConfigValue("UI_INACTIVITY_TIMEOUT",this.UI_INACTIVITY_TIMEOUT),this.timeoutDelay*=6e4,this.timeoutDelay>2147483647&&(this.logger.warn("ui_inactivity_timeout must be treated as minutes not milliseconds. Defaulting to 60 min"),this.timeoutDelay=36e5),this.timeoutID=null,$(document).bind(this.START_EVENT,this.onSessionStart.bind(this)),!this.timeoutDelay<1&&($(document).bind(this.TIMEOUT_EVENT,this.onSessionTimeout.bind(this)),$(document).bind(this.UI_EVENT_TYPES.join(" "),this.onUIEvent.bind(this)),this.startTimeout()),$(document).trigger(this.START_EVENT,new Date)},onUIEvent:function(event){this.timeoutID?(this.eventBuffer.push(""),1===this.eventBuffer.length&&(this.resetTimeout(),setTimeout(function(){this.eventBuffer=[]}.bind(this),this.EVENT_BUFFER_TIMEOUT))):(this.startTimeout(),$(document).trigger(this.START_EVENT,new Date))},onSessionStart:function(event,date){},onSessionTimeout:function(event,date){},resetTimeout:function(){this.stopTimeout(),this.startTimeout()},signalRestart:function(){$(document).trigger(this.RESTART_EVENT)},startTimeout:function(){this.timeoutID=window.setTimeout(this.timeoutHandler.bind(this),this.timeoutDelay)},stopTimeout:function(){this.timeoutID&&(window.clearTimeout(this.timeoutID),this.timeoutID=null)},timeoutHandler:function(){this.stopTimeout(),$(document).trigger(this.TIMEOUT_EVENT,new Date)}}),Splunk.Session.instance=null,Splunk.Session.getInstance=function(){return Splunk.Session.instance||(Splunk.Session.instance=new Splunk.Session),Splunk.Session.instance}},"shim/jg_global":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(0)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return{jg_namespace:window.jg_namespace,jg_extend:window.jg_extend,jg_static:window.jg_static,jg_mixin:window.jg_mixin,jg_has_mixin:window.jg_has_mixin}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"shim/jquery":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($){window.$||(window.$=$,window.jQuery=$);var swaJSCheckInterval=setInterval((function(){window._splunk_metrics_events&&!Array.isArray(window._splunk_metrics_events)&&(clearInterval(swaJSCheckInterval),window._splunk_metrics_events.push({type:"jquery",data:{library:"jquery-"+$.fn.jquery}}))}),500);return $}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},splunk_time:function(module,exports){jg_import.define("splunk.time.TimeZone",(function(){jg_namespace("splunk.time",(function(){this.TimeZone=jg_extend(Object,(function(TimeZone,base){this.getStandardOffset=function(){return 0},this.getOffset=function(time){return 0}}))}))})),jg_import.define("splunk.time.SimpleTimeZone",(function(){jg_namespace("splunk.time",(function(){var TimeZone=jg_import("splunk.time.TimeZone");this.SimpleTimeZone=jg_extend(TimeZone,(function(SimpleTimeZone,base){this._offset=0,this.constructor=function(offset){this._offset=void 0!==offset?offset:0},this.getStandardOffset=function(){return this._offset},this.getOffset=function(time){return this._offset}}))}))})),jg_import.define("splunk.time.LocalTimeZone",(function(){jg_namespace("splunk.time",(function(){var TimeZone=jg_import("splunk.time.TimeZone");this.LocalTimeZone=jg_extend(TimeZone,(function(LocalTimeZone,base){this.getStandardOffset=function(){return 60*-new Date(0).getTimezoneOffset()},this.getOffset=function(time){return 60*-new Date(1e3*time).getTimezoneOffset()}}))}))})),jg_import.define("splunk.time.TimeZones",(function(){jg_namespace("splunk.time",(function(){var LocalTimeZone=jg_import("splunk.time.LocalTimeZone"),SimpleTimeZone=jg_import("splunk.time.SimpleTimeZone");this.TimeZones=jg_static((function(TimeZones){TimeZones.LOCAL=new LocalTimeZone,TimeZones.UTC=new SimpleTimeZone(0)}))}))})),jg_import.define("splunk.time.DateTime",(function(){jg_namespace("splunk.time",(function(){var SimpleTimeZone=jg_import("splunk.time.SimpleTimeZone"),TimeZone=jg_import("splunk.time.TimeZone"),TimeZones=jg_import("splunk.time.TimeZones");this.DateTime=jg_extend(Object,(function(DateTime,base){var _ISO_DATE_TIME_PATTERN=/([\+\-])?(\d{4,})(?:(?:\-(\d{2}))(?:(?:\-(\d{2}))(?:(?:[T ](\d{2}))(?:(?:\:(\d{2}))(?:(?:\:(\d{2}(?:\.\d+)?)))?)?(?:(Z)|([\+\-])(\d{2})(?:\:(\d{2}))?)?)?)?)?/,_normalizePrecision=function(value){return Number(value.toFixed(6))},_pad=function(value,digits,fractionDigits){if(value!=value)return"NaN";if(value==1/0)return"Infinity";if(value==-1/0)return"-Infinity";digits=void 0!==digits?digits:0,fractionDigits=void 0!==fractionDigits?fractionDigits:0;var str=value.toFixed(20),decimalIndex=str.indexOf(".");decimalIndex<0?decimalIndex=str.length:str=fractionDigits<1?str.substring(0,decimalIndex):str.substring(0,decimalIndex)+"."+str.substring(decimalIndex+1,decimalIndex+fractionDigits+1);for(var i=decimalIndex;i<digits;i++)str="0"+str;return str};this._year=0,this._month=1,this._day=1,this._weekday=0,this._hours=0,this._minutes=0,this._seconds=0,this._timeZone=TimeZones.LOCAL,this._timeZoneOffset=0,this._time=0,this._isValid=!0,this.constructor=function(yearOrTimevalue,month,day,hours,minutes,seconds,timeZone){switch(arguments.length){case 0:var now=new Date;this._time=now.getTime()/1e3,this._updateProperties();break;case 1:if("number"==typeof yearOrTimevalue)this._time=yearOrTimevalue,this._updateProperties();else if("string"==typeof yearOrTimevalue){var match,matches=_ISO_DATE_TIME_PATTERN.exec(yearOrTimevalue),numMatches=matches?matches.length:0,yearSign="-"==(match=numMatches>1?matches[1]:null)?-1:1;match=numMatches>2?matches[2]:null,this._year=match?yearSign*Number(match):0,match=numMatches>3?matches[3]:null,this._month=match?Number(match):1,match=numMatches>4?matches[4]:null,this._day=match?Number(match):1,match=numMatches>5?matches[5]:null,this._hours=match?Number(match):0,match=numMatches>6?matches[6]:null,this._minutes=match?Number(match):0,match=numMatches>7?matches[7]:null,this._seconds=match?Number(match):0;var timeZoneUTC="Z"==(match=numMatches>8?matches[8]:null),timeZoneSign="-"==(match=numMatches>9?matches[9]:null)?-1:1,timeZoneHours=(match=numMatches>10?matches[10]:null)?Number(match):NaN,timeZoneMinutes=(match=numMatches>11?matches[11]:null)?Number(match):NaN;timeZoneUTC?this._timeZone=TimeZones.UTC:isNaN(timeZoneHours)||isNaN(timeZoneMinutes)?this._timeZone=TimeZones.LOCAL:this._timeZone=new SimpleTimeZone(timeZoneSign*(60*timeZoneHours+timeZoneMinutes)*60),this._updateTime()}else this._time=NaN,this._updateProperties();break;default:"number"==typeof yearOrTimevalue?(this._year=yearOrTimevalue,this._month=void 0!==month?month:1,this._day=void 0!==day?day:1,this._hours=void 0!==hours?hours:0,this._minutes=void 0!==minutes?minutes:0,this._seconds=void 0!==seconds?seconds:0,this._timeZone=timeZone instanceof TimeZone?timeZone:TimeZones.LOCAL,this._updateTime()):(this._time=NaN,this._updateProperties())}},this.getYear=function(){return this._year},this.setYear=function(value){this._year=value,this._updateTime()},this.getMonth=function(){return this._month},this.setMonth=function(value){this._month=value,this._updateTime()},this.getDay=function(){return this._day},this.setDay=function(value){this._day=value,this._updateTime()},this.getWeekday=function(){return this._weekday},this.getHours=function(){return this._hours},this.setHours=function(value){this._hours=value,this._updateTime()},this.getMinutes=function(){return this._minutes},this.setMinutes=function(value){this._minutes=value,this._updateTime()},this.getSeconds=function(){return this._seconds},this.setSeconds=function(value){this._seconds=value,this._updateTime()},this.getTimeZone=function(){return this._timeZone},this.setTimeZone=function(value){this._timeZone=value instanceof TimeZone?value:TimeZones.LOCAL,this._updateTime()},this.getTimeZoneOffset=function(){return this._timeZoneOffset},this.getTime=function(){return this._time},this.setTime=function(value){this._time=value,this._updateProperties()},this.toUTC=function(){return this.toTimeZone(TimeZones.UTC)},this.toLocal=function(){return this.toTimeZone(TimeZones.LOCAL)},this.toTimeZone=function(timeZone){var date=new DateTime;return date.setTimeZone(timeZone),date.setTime(this._time),date},this.clone=function(){var date=new DateTime;return date.setTimeZone(this._timeZone),date.setTime(this._time),date},this.equals=function(toCompare){return this._time===toCompare._time&&this._timeZoneOffset===toCompare._timeZoneOffset},this.toString=function(){if(!this._isValid)return"Invalid Date";var str="";this._year<0?str+="-"+_pad(-this._year,4):str+=_pad(this._year,4),str+="-"+_pad(this._month,2)+"-"+_pad(this._day,2),str+="T"+_pad(this._hours,2)+":"+_pad(this._minutes,2)+":"+_pad(this._seconds,2,3);var timeZoneOffset=this._timeZoneOffset/60;if(0==timeZoneOffset)str+="Z";else{str+=timeZoneOffset<0?"-":"+",timeZoneOffset<0&&(timeZoneOffset=-timeZoneOffset);var timeZoneHours=Math.floor(timeZoneOffset/60),timeZoneMinutes=Math.floor(timeZoneOffset%60);str+=_pad(timeZoneHours,2)+":"+_pad(timeZoneMinutes,2)}return str},this.valueOf=function(){return this._time},this._updateTime=function(){if(this._validate()){var years=this._year,months=this._month-1,days=this._day-1,hours=this._hours,minutes=this._minutes,seconds=this._seconds,totalMonths=months+12*years,wholeMonths=Math.floor(totalMonths),subMonths=totalMonths-wholeMonths,totalSeconds=seconds+60*minutes+3600*hours+86400*days,wholeSeconds=Math.floor(totalSeconds),subSeconds=totalSeconds-wholeSeconds,date=new Date(0);if(date.setUTCFullYear(0),date.setUTCMonth(wholeMonths),0!=subMonths){date.setUTCMonth(date.getUTCMonth()+1),date.setUTCDate(0);var monthsTotalSeconds=date.getUTCDate()*subMonths*86400,monthsWholeSeconds=Math.floor(monthsTotalSeconds);wholeSeconds+=monthsWholeSeconds,(subSeconds+=monthsTotalSeconds-monthsWholeSeconds)>=1&&(subSeconds--,wholeSeconds++),date.setUTCDate(1)}date.setUTCSeconds(wholeSeconds);var time=date.getTime()/1e3+subSeconds,timeZone=this._timeZone;this._time=time-timeZone.getOffset(time-timeZone.getStandardOffset()),this._updateProperties()}},this._updateProperties=function(){if(this._validate()){var time=_normalizePrecision(this._time),timeZoneOffset=_normalizePrecision(this._timeZone.getOffset(time)),totalSeconds=time+timeZoneOffset,wholeSeconds=Math.floor(totalSeconds),subSeconds=_normalizePrecision(totalSeconds-wholeSeconds);subSeconds>=1&&(subSeconds=0,wholeSeconds++);var date=new Date(1e3*wholeSeconds);this._year=date.getUTCFullYear(),this._month=date.getUTCMonth()+1,this._day=date.getUTCDate(),this._weekday=date.getUTCDay(),this._hours=date.getUTCHours(),this._minutes=date.getUTCMinutes(),this._seconds=date.getUTCSeconds()+subSeconds,this._time=time,this._timeZoneOffset=timeZoneOffset,this._validate()}},this._validate=function(){if(this._isValid){this._year*=1,this._month*=1,this._day*=1,this._weekday*=1,this._hours*=1,this._minutes*=1,this._seconds*=1,this._timeZoneOffset*=1,this._time*=1;var checksum=this._year+this._month+this._day+this._weekday+this._hours+this._minutes+this._seconds+this._timeZoneOffset+this._time;!isNaN(checksum)&&checksum!=1/0&&checksum!=-1/0&&this._timeZone||(this._isValid=!1)}else this._year*=1,this._time*=1,this._year>-1/0&&this._year<1/0?(this._month=1,this._day=1,this._hours=0,this._minutes=0,this._seconds=0,this._isValid=!0):this._time>-1/0&&this._time<1/0&&(this._isValid=!0);return this._isValid||(this._year=NaN,this._month=NaN,this._day=NaN,this._weekday=NaN,this._hours=NaN,this._minutes=NaN,this._seconds=NaN,this._timeZoneOffset=NaN,this._time=NaN),this._isValid}}))}))})),jg_import.define("splunk.time.Duration",(function(){jg_namespace("splunk.time",(function(){this.Duration=jg_extend(Object,(function(Duration,base){var _ISO_DURATION_PATTERN=/P(?:(\-?\d+(?:\.\d+)?)Y)?(?:(\-?\d+(?:\.\d+)?)M)?(?:(\-?\d+(?:\.\d+)?)D)?(?:T(?:(\-?\d+(?:\.\d+)?)H)?(?:(\-?\d+(?:\.\d+)?)M)?(?:(\-?\d+(?:\.\d+)?)S)?)?/;this.years=0,this.months=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0,this.constructor=function(yearsOrTimestring,months,days,hours,minutes,seconds){if(1==arguments.length&&"string"==typeof yearsOrTimestring){var match,matches=_ISO_DURATION_PATTERN.exec(yearsOrTimestring),numMatches=matches?matches.length:0;match=numMatches>1?matches[1]:null,this.years=match?Number(match):0,match=numMatches>2?matches[2]:null,this.months=match?Number(match):0,match=numMatches>3?matches[3]:null,this.days=match?Number(match):0,match=numMatches>4?matches[4]:null,this.hours=match?Number(match):0,match=numMatches>5?matches[5]:null,this.minutes=match?Number(match):0,match=numMatches>6?matches[6]:null,this.seconds=match?Number(match):0}else this.years="number"==typeof yearsOrTimestring?yearsOrTimestring:0,this.months=void 0!==months?months:0,this.days=void 0!==days?days:0,this.hours=void 0!==hours?hours:0,this.minutes=void 0!==minutes?minutes:0,this.seconds=void 0!==seconds?seconds:0},this.clone=function(){return new Duration(this.years,this.months,this.days,this.hours,this.minutes,this.seconds)},this.equals=function(toCompare){return this.years==toCompare.years&&this.months==toCompare.months&&this.days==toCompare.days&&this.hours==toCompare.hours&&this.minutes==toCompare.minutes&&this.seconds==toCompare.seconds},this.toString=function(){var str="";return str+="P"+this.years+"Y"+this.months+"M"+this.days+"D",str+="T"+this.hours+"H"+this.minutes+"M"+this.seconds+"S"}}))}))})),jg_import.define("splunk.time.SplunkTimeZone",(function(){jg_namespace("splunk.time",(function(){var ArrayUtils=jg_import("jgatt.utils.ArrayUtils"),TimeZone=jg_import("splunk.time.TimeZone");this.SplunkTimeZone=jg_extend(TimeZone,(function(SplunkTimeZone,base){this._standardOffset=0,this._serializedTimeZone=null,this._isConstant=!1,this._offsetList=null,this._timeList=null,this._indexList=null,this.constructor=function(serializedTimeZone){if(null==serializedTimeZone)throw new Error("Parameter serializedTimeZone must be non-null.");if("string"!=typeof serializedTimeZone)throw new Error("Parameter serializedTimeZone must be a string.");this._serializedTimeZone=serializedTimeZone,this._offsetList=[],this._timeList=[],this._indexList=[],this._parseSerializedTimeZone(serializedTimeZone)},this.getSerializedTimeZone=function(){return this._serializedTimeZone},this.getStandardOffset=function(){return this._standardOffset},this.getOffset=function(time){if(this._isConstant)return this._standardOffset;var offsetList=this._offsetList,numOffsets=offsetList.length;if(0==numOffsets)return 0;if(1==numOffsets)return offsetList[0];var timeIndex,timeList=this._timeList,numTimes=timeList.length;return 0==numTimes?0:(1==numTimes?timeIndex=0:(timeIndex=ArrayUtils.binarySearch(timeList,time))<-1?timeIndex=-timeIndex-2:-1==timeIndex&&(timeIndex=0),offsetList[this._indexList[timeIndex]])},this._parseSerializedTimeZone=function(serializedTimeZone){if(serializedTimeZone){for(var entry,entries=serializedTimeZone.split(";"),i=0,l=entries.length;i<l;i++)if(entry=entries[i])switch(entry.charAt(0)){case"C":if(this._parseC(entry.substring(1,entry.length)))return;break;case"Y":this._parseY(entry.substring(1,entry.length));break;case"@":this._parseAt(entry.substring(1,entry.length))}this._standardOffset=this.getOffset(0)}},this._parseC=function(entry){if(!entry)return!1;var time=Number(entry);return!isNaN(time)&&(this._standardOffset=time,this._isConstant=!0,!0)},this._parseY=function(entry){if(entry){var elements=entry.split(" ");if(!(elements.length<1)){var element=elements[0];if(element){var offset=Number(element);isNaN(offset)||this._offsetList.push(offset)}}}},this._parseAt=function(entry){if(entry){var elements=entry.split(" ");if(!(elements.length<2)){var element=elements[0];if(element){var time=Number(element);if(!isNaN(time)&&(element=elements[1])){var index=Number(element);isNaN(index)||(index=Math.floor(index))<0||index>=this._offsetList.length||(this._timeList.push(time),this._indexList.push(index))}}}}}}))}))})),jg_import.define("splunk.time.TimeUtils",(function(){jg_namespace("splunk.time",(function(){var DateTime=jg_import("splunk.time.DateTime"),Duration=jg_import("splunk.time.Duration"),SimpleTimeZone=jg_import("splunk.time.SimpleTimeZone"),TimeZones=jg_import("splunk.time.TimeZones");this.TimeUtils=jg_static((function(TimeUtils){TimeUtils.EPOCH=new DateTime(0).toUTC(),TimeUtils.daysInMonth=function(date){return(date=new DateTime(date.getYear(),date.getMonth()+1,0,0,0,0,TimeZones.UTC)).getDay()},TimeUtils.addDurations=function(duration1,duration2){return new Duration(duration1.years+duration2.years,duration1.months+duration2.months,duration1.days+duration2.days,duration1.hours+duration2.hours,duration1.minutes+duration2.minutes,duration1.seconds+duration2.seconds)},TimeUtils.addDateDuration=function(date,duration){return(date=0==duration.years&&0==duration.months&&0==duration.days?date.clone():new DateTime(date.getYear()+duration.years,date.getMonth()+duration.months,date.getDay()+duration.days,date.getHours(),date.getMinutes(),date.getSeconds(),date.getTimeZone())).setTime(date.getTime()+(3600*duration.hours+60*duration.minutes+duration.seconds)),date},TimeUtils.subtractDates=function(date1,date2){date2=date2.toTimeZone(date1.getTimeZone());var isNegative=date1.getTime()<date2.getTime();if(isNegative){var temp=date1;date1=date2,date2=temp}var years,months,days,hours,minutes,seconds,date3,sameTimeZoneOffset=date1.getTimeZoneOffset()==date2.getTimeZoneOffset();if(sameTimeZoneOffset?date3=date1:(date1.getYear()==date2.getYear()&&date1.getMonth()==date2.getMonth()&&date1.getDay()==date2.getDay()||(date3=new DateTime(date1.getYear(),date1.getMonth(),date1.getDay(),date2.getHours(),date2.getMinutes(),date2.getSeconds(),date2.getTimeZone())).getTime()>date1.getTime()&&((date3=new DateTime(date1.getYear(),date1.getMonth(),date1.getDay()-1,date2.getHours(),date2.getMinutes(),date2.getSeconds(),date2.getTimeZone())).getTime()<date2.getTime()||date3.getYear()==date2.getYear()&&date3.getMonth()==date2.getMonth()&&date3.getDay()==date2.getDay()))&&(date3=date2),years=date3.getYear()-date2.getYear(),months=date3.getMonth()-date2.getMonth(),days=date3.getDay()-date2.getDay(),sameTimeZoneOffset)hours=date3.getHours()-date2.getHours(),minutes=date3.getMinutes()-date2.getMinutes(),(seconds=date3.getSeconds()-date2.getSeconds())<0&&(seconds+=60,minutes--),minutes<0&&(minutes+=60,hours--),hours<0&&(hours+=24,days--),seconds=_normalizePrecision(seconds);else{seconds=date1.getTime()-date3.getTime();var wholeSeconds=Math.floor(seconds),subSeconds=_normalizePrecision(seconds-wholeSeconds);subSeconds>=1&&(subSeconds=0,wholeSeconds++),minutes=Math.floor(wholeSeconds/60),seconds=wholeSeconds%60+subSeconds,hours=Math.floor(minutes/60),minutes%=60}return days<0&&(days+=(date3=new DateTime(date2.getYear(),date2.getMonth()+1,0,0,0,0,TimeZones.UTC)).getDay(),months--),months<0&&(months+=12,years--),isNegative&&(years=-years,months=-months,days=-days,hours=-hours,minutes=-minutes,seconds=-seconds),new Duration(years,months,days,hours,minutes,seconds)},TimeUtils.subtractDurations=function(duration1,duration2){return new Duration(duration1.years-duration2.years,duration1.months-duration2.months,duration1.days-duration2.days,duration1.hours-duration2.hours,duration1.minutes-duration2.minutes,duration1.seconds-duration2.seconds)},TimeUtils.subtractDateDuration=function(date,duration){return(date=0==duration.years&&0==duration.months&&0==duration.days?date.clone():new DateTime(date.getYear()-duration.years,date.getMonth()-duration.months,date.getDay()-duration.days,date.getHours(),date.getMinutes(),date.getSeconds(),date.getTimeZone())).setTime(date.getTime()-(3600*duration.hours+60*duration.minutes+duration.seconds)),date},TimeUtils.multiplyDuration=function(duration,scalar){return new Duration(duration.years*scalar,duration.months*scalar,duration.days*scalar,duration.hours*scalar,duration.minutes*scalar,duration.seconds*scalar)},TimeUtils.divideDuration=function(duration,scalar){return new Duration(duration.years/scalar,duration.months/scalar,duration.days/scalar,duration.hours/scalar,duration.minutes/scalar,duration.seconds/scalar)},TimeUtils.ceilDate=function(date,units){var date2=date.toTimeZone(new SimpleTimeZone(date.getTimeZoneOffset()));return _ceilDateInternal(date2,units),_toTimeZoneStable(date2,date.getTimeZone())},TimeUtils.ceilDuration=function(duration,units,referenceDate){referenceDate||(referenceDate=TimeUtils.EPOCH);var date=TimeUtils.addDateDuration(referenceDate,duration),isNegative=date.getTime()<referenceDate.getTime();return duration=isNegative?TimeUtils.subtractDates(referenceDate,date):TimeUtils.subtractDates(date,referenceDate),units||(units=new Duration,duration.years>0?units.years=1:duration.months>0?units.months=1:duration.days>0?units.days=1:duration.hours>0?units.hours=1:duration.minutes>0?units.minutes=1:duration.seconds>0&&(units.seconds=1)),isNegative?(_floorDurationInternal(duration,units,date),TimeUtils.multiplyDuration(duration,-1)):(_ceilDurationInternal(duration,units,referenceDate),duration)},TimeUtils.floorDate=function(date,units){var date2=date.toTimeZone(new SimpleTimeZone(date.getTimeZoneOffset()));return _floorDateInternal(date2,units),_toTimeZoneStable(date2,date.getTimeZone())},TimeUtils.floorDuration=function(duration,units,referenceDate){referenceDate||(referenceDate=TimeUtils.EPOCH);var date=TimeUtils.addDateDuration(referenceDate,duration),isNegative=date.getTime()<referenceDate.getTime();return duration=isNegative?TimeUtils.subtractDates(referenceDate,date):TimeUtils.subtractDates(date,referenceDate),units||(units=new Duration,duration.years>0?units.years=1:duration.months>0?units.months=1:duration.days>0?units.days=1:duration.hours>0?units.hours=1:duration.minutes>0?units.minutes=1:duration.seconds>0&&(units.seconds=1)),isNegative?(_ceilDurationInternal(duration,units,date),TimeUtils.multiplyDuration(duration,-1)):(_floorDurationInternal(duration,units,referenceDate),duration)},TimeUtils.roundDate=function(date,units){var date2=date.toTimeZone(new SimpleTimeZone(date.getTimeZoneOffset()));return _roundDateInternal(date2,units),_toTimeZoneStable(date2,date.getTimeZone())},TimeUtils.roundDuration=function(duration,units,referenceDate){referenceDate||(referenceDate=TimeUtils.EPOCH);var date=TimeUtils.addDateDuration(referenceDate,duration),isNegative=date.getTime()<referenceDate.getTime();return duration=isNegative?TimeUtils.subtractDates(referenceDate,date):TimeUtils.subtractDates(date,referenceDate),units||(units=new Duration,duration.years>0?units.years=1:duration.months>0?units.months=1:duration.days>0?units.days=1:duration.hours>0?units.hours=1:duration.minutes>0?units.minutes=1:duration.seconds>0&&(units.seconds=1)),isNegative?(_roundDurationInternal(duration,units,date),TimeUtils.multiplyDuration(duration,-1)):(_roundDurationInternal(duration,units,referenceDate),duration)},TimeUtils.normalizeDuration=function(duration,referenceDate){referenceDate||(referenceDate=TimeUtils.EPOCH);var date=TimeUtils.addDateDuration(referenceDate,duration);return TimeUtils.subtractDates(date,referenceDate)},TimeUtils.durationToSeconds=function(duration,referenceDate){referenceDate||(referenceDate=TimeUtils.EPOCH);var date=TimeUtils.addDateDuration(referenceDate,duration);return _normalizePrecision(date.getTime()-referenceDate.getTime())},TimeUtils.secondsToDuration=function(seconds,referenceDate){referenceDate||(referenceDate=TimeUtils.EPOCH);var date=new DateTime(referenceDate.getTime()+seconds).toTimeZone(referenceDate.getTimeZone());return TimeUtils.subtractDates(date,referenceDate)};var _ceilDateInternal=function(date,units){var ceilYear=units.years>0,ceilMonth=ceilYear||units.months>0,ceilDay=ceilMonth||units.days>0,ceilHours=ceilDay||units.hours>0,ceilMinutes=ceilHours||units.minutes>0;if((ceilMinutes||units.seconds>0)&&(date.getSeconds()>0&&(units.seconds>0?date.setSeconds(Math.min(Math.ceil(date.getSeconds()/units.seconds)*units.seconds,60)):date.setSeconds(60)),ceilMinutes&&(date.getMinutes()>0&&(units.minutes>0?date.setMinutes(Math.min(Math.ceil(date.getMinutes()/units.minutes)*units.minutes,60)):date.setMinutes(60)),ceilHours&&(date.getHours()>0&&(units.hours>0?date.setHours(Math.min(Math.ceil(date.getHours()/units.hours)*units.hours,24)):date.setHours(24)),ceilDay)))){if(date.getDay()>1){var daysInMonth=TimeUtils.daysInMonth(date);units.days>0?date.setDay(Math.min(Math.ceil((date.getDay()-1)/units.days)*units.days,daysInMonth)+1):date.setDay(daysInMonth+1)}ceilMonth&&(date.getMonth()>1&&(units.months>0?date.setMonth(Math.min(Math.ceil((date.getMonth()-1)/units.months)*units.months,12)+1):date.setMonth(13)),ceilYear&&units.years>0&&date.setYear(Math.ceil(date.getYear()/units.years)*units.years))}},_ceilDurationInternal=function(duration,units,referenceDate){var ceilYears=units.years>0,ceilMonths=ceilYears||units.months>0,ceilDays=ceilMonths||units.days>0,ceilHours=ceilDays||units.hours>0,ceilMinutes=ceilHours||units.minutes>0,ceilSeconds=ceilMinutes||units.seconds>0,daysInMonth=TimeUtils.daysInMonth(referenceDate);ceilSeconds&&(duration.seconds>0&&(units.seconds>0?duration.seconds=Math.min(Math.ceil(duration.seconds/units.seconds)*units.seconds,60):duration.seconds=60,_normalizeDuration(duration,daysInMonth)),ceilMinutes&&(duration.minutes>0&&(units.minutes>0?duration.minutes=Math.min(Math.ceil(duration.minutes/units.minutes)*units.minutes,60):duration.minutes=60,_normalizeDuration(duration,daysInMonth)),ceilHours&&(duration.hours>0&&(units.hours>0?duration.hours=Math.min(Math.ceil(duration.hours/units.hours)*units.hours,24):duration.hours=24,_normalizeDuration(duration,daysInMonth)),ceilDays&&(duration.days>0&&(units.days>0?duration.days=Math.min(Math.ceil(duration.days/units.days)*units.days,daysInMonth):duration.days=daysInMonth,_normalizeDuration(duration,daysInMonth)),ceilMonths&&(duration.months>0&&(units.months>0?duration.months=Math.min(Math.ceil(duration.months/units.months)*units.months,12):duration.months=12,_normalizeDuration(duration,daysInMonth)),ceilYears&&units.years>0&&(duration.years=Math.ceil(duration.years/units.years)*units.years,_normalizeDuration(duration,daysInMonth)))))))},_floorDateInternal=function(date,units){var floorYear=units.years>0,floorMonth=floorYear||units.months>0,floorDay=floorMonth||units.days>0,floorHours=floorDay||units.hours>0,floorMinutes=floorHours||units.minutes>0;(floorMinutes||units.seconds>0)&&(date.getSeconds()>0&&(units.seconds>0?date.setSeconds(Math.floor(date.getSeconds()/units.seconds)*units.seconds):date.setSeconds(0)),floorMinutes&&(date.getMinutes()>0&&(units.minutes>0?date.setMinutes(Math.floor(date.getMinutes()/units.minutes)*units.minutes):date.setMinutes(0)),floorHours&&(date.getHours()>0&&(units.hours>0?date.setHours(Math.floor(date.getHours()/units.hours)*units.hours):date.setHours(0)),floorDay&&(date.getDay()>1&&(units.days>0?date.setDay(Math.floor((date.getDay()-1)/units.days)*units.days+1):date.setDay(1)),floorMonth&&(date.getMonth()>1&&(units.months>0?date.setMonth(Math.floor((date.getMonth()-1)/units.months)*units.months+1):date.setMonth(1)),floorYear&&units.years>0&&date.setYear(Math.floor(date.getYear()/units.years)*units.years))))))},_floorDurationInternal=function(duration,units,referenceDate){var floorYears=units.years>0,floorMonths=floorYears||units.months>0,floorDays=floorMonths||units.days>0,floorHours=floorDays||units.hours>0,floorMinutes=floorHours||units.minutes>0,floorSeconds=floorMinutes||units.seconds>0,daysInMonth=TimeUtils.daysInMonth(referenceDate);floorSeconds&&(duration.seconds>0&&(units.seconds>0?duration.seconds=Math.floor(duration.seconds/units.seconds)*units.seconds:duration.seconds=0,_normalizeDuration(duration,daysInMonth)),floorMinutes&&(duration.minutes>0&&(units.minutes>0?duration.minutes=Math.floor(duration.minutes/units.minutes)*units.minutes:duration.minutes=0,_normalizeDuration(duration,daysInMonth)),floorHours&&(duration.hours>0&&(units.hours>0?duration.hours=Math.floor(duration.hours/units.hours)*units.hours:duration.hours=0,_normalizeDuration(duration,daysInMonth)),floorDays&&(duration.days>0&&(units.days>0?duration.days=Math.floor(duration.days/units.days)*units.days:duration.days=0,_normalizeDuration(duration,daysInMonth)),floorMonths&&(duration.months>0&&(units.months>0?duration.months=Math.floor(duration.months/units.months)*units.months:duration.months=0,_normalizeDuration(duration,daysInMonth)),floorYears&&units.years>0&&(duration.years=Math.floor(duration.years/units.years)*units.years,_normalizeDuration(duration,daysInMonth)))))))},_roundDateInternal=function(date,units){var roundYear=units.years>0,roundMonth=roundYear||units.months>0,roundDay=roundMonth||units.days>0,roundHours=roundDay||units.hours>0,roundMinutes=roundHours||units.minutes>0;if((roundMinutes||units.seconds>0)&&(date.getSeconds()>0&&(units.seconds>0?date.setSeconds(Math.min(Math.round(date.getSeconds()/units.seconds)*units.seconds,60)):date.getSeconds()>=30?date.setSeconds(60):date.setSeconds(0)),roundMinutes&&(date.getMinutes()>0&&(units.minutes>0?date.setMinutes(Math.min(Math.round(date.getMinutes()/units.minutes)*units.minutes,60)):date.getMinutes()>=30?date.setMinutes(60):date.setMinutes(0)),roundHours&&(date.getHours()>0&&(units.hours>0?date.setHours(Math.min(Math.round(date.getHours()/units.hours)*units.hours,24)):date.getHours()>=12?date.setHours(24):date.setHours(0)),roundDay)))){if(date.getDay()>1){var daysInMonth=TimeUtils.daysInMonth(date);units.days>0?date.setDay(Math.min(Math.round((date.getDay()-1)/units.days)*units.days,daysInMonth)+1):date.getDay()>=Math.floor(daysInMonth/2+1)?date.setDay(daysInMonth+1):date.setDay(1)}roundMonth&&(date.getMonth()>1&&(units.months>0?date.setMonth(Math.min(Math.round((date.getMonth()-1)/units.months)*units.months,12)+1):date.getMonth()>=7?date.setMonth(13):date.setMonth(1)),roundYear&&units.years>0&&date.setYear(Math.round(date.getYear()/units.years)*units.years))}},_roundDurationInternal=function(duration,units,referenceDate){var roundYears=units.years>0,roundMonths=roundYears||units.months>0,roundDays=roundMonths||units.days>0,roundHours=roundDays||units.hours>0,roundMinutes=roundHours||units.minutes>0,roundSeconds=roundMinutes||units.seconds>0,daysInMonth=TimeUtils.daysInMonth(referenceDate);roundSeconds&&(duration.seconds>0&&(units.seconds>0?duration.seconds=Math.min(Math.round(duration.seconds/units.seconds)*units.seconds,60):duration.seconds>=30?duration.seconds=60:duration.seconds=0,_normalizeDuration(duration,daysInMonth)),roundMinutes&&(duration.minutes>0&&(units.minutes>0?duration.minutes=Math.min(Math.round(duration.minutes/units.minutes)*units.minutes,60):duration.minutes>=30?duration.minutes=60:duration.minutes=0,_normalizeDuration(duration,daysInMonth)),roundHours&&(duration.hours>0&&(units.hours>0?duration.hours=Math.min(Math.round(duration.hours/units.hours)*units.hours,24):duration.hours>=12?duration.hours=24:duration.hours=0,_normalizeDuration(duration,daysInMonth)),roundDays&&(duration.days>0&&(units.days>0?duration.days=Math.min(Math.round(duration.days/units.days)*units.days,daysInMonth):duration.days>=Math.floor(daysInMonth/2)?duration.days=daysInMonth:duration.days=0,_normalizeDuration(duration,daysInMonth)),roundMonths&&(duration.months>0&&(units.months>0?duration.months=Math.min(Math.round(duration.months/units.months)*units.months,12):duration.months>=6?duration.months=12:duration.months=0,_normalizeDuration(duration,daysInMonth)),roundYears&&units.years>0&&(duration.years=Math.round(duration.years/units.years)*units.years,_normalizeDuration(duration,daysInMonth)))))))},_toTimeZoneStable=function(date,timeZone){var date2=date.toTimeZone(timeZone);if(date2.getYear()==date.getYear()&&date2.getMonth()==date.getMonth()&&date2.getDay()==date.getDay()&&date2.getHours()==date.getHours()&&date2.getMinutes()==date.getMinutes()&&date2.getSeconds()==date.getSeconds())return date2;var date3=date.clone();return date3.setTimeZone(timeZone),date3.getYear()==date.getYear()&&date3.getMonth()==date.getMonth()&&date3.getDay()==date.getDay()&&date3.getHours()==date.getHours()&&date3.getMinutes()==date.getMinutes()&&date3.getSeconds()==date.getSeconds()?date3:date2},_normalizeDuration=function(duration,daysInMonth){var years=duration.years,wholeYears=Math.floor(years),subYears=years-wholeYears,months=duration.months+12*subYears,wholeMonths=Math.floor(months),subMonths=months-wholeMonths,days=duration.days+subMonths*daysInMonth,wholeDays=Math.floor(days),subDays=days-wholeDays,hours=duration.hours+24*subDays,wholeHours=Math.floor(hours),subHours=hours-wholeHours,minutes=duration.minutes+60*subHours,wholeMinutes=Math.floor(minutes),subMinutes=minutes-wholeMinutes,seconds=duration.seconds+60*subMinutes,wholeSeconds=Math.floor(seconds),subSeconds=_normalizePrecision(seconds-wholeSeconds);subSeconds>=1&&(subSeconds=0,wholeSeconds++),wholeMinutes+=Math.floor(wholeSeconds/60),wholeSeconds%=60,wholeHours+=Math.floor(wholeMinutes/60),wholeMinutes%=60,wholeDays+=Math.floor(wholeHours/24),wholeHours%=24,wholeMonths+=Math.floor(wholeDays/daysInMonth),wholeDays%=daysInMonth,wholeYears+=Math.floor(wholeMonths/12),wholeMonths%=12,duration.years=wholeYears,duration.months=wholeMonths,duration.days=wholeDays,duration.hours=wholeHours,duration.minutes=wholeMinutes,duration.seconds=wholeSeconds+subSeconds},_normalizePrecision=function(value){return Number(value.toFixed(6))}}))}))}))},"startupjs/deps":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("contrib/lowpro_for_jquery"),__webpack_require__("contrib/jquery.cookie"),__webpack_require__("shim/jg_global"),__webpack_require__("contrib/jg_library"),__webpack_require__("startupjs/src/contrib/json2"),__webpack_require__("startupjs/src/contrib/jquery-ui-1.8.24"),__webpack_require__("startupjs/src/contrib/jquery.ui.tablesorter"),__webpack_require__("startupjs/src/contrib/jquery.bgiframe.min"),__webpack_require__("startupjs/src/contrib/jquery.form"),__webpack_require__("startupjs/src/contrib/ui.spinner"),__webpack_require__("startupjs/src/contrib/jquery.tipTip.minified"),__webpack_require__("startupjs/src/contrib/jquery.iphone-style-checkboxes"),__webpack_require__("startupjs/src/contrib/jquery.ui.nestedSortable"),__webpack_require__("startupjs/src/contrib/jquery.placeholder.min"),__webpack_require__("startupjs/shim/spinner"),__webpack_require__("startupjs/src/contrib/jquery.treeview"),__webpack_require__("startupjs/src/contrib/jquery.treeview.edit"),__webpack_require__("startupjs/src/contrib/jquery.treeview.async"),__webpack_require__("startupjs/src/contrib/jquery.tools.min"),__webpack_require__("startupjs/shim/doT"),__webpack_require__("startupjs/src/contrib/script"),__webpack_require__("startupjs/src/contrib/jquery.trap.min"),__webpack_require__("startupjs/src/contrib/splunk"),__webpack_require__("contrib/strftime"),__webpack_require__("legend"),__webpack_require__("logger"),__webpack_require__("messenger"),__webpack_require__("paginator"),__webpack_require__("print"),__webpack_require__("session"),__webpack_require__("splunk_time"),__webpack_require__("time_range"),__webpack_require__("window"),__webpack_require__("startupjs/src/error"),__webpack_require__("startupjs/src/job"),__webpack_require__("startupjs/src/message"),__webpack_require__("startupjs/src/context"),__webpack_require__("startupjs/src/search"),__webpack_require__("startupjs/src/jobber"),__webpack_require__("startupjs/src/menu_builder"),__webpack_require__("startupjs/src/admin"),__webpack_require__("startupjs/src/admin_lite"),__webpack_require__("startupjs/src/module_loader"),__webpack_require__("startupjs/src/ja_bridge"),__webpack_require__("startupjs/src/jquery.sparkline"),__webpack_require__("startupjs/src/popup"),__webpack_require__("startupjs/src/layout_engine"),__webpack_require__("startupjs/src/page_status"),__webpack_require__("startupjs/src/dev"),__webpack_require__("startupjs/src/field_summary"),__webpack_require__("startupjs/src/viewmaster"),__webpack_require__("startupjs/src/textarea_resize"),__webpack_require__("startupjs/src/scroller"),__webpack_require__("startupjs/src/timespinner"),__webpack_require__("startupjs/src/login"),__webpack_require__("startupjs/src/dashboard"),__webpack_require__("startupjs/src/pdf"),__webpack_require__("startupjs/src/splunk.jquery.ios-drag-patch"),__webpack_require__("startupjs/src/splunk.jquery.csrf_protection"),__webpack_require__("startupjs/src/splunk.jquery.check_messages"),__webpack_require__("startupjs/src/splunk.jquery.radio")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"startupjs/shim/doT":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("startupjs/src/contrib/doT")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(doT){return window.doT=doT}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"startupjs/shim/spinner":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("startupjs/src/contrib/spin.min")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(Spinner){return window.Spinner=Spinner}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"startupjs/src/admin":function(module,exports){Splunk.namespace("Splunk.EAI"),Splunk.EAI=$.klass({elements_loaded:!1,eaicfg:null,endpoint_base:"",eai_attributes:null,admin_namespace:"",initial_form_fields:null,entity_name:!1,saving:0,target_has_acl:!1,success_message:!1,redirect:!0,use_messenger_on_error:!1,confirmSubmission:!1,confirmQuestion:_("Are you sure you want to do this?"),initialize:function(){this.logger=Splunk.Logger.getLogger("Splunk.EAI")},setup:function(eaicfg,endpoint_base,eai_attributes){this.eaicfg=eaicfg,this.endpoint_base=endpoint_base,this.eai_attributes=eai_attributes},elementsLoaded:function(namespace,entity_name){this.elements_loaded=!0,this.admin_namespace=namespace,this.entity_name=entity_name;var f=this.getFormValues("eaiform");for(var elname in this.initial_form_fields={},f)this.initial_form_fields[elname]=!0},doElementOnChange:function(el,element_name){var elcfg=this.eaicfg[element_name];if(elcfg.onChange)return this._execChangeAction(el,element_name,elcfg,elcfg.onChange)},_execChangeAction:function(el,element_name,elcfg,actions){actions=actions instanceof Array?actions:[actions];for(var i=0;i<actions.length;i++)if(this.elements_loaded||0!=actions[i]._triggerOnLoad){var action=this["action_"+actions[i]._action];if(!action)return void this.logger.error("Invalid manager onChange action configured: "+actions[i]._action);action.call(this,el,element_name,elcfg,actions[i])}},action_showonly:function(el,element_name,elcfg,occfg){var type=elcfg.type;if(occfg._groupset){var selected,show,groupset=occfg._groupset instanceof Array?occfg._groupset:[occfg._groupset],use_regex=occfg._matchtype&&"regex"==occfg._matchtype;if(selected="checkbox"==type?$(el).prop("checked")?1:0:$(el).val(),use_regex){var key,fallback,pattern,matchre=/^\/(.+)\/(\w*)$/;for(key in occfg)if(occfg.hasOwnProperty(key))if("//"==key)fallback=occfg[key];else if("/"==key.substr(0,1)&&(pattern=matchre.exec(key))&&new RegExp(pattern[1],pattern[2]).test(selected)){show=occfg[key];break}!show&&fallback&&(show=fallback)}else show=occfg[selected];show=show?show.split(/ +/):["ALL"];for(var i=0;i<groupset.length;i++){var elname=groupset[i];$('[id="item-'+elname+'"][type="hidden"]').length||("ALL"==show[0]?$('[id="item-'+elname+'"]').show():-1==show.indexOf(elname)&&$('[id="item-'+elname+'"]').hide())}for(i=0;i<show.length;i++)$('[id="item-'+show[i]+'"][type="hidden"]').length||$('[id="item-'+show[i]+'"]').show()}},action_updateDisabled:function(el,element_name,elcfg,occfg){var modifylist=occfg.value_map;if(modifylist){var current=$(el).val();if(!current in modifylist)this.logger.error("updateRequired onChange handler does not define a value in the value_map for "+current);else{modifylist=modifylist[current].split(/ +/);for(var i=0;i<modifylist.length;i++)if(modifylist[i]){var op=modifylist[i].substr(0,1),field=modifylist[i].substr(1);switch(op){case"+":$('[id="item-'+field+'"]').find('input[name="'+field+'"]').prop("disabled",!0);break;case"-":$('[id="item-'+field+'"]').find('input[name="'+field+'"]').prop("disabled",!1);break;default:this.logger.error('Field "'+op+field+'" present in updateDisabled onChange handler that is not prefixed with + or -')}}}}},action_updateRequired:function(el,element_name,elcfg,occfg){var modifylist=occfg.value_map;if(modifylist){for(var req={},i=0,fc=this.eai_attributes.requiredFields.length;i<fc;i++)req[this.eai_attributes.requiredFields[i]]=1;var current=$(el).val();if(!current in modifylist)this.logger.error("updateRequired onChange handler does not define a value in the value_map for "+current);else{modifylist=modifylist[current].split(/ +/);for(var j=0;j<modifylist.length;j++)if(modifylist[j]){var op=modifylist[j].substr(0,1),field=modifylist[j].substr(1);switch(op){case"+":req[field]=1;break;case"-":delete req[field];break;default:this.logger.error('Field "'+op+field+'" present in updateRequired onChange handler that is not prefixed with + or -')}}for(var req_field in this.eai_required=[],req)this.eai_required.push(req_field)}}else this.eai_required=void 0},action_triggerChangeHandler:function(el,element_name,elcfg,occfg){target=$('[id="item-'+occfg.target+'"]'),occfg.makeVisible&&target.show(),target.is('input[type="hidden"]')?doElementOnChange(target,occfg.target):($("*[onchange]",target).trigger("onchange"),$('input[type="radio"][onclick][checked]',target).trigger("onclick"),$('input[type="checkbox"][onclick]',target).trigger("onclick"))},_triggerElementRefresh_active_count:0,action_triggerElementRefresh:function(el,element_name,elcfg,occfg){var self=this,target=occfg.target,makeVisible=!!occfg.makeVisible,element_overlay=occfg.updateElement?occfg.updateElement:{};this._triggerElementRefresh_active_count||($(".splOverlay-white").show(),$("#loadingmessage").show()),this._triggerElementRefresh_active_count++;$.ajax({type:"POST",url:Splunk.util.make_url("manager",self.admin_namespace,self.endpoint_base,"_element",target),data:{form_defaults:JSON.stringify(self.getFormValues("eaiform")),eai_attributes:JSON.stringify(self.eai_attributes),element_overlay:JSON.stringify(element_overlay),entity_name:JSON.stringify(self.entity_name)},dataType:"html",success:function(htmlresult,textStatus){--self._triggerElementRefresh_active_count||($(".splOverlay-white").hide(),$("#loadingmessage").hide());var newel=$('[id="item-'+target+'"]').replaceWith(htmlresult);$('[id="item-'+target+'"]').hasClass("accumulator")&&self.initAccumulators("item-"+target),occfg._triggerOnRefresh&&(newel=$('[id="item-'+target+'"]'),$("*[onchange]",newel).trigger("onchange"),$('input[type="radio"][onclick][checked]',newel).trigger("onclick"),$('input[type="checkbox"][onclick]',newel).trigger("onclick")),occfg._chained_action&&self._execChangeAction(el,element_name,elcfg,occfg._chained_action),makeVisible&&$('[id="item-'+target+'"]').show()},error:function(xhr,textStatus,errorThrown){--self._triggerElementRefresh_active_count||($(".splOverlay-white").hide(),$("#loadingmessage").hide()),Splunk.Messenger.System.getInstance().send("error","elementRefresh",sprintf(_("Splunk failed to fetch the element from the server: ")+textStatus))}})},action_setElementValue:function(el,element_name,elcfg,occfg){var target_el,target=occfg.target,value=occfg.value,makeVisible=!!occfg.makeVisible,value_map=occfg.value_map;if(value_map){var current;switch(el.type){case"checkbox":current=$(el).filter(":checked").val();break;case"select":current=$(el).filter(":selected").val();break;default:current=$(el).val()}if(!(current in value_map))return;value=value_map[current]}switch(this.eaicfg[target].type){case"radio":(target_el=$('[id="item-'+target+'"]').find('input[type="radio"][value="'+value+'"]')).val(1);break;case"checkbox":(target_el=$('[id="item-'+target+'"]').find('input[type="checkbox"][value="'+value+'"]')).val(1);break;case"select":case"multiselect":(target_el=$('[id="item-'+target+'"]').find('select[name="'+target+'"]')).val(value);break;case"textfield":(target_el=$('[id="item-'+target+'"]').find('input[name="'+target+'"]')).val(value);break;case"textarea":(target_el=$('[id="item-'+target+'"]').find('textarea[name="'+target+'"]')).val(value);break;case"hidden":(target_el=$('[id="item-'+target+'"]')).val(value)}makeVisible&&$('[id="item-'+target+'"]').show(),this.doElementOnChange(target_el,target)},action_updateElementState:function(el,element_name,elcfg,occfg){var target=occfg.target,value_map=occfg.value_map;if(value_map){var current=$(el).filter(":checked").val(),target_el=$('[id="item-'+target+'"]').find('select[name="'+target+'"]');if(Splunk.util.normalizeBoolean(current)){for(var key in value_map){var value=value_map[key].trim().toLowerCase();switch(value){case"disable":target_el.find('option[value="'+key+'"]').prop("disabled",!0);break;case"enable":target_el.find('option[value="'+key+'"]').prop("disabled",!1);break;default:this.logger.error("Invalid manager onChange value_map configured: '"+value+"' is an invalid value.")}}target_el.parent().find(".exampleText").show(),this.logger.info("Enabled summary indexing: Alert condition has been set to 'always'.")}else target_el.find("option").prop("disabled",!1),target_el.parent().find(".exampleText").hide()}},action_showTreeView:function(el,element_name,elcfg,occfg){var elTarget="input#"+element_name+"_id",title=_("Treeview"),style="wizardPopup",data={eai_path:occfg.eaiPath,selected_text:occfg.selectedText+": ",start_node:escape($(elTarget).val())};if(occfg.extraDataFields)for(var dataFields=occfg.extraDataFields.split(","),i=0;i<dataFields.length;i++){var field=$.trim(dataFields[i]),target_el=$('[id="item-'+field+'"]').find('input[name="'+field+'"]');target_el.val().length>0&&(data[field]=target_el.val())}occfg.title&&(title=occfg.title),occfg.style&&(style=occfg.style);Splunk.Popup.TreePopup(elTarget,title,data,style)},getFormValues:function(form_id){var f=$("#"+form_id)[0];if(!f)return Splunk.Messenger.System.getInstance().send("error","getFormValues",sprintf(_('Splunk failed to fetch form values for form "%s"'),form_id)),{};for(var result={},i=0;i<f.elements.length;i++){var el=f.elements[i],elname=el.name;elname&&(result[elname]=$(el).val())}return result},initAccumulators:function(accList){if(accList){for(var accumulators=accList instanceof Array?accList:[accList],i=0;i<accumulators.length;i++){!function(elname){$("#"+accumulators[i]).bind("click",(function(evt){var t=evt.target;if($(t).is("li"))$li=$(t);else{if(!$(t).is("span"))return $(t).is("a.addAllLink")?(addAll(this),doElementOnChange(t,elname),!1):$(t).is("a.removeAllLink")?(removeAll(this),doElementOnChange(t,elname),!1):void 0;$li=$(t).parent("li")}return $li.parents(".availableOptions").length&&$li.hasClass("selected")||$li.parents(".selectedOptions").length?removeFromSelected($li,this):addToSelected($li,this),doElementOnChange(t,elname),!1}))}(accumulators[i].substring(5))}var removeFromSelected=function($li,context){var value=$li.attr("name");$(".selectedOptions li",context).filter((function(){return $(this).attr("name")==value})).remove(),$(".hiddenSelectedOptions option",context).filter((function(){return $(this).attr("value")==value})).remove(),$(".availableOptions li",context).filter((function(){return $(this).attr("name")==value})).removeClass("selected")},addToSelected=function(arr,context){for(var liArray=arr instanceof Array?arr:[arr],selectedOptions=[],hiddenOptions=[],i=0;i<liArray.length;i++)$li=$(liArray[i]),value=$li.attr("name"),fieldValue=$li.text(),label=$li.text(),selectedOptions.push('<li name="'+Splunk.util.escapeHtml(value)+'"><span class="splIcon splIcon-arrow-w"></span>'+Splunk.util.escapeHtml(fieldValue)+"</li>"),hiddenOptions.push('<option selected="selected" value="'+Splunk.util.escapeHtml(value)+'" >'+Splunk.util.escapeHtml(label)+"</option>"),$li.addClass("selected");$(".selectedOptions",context).append(selectedOptions.join("")),$(".hiddenSelectedOptions",context).append(hiddenOptions.join(""));var selItems=$(".selectedOptions li",context).get();selItems.sort((function(a,b){var keyA=$(a).text(),keyB=$(b).text();return keyA<keyB?-1:keyA>keyB?1:0}));var selItemsUl=$(".selectedOptions",context);$.each(selItems,(function(i,li){selItemsUl.append(li)}))},addAll=function(context){var liArray=$(".availableOptions",context).find("li").not(".selected").get();addToSelected(liArray,context)},removeAll=function(context){$(".selectedOptions",context).find("li").remove(),$(".hiddenSelectedOptions",context).find("option").remove(),$(".availableOptions li.selected",context).removeClass("selected")}}},dispatchInitAccumulators:function(){var accumulators=[];$(".accumulator").not(".accDisabled").each((function(){accumulators.push($(this).attr("id"))})),accumulators.length>0&&this.initAccumulators(accumulators)},adminTabify:function(tabID,selectedTab){var $tabID="#"==tabID.substr(0,1)?$(tabID):$("#"+tabID);selectedTab&&(selectedTab="#"==selectedTab.substr(0,1)?selectedTab:"#"+selectedTab),$tabID.find("li").not(".linkTab").each((function(i){$a=$(this).children("a"),!selectedTab&&0==i||selectedTab&&selectedTab==$a.attr("href")?($(this).addClass("selected"),$($a.attr("href")).show()):$($a.attr("href")).hide()})),$tabID.bind("click",(function(evt){var t=evt.target,$elem=!1;if($(t).is("a")&&!$(t).parent("li").hasClass("linkTab")?$elem=$(t):$(t).is("li")&&!$(t).hasClass("linkTab")&&($elem=$(t).children("a")),$elem)return $($("li.selected").children("a").attr("href")).hide(),$("li.selected").removeClass("selected"),$elem.parent("li").addClass("selected"),$($elem.attr("href")).show(),!1})),$(".adminContent").addClass("hasTabs")},setError:function(errmsg){if(this.use_messenger_on_error){var messenger=Splunk.Messenger.System.getInstance();messenger.clear(),messenger.send("error","splunk.eai",errmsg)}else $(".EAIError").text(errmsg).show()},saveForm:function(formObject,successCallback,errorCallback){if(this.saving++)return!1;if(this.confirmSubmission&&(allowSubmit=confirm(this.confirmQuestion),!allowSubmit))return this.saving--,!1;var self=this,messenger=Splunk.Messenger.System.getInstance();if(this.clearFieldErrors(),!this.validateRequiredFields(formObject))return this.setError(_("Please enter all required fields")),errorCallback&&errorCallback(),this.saving--,!1;if(!this.validatePasswordFields(formObject))return errorCallback&&errorCallback(),this.saving--,!1;try{$('input[type="checkbox"]',formObject).each((function(){$(this).hasClass("proxiable")&&1!=$(this).prop("disabled")&&self._generateProxyCheckbox(this,formObject)}))}catch(e){return alert(_("Error occurred during submission: unable to get checkbox state")),!1}try{if(!this.fieldMappingSubmitHandler())return!1;this.handleDeletedFields(formObject)}catch(e){return alert(_("Error occurred processing form submission: ")+e),!1}return $(".jmFormActions button.splButton-primary span").each((function(){$(this).data("org",$(this).text())})),$(".jmFormActions button.splButton-primary span").text(_("Saving...")),$(".jmFormActions button.splButton-primary").attr("disabled","disabled"),$('input[name="__redirect"]',formObject).val(this.redirect?"1":"0"),$(formObject).ajaxSubmit({dataType:"json",success:function(response){var callback=!1;switch(response.status){case"OK":if(window.parent&&window.parent.postMessage&&window.parent.postMessage("inputsaved","*"),response.redirect)return void(window.location=response.redirect);messenger.send("info","splunk.eai",self.success_message?self.success_message:response.msg),callback=successCallback;break;case"FIELD_ERRORS":for(var fieldname in self.setError(_("Please correct the errors below")),response.fields)self.setFieldError(fieldname,response.fields[fieldname]);callback=errorCallback;break;case"ERROR":self.setError(response.msg),callback=errorCallback;break;default:self.logger.error("Unknown status response received from EAI submission endpoint: "+response.status)}$(".jmFormActions button.splButton-primary span").each((function(){$(this).text($(this).data("org"))})),$(".jmFormActions button.splButton-primary").each((function(){$(this).removeAttr("disabled")})),self._revertProxiedCheckboxes(formObject),window.scroll(0,0),callback&&callback(),self.saving=0},error:function(xhr,status,error){self.setError(sprintf(_("Your entry was not saved.  The following error was reported: %(error)s."),{error:error})),$(".jmFormActions button.splButton-primary span").each((function(){$(this).text($(this).data("org"))})),$(".jmFormActions button.splButton-primary").each((function(){$(this).removeAttr("disabled")})),self._revertProxiedCheckboxes(formObject),errorCallback&&errorCallback(),self.saving=0}}),!1},setFieldError:function(element_name,error_msg){$('[id="item-'+element_name+'"] .widgeterror').text(error_msg).show()},clearFieldErrors:function(){$(".widgeterror").text("").hide()},_isFieldSet:function(fieldvalues,fieldname){if(fieldvalues.hasOwnProperty(fieldname)){if(void 0===fieldvalues[fieldname]||null===fieldvalues[fieldname]||!fieldvalues[fieldname])return!1;if(fieldvalues[fieldname].substring&&!Splunk.util.trim(fieldvalues[fieldname]).length)return!1}return!0},validateRequiredFields:function(frm){var required=null==this.eai_required?this.eai_attributes.requiredFields:this.eai_required;if(!required)return!0;for(var ok=!0,values=this.getFormValues($(frm).attr("id")),i=0,fc=required.length;i<fc;i++){var fieldname=required[i];this.eaicfg[fieldname]&&void 0!==this.eaicfg[fieldname].disableClientSideRequire||(this._isFieldSet(values,fieldname)||(this.setFieldError(fieldname,_("Required field")),ok=!1))}for(var eaicfg_fieldname in this.eaicfg)this.eaicfg[eaicfg_fieldname].hasOwnProperty("requiredIfVisible")&&values.hasOwnProperty(eaicfg_fieldname)&&!$('[id="item-'+eaicfg_fieldname+'"]').is(":hidden")&&(this._isFieldSet(values,eaicfg_fieldname)||(this.setFieldError(eaicfg_fieldname,_("Required field")),ok=!1));return ok},validatePasswordFields:function(frm){frm=frm[0];for(var i=0;i<frm.elements.length;i++){var el=frm.elements[i],elname=el.name;if(elname&&"spl-"!=elname.substr(0,4)&&"password"==$(el).attr("type")){var pair=$('[name="spl-ctrl_'+elname+'-confirm"]');if(void 0!==pair.val()){var val1=$(el).val();if(!val1.match(/^\**$/)&&val1!=pair.val())return this.setFieldError(elname,_("Passwords do not match")),!1}}}return!0},handleDeletedFields:function(formObject){var container=$("#deleted");container.length?container.empty():container=$('<div id="deleted" style="display:none"></div>').appendTo('form[name="'+this.endpoint_base+'"]');var current=this.getFormValues(formObject.attr("id"));for(var fieldname in this.initial_form_fields){var field=current[fieldname];(null==field||(Array.isArray(field)&&field.length==0))&&$('<input type="hidden" name="'+Splunk.util.escapeHtml(fieldname)+'" value="" />').appendTo(container)}},fieldMappingSubmitHandler:function(){return $(".fieldmapping").filter(".left").each((function(){var fieldname=$(this).val(),fieldval=$(this).next();if(fieldname){var prefix=$(this).parents(".repeatable").data("repeatable").prefix;$(fieldval).attr("name",prefix+fieldname)}else $(fieldval).attr("name","spl-ctrl_null")})),!0},initRepeatables:function(frm){$(".repeatable a.addnew",frm).click(this.repeatableAddNew.bind(this)),$(".repeatable a.delete",frm).click(this.repeatableDeleteField.bind(this)),$(".repeatable").each(this._checkRepeatableDefaults.bind(this))},_checkRepeatableDefaults:function(index,el){$(el).data("repeatable").submitDeleted||$(".fieldmapping .right",el).each(function(index,el){delete this.initial_form_fields[$(el).attr("name")]}.bind(this))},repeatableAddNew:function(ev){var target=ev.target,container=$(target).parent().parent(),maxcount=$(target).parents(".repeatable").data("repeatable").maxcount;if(maxcount>-1&&$(container).find(".widget").length-1>=maxcount)return alert(sprintf(ungettext("Cannot add more than %s entry","Cannot add more than %s entries",maxcount),maxcount)),!1;var template=container.find(".repeatabletemplate > div"),newentry=template.clone();newentry.attr("id",template.attr("id")+Math.round(1e9*Math.random())),$(target).parent().before(newentry);var del=this.repeatableDeleteField.bind(this);return $(".delete",newentry).click(del),this.setupKeyOverride(newentry),!1},repeatableDeleteField:function(ev){var target=ev.target,container=$(target).parents(".repeatable"),mincount=container.data("repeatable").mincount;return mincount>0&&$(container).find(".widget").length-1<=mincount?(alert(sprintf(ungettext("Must have at least %s entry","Must have at least %s entries",mincount),mincount)),!1):($(target).closest(".widget").remove(),!1)},_generateProxyCheckbox:function(checkboxObject,formObject,falseValue){if(!$(checkboxObject).prop("checked")){null==falseValue&&(falseValue="0");var expectedName=checkboxObject.name,displacedName="_spl_proxied_"+expectedName;checkboxObject.name=displacedName,$(sprintf('<input type="hidden" name="%s" value="%s" />',expectedName,falseValue)).appendTo(formObject)}},_revertProxiedCheckboxes:function(formObject){$('input[type="checkbox"]',formObject).each((function(){var name=$(this).attr("name");if(0==name.indexOf("_spl_proxied_")){var original_name=name.substr(13);$('input[name="'+original_name+'"]').remove(),$(this).attr("name",original_name)}}))},setupKeyOverride:function(frm){frm||(frm=$("#eaiform"));var self=this;$("input",frm).not(".withbutton").keypress((function(ev){return 13!=ev.which||(frm.submit(),!1)})),$("input.withbutton",frm).keypress((function(ev){return 13!=ev.which||(self.doElementOnChange(ev.target,$(ev.target).attr("name")),!1)}))},handleAdminReady:function(namespace,entity_name){this.dispatchInitAccumulators(),$("*[onchange]").trigger("onchange"),$('input[type="radio"][onclick][checked]').trigger("onclick"),$('input[type="checkbox"][onclick]').trigger("onclick"),this.setupKeyOverride(),this.elementsLoaded(namespace,entity_name),this.initRepeatables()}}),Splunk.EAI.instance=null,Splunk.EAI.getInstance=function(){return arguments.length?(Splunk.EAI.instance=new Splunk.EAI,Splunk.EAI.instance.setup.apply(Splunk.EAI.instance,arguments)):Splunk.EAI.instance||alert("Attempted to fetch instance of Splunk.EAI prior to initialization"),Splunk.EAI.instance};window.moveObjectToApp=function(uriToMove,entityName,entowner){new Splunk.Popup($(".moveObjectFormContainer"),{title:_("Move Object"),buttons:[{label:_("Move"),type:"primary",callback:function(){return $('.popupContent #moveControl input[name="name"]').val(entityName),$('.popupContent #moveControl input[name="entowner"]').val(entowner),$('.popupContent #moveControl input[name="uri"]').val(uriToMove),$(".popupContent #moveControl").submit(),!0}.bind(this)}]})},window.restart_server=function(return_to){var start_time,restart_url_base,restart_url_proto,restart_timeout=!1,restart_tries=0,restart_done=!1,restart_notified=!1,img_list=[],restart_fail=function(msg){$(".splOverlay").hide(),$("#restartstatus").hide(),$("#statusmsg").hide(),Splunk.Messenger.System.getInstance().send("error","restart_server",msg)},restart_succeeded=function(){var bounce_url;restart_notified||(restart_notified=!0,alert(_("Restart successful - close this dialog to redirect back to login page")),bounce_url=return_to?restart_url_base+Splunk.util.make_full_url("/account/login",{return_to:return_to}):restart_url_base+Splunk.util.make_url("/"),window.location.href=bounce_url)},restart_in_progress=function(){$(".splOverlay").show(),$("#statusmsg").hide(),$("#restartstatus").show()},restart_check_status=function(){if(!restart_done){if(restart_tries++>=180)return restart_fail(_("Timed out waiting for restart"));$.ajax({type:"GET",dataType:"json",cache:!1,url:restart_url_base+Splunk.util.make_url("/api/config/UI_UNIX_START_TIME"),success:function(data){if(data.start_time>start_time)return restart_done=!0,clearTimeout(restart_timeout),restart_succeeded()}}),restart_timeout=setTimeout(restart_check_status,2e3)}},restart_img_loaded=function(){restart_done=!0,clearTimeout(restart_timeout),restart_succeeded()},restart_check_status_img=function(){if(!restart_done){var im=new Image;im.onload=restart_img_loaded,im.src=restart_url_base+Splunk.util.make_url("/config/img?proto="+restart_url_proto+"&_="+Math.random()),im.alt=_("Restart check status"),img_list.push(im),restart_timeout=setTimeout(restart_check_status_img,2e3)}};return!!confirm(_("Are you sure you want to restart Splunk?"))&&(restart_in_progress(),$.post(Splunk.util.make_url("/api/manager/control"),{operation:"restart_server"},(function(data){if("OK"==data.status){start_time=data.start_time,"window"==data.ssl&&(data.ssl="https:"==window.location.protocol),restart_url_proto=data.ssl?"https":"http",restart_url_base=(data.ssl?"https://":"http://")+window.location.hostname+(80==data.port||data.ssl&&443==data.port?"":":"+data.port),Splunk.Logger.mode.Default=Splunk.Logger.mode.None,Splunk.Messenger.System.getInstance().abortRequests=!0,Splunk.Session.getInstance().signalRestart(),restart_tries=0;var current_port=window.location.port||("http:"==window.location.protocol?80:443),current_ssl="https:"==window.location.protocol;return!current_ssl&&data.ssl||data.ssl&&current_port!=data.port?($(".splOverlay").show(),$("#statusmsg").hide(),$("#restartsslwarn").show(),void $("#restartsslwarn a").attr("href",restart_url_base+Splunk.util.make_url("/"))):(data.ssl!=current_ssl||current_port!=data.port?restart_check_status_img():restart_check_status(),restart_in_progress())}return"PERMS"==data.status?restart_fail(_("Permission Denied - You are not authorized to restart the server")):"AUTH"==data.status?restart_fail(_("Restart failed")):"FAIL"==data.status?restart_fail(_("Restart failed: "+data.reason)):restart_fail(_("Restart failed"))}),"json"),!1)},window.resync_auth=function(){var msg=Splunk.Messenger.System.getInstance();msg.send("info","resync_auth",_("Syncing..")),$.ajax({type:"POST",data:{operation:"resync_auth"},dataType:"text",cache:!1,url:Splunk.util.make_url("/api/manager/control"),success:function(data){"OK"==data.substr(0,2)?(msg.send("info","resync_auth",_("Authentication synched successfully.")),setTimeout("window.location.reload();",1e3)):"AUTH"==data.substr(0,4)?msg.send("error","resync_auth",_("Synch failed - authentication rejected - Log in again to retry.")):"PERMS"==data.substr(0,5)?msg.send("error","resync_auth",_("Permission denied. You are not authorized to reload the authentication system")):msg.send("error","resync_auth",_("Synch failed: ")+data)},error:function(){msg.send("error","resync_auth",_("Failed to contact server"))}})};$((function(){$("a.aboutLink").unbind("click"),$("a.aboutLink").click((function(event){Splunk.Popup.AboutPopup($(".aboutPopupContainer"))}))}))},"startupjs/src/admin_lite":function(module,exports){var sort;Splunk.namespace("Splunk.Admin"),Splunk.Admin.sorter=function(a,b){return a.value>b.value?1:a.value<b.value?-1:0},Splunk.Admin.initAccumulator2=function(){$("table.accumulator").each((function(){var availableList=$("select.available",this),selectedList=$("select.selected",this),proxyList=$("select.proxy",this),insertItems=function(things){selectedList.append(things.clone()),things.each((function(){$(this).prop("disabled",!0)})),$("option",availableList).prop("selected",!1),$("option",selectedList).prop("selected",!1);var previous_value=null;$("option",selectedList).sortElements(Splunk.Admin.sorter).each((function(){this.value==previous_value?$(this).remove():previous_value=this.value})),proxyList.html("").append($("option",selectedList).clone()),$("option",proxyList).prop("selected",!0)},deleteItems=function(things){things.each((function(){var matchSelector="option[value='"+$(this).attr("value")+"']";$(matchSelector,availableList).prop("disabled",!1)})),things.remove(),availableList.focus(),$("option",selectedList).prop("selected",!1),proxyList.html("").append($("option",selectedList).clone()),$("option",proxyList).prop("selected",!0)};$("button.insert",this).bind("click",(function(evt){insertItems($("option:selected",availableList))})),$("button.delete",this).bind("click",(function(evt){deleteItems($("option:selected",selectedList))})),availableList.bind("dblclick",(function(evt){$(evt.target).is("option")&&insertItems($(evt.target))})),selectedList.bind("dblclick",(function(evt){$(evt.target).is("option")&&deleteItems($(evt.target))}))}))},Splunk.Admin.initAccumulator=function(){$(".accumulator").each((function(){var availableList=$("ul.available",this),selectedList=$("ul.selected",this),proxyList=$("select.proxy",this),deleteItem=function(liObject){var value=liObject.attr("val");$("li[val='"+value+"']",availableList).removeClass("chosen"),$("option[value='"+value+"']",proxyList).remove(),$("li[val='"+value+"']",selectedList).remove()};availableList.bind("click",(function(evt){var item=$(evt.target);item.is("li")&&!item.hasClass("disabled")&&(item.hasClass("chosen")?deleteItem(item):function(liObject){var value=$.trim(liObject.attr("val")),label=$.trim(liObject.text());selectedList.append($("<li/>").attr("val",value).text(label)),proxyList.append($("<option/>").attr("value",value).prop("selected",!0).text(label)),$("li[val='"+value+"']",availableList).addClass("chosen"),$("li",selectedList).sortElements((function(a,b){return a.innerHTML>b.innerHTML?1:a.innerHTML<b.innerHTML?-1:0}))}(item)),setTimeout((function(){selectedList.addClass("ie-sucks")}),10)})),selectedList.bind("click",(function(evt){$(evt.target).is("li")&&deleteItem($(evt.target))}))}))},jQuery.fn.sortElements=(sort=[].sort,function(comparator,getSortable){getSortable=getSortable||function(){return this};var placements=this.map((function(){var sortElement=getSortable.call(this),parentNode=sortElement.parentNode,nextSibling=parentNode.insertBefore(document.createTextNode(""),sortElement.nextSibling);return function(){if(parentNode===this)throw new Error("You can't sort elements if any one is a descendant of another.");parentNode.insertBefore(this,nextSibling),parentNode.removeChild(nextSibling)}}));return sort.call(this,comparator).each((function(i){placements[i].call(getSortable.call(this))}))}),$((function(){$("a.aboutLink").unbind("click"),$("a.aboutLink").click((function(event){Splunk.Popup.AboutPopup($(".aboutPopupContainer"))})),$(".alerts_opener").click((function(){return Splunk.window.openAerts(this.href),!1})),$(".job_manager_opener").click((function(){return Splunk.window.openJobManager(),!1})),$(".splIcon-close").click((function(){return!1}))})),$((function(){Splunk.Admin.initAccumulator()}))},"startupjs/src/context":function(module,exports){Splunk.Context=$.klass({logger:Splunk.Logger.getLogger("search_context.js"),_root:{},initialize:function(){this._root={}},enforceByValue:function(value){return value instanceof Object?"function"==typeof value.clone?value.clone():"function"==typeof value?value:value instanceof Array?$.extend(!0,[],value):$.extend(!0,{},value):value},get:function(name){return this.has(name)?this.enforceByValue(this._root[name]):null},getAll:function(name){if(""==name)return this.enforceByValue(this._root);var hash={};for(var key in this._root)if(this._root.hasOwnProperty(key)){var truncatedKey;if(key==name)truncatedKey="";else{if(-1==key.indexOf(name+"."))continue;truncatedKey=key.replace(name+".","")}hash[truncatedKey]=this.enforceByValue(this._root[key])}return hash},has:function(name){return this._root.hasOwnProperty(name)},set:function(name,value){value=this.enforceByValue(value),this._root[name]=value},clone:function(){var clonedContext=new Splunk.Context;for(var key in this._root)this._root.hasOwnProperty(key)&&clonedContext.set(key,this.get(key));return clonedContext}})},"startupjs/src/contrib/doT":function(module,exports,__webpack_require__){!function(){var doT={version:"0.1.6"};function resolveDefs(c,block,def){return("string"==typeof block?block:block.toString()).replace(c.define,(function(match,code,assign,value){return 0===code.indexOf("def.")&&(code=code.substring(4)),code in def||(":"===assign?def[code]=value:eval("def[code]="+value)),""})).replace(c.use,(function(match,code){var v=eval(code);return v?resolveDefs(c,v,def):v}))}module.exports?module.exports=doT:this.doT=doT,doT.templateSettings={evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,varname:"it",strip:!0,append:!0},doT.template=function(tmpl,c,def){var cstart=(c=c||doT.templateSettings).append?"'+(":"';out+=(",cend=c.append?")+'":");out+='",str=c.use||c.define?resolveDefs(c,tmpl,def||{}):tmpl;str=("var out='"+(c.strip?str.replace(/\s*<!\[CDATA\[\s*|\s*\]\]>\s*|[\r\n\t]|(\/\*[\s\S]*?\*\/)/g,""):str).replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.interpolate,(function(match,code){return cstart+code.replace(/\\'/g,"'").replace(/\\\\/g,"\\").replace(/[\r\t\n]/g," ")+cend})).replace(c.encode,(function(match,code){return cstart+code.replace(/\\'/g,"'").replace(/\\\\/g,"\\").replace(/[\r\t\n]/g," ")+").toString().replace(/&(?!\\w+;)/g, '&#38;').split('<').join('&#60;').split('>').join('&#62;').split('\"').join('&#34;').split(\"'\").join('&#39;').split('/').join('&#47;'"+cend})).replace(c.evaluate,(function(match,code){return"';"+code.replace(/\\'/g,"'").replace(/\\\\/g,"\\").replace(/[\r\t\n]/g," ")+"out+='"}))+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").split("out+='';").join("").split("var out='';out+=").join("var out=");try{return new Function(c.varname,str)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+str),e}}}()},"startupjs/src/contrib/jquery-ui-1.8.24":function(module,exports){
/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.effects.core.js, jquery.effects.blind.js, jquery.effects.bounce.js, jquery.effects.clip.js, jquery.effects.drop.js, jquery.effects.explode.js, jquery.effects.fade.js, jquery.effects.fold.js, jquery.effects.highlight.js, jquery.effects.pulsate.js, jquery.effects.scale.js, jquery.effects.shake.js, jquery.effects.slide.js, jquery.effects.transfer.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.tabs.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
!function($,undefined){function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();if("area"===nodeName){var img,map=element.parentNode,mapName=map.name;return!(!element.href||!mapName||"map"!==map.nodeName.toLowerCase())&&(!!(img=$("img[usemap=#"+mapName+"]")[0])&&visible(img))}return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"==nodeName&&element.href||isTabIndexNotNaN)&&visible(element)}function visible(element){return!$(element).parents().addBack().filter((function(){return"hidden"===$.curCSS(this,"visibility")||$.expr.filters.hidden(this)})).length}$.ui=$.ui||{},$.ui.version||($.extend($.ui,{version:"1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),$.fn.extend({propAttr:$.fn.prop||$.fn.attr,_focus:$.fn.focus,focus:function(delay,fn){return"number"==typeof delay?this.each((function(){var elem=this;setTimeout((function(){$(elem).focus(),fn&&fn.call(elem)}),delay)})):this._focus.apply(this,arguments)},scrollParent:function(){var scrollParent;return scrollParent=$.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter((function(){return/(relative|absolute|fixed)/.test($.curCSS(this,"position",1))&&/(auto|scroll)/.test($.curCSS(this,"overflow",1)+$.curCSS(this,"overflow-y",1)+$.curCSS(this,"overflow-x",1))})).eq(0):this.parents().filter((function(){return/(auto|scroll)/.test($.curCSS(this,"overflow",1)+$.curCSS(this,"overflow-y",1)+$.curCSS(this,"overflow-x",1))})).eq(0),/fixed/.test(this.css("position"))||!scrollParent.length?$(document):scrollParent},zIndex:function(zIndex){if(void 0!==zIndex)return this.css("zIndex",zIndex);if(this.length)for(var position,value,elem=$(this[0]);elem.length&&elem[0]!==document;){if(("absolute"===(position=elem.css("position"))||"relative"===position||"fixed"===position)&&(value=parseInt(elem.css("zIndex"),10),!isNaN(value)&&0!==value))return value;elem=elem.parent()}return 0},disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",(function(event){event.preventDefault()}))},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],(function(i,name){var side="Width"===name?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){return $.each(side,(function(){size-=parseFloat($.curCSS(elem,"padding"+this,!0))||0,border&&(size-=parseFloat($.curCSS(elem,"border"+this+"Width",!0))||0),margin&&(size-=parseFloat($.curCSS(elem,"margin"+this,!0))||0)})),size}$.fn["inner"+name]=function(size){return void 0===size?orig["inner"+name].call(this):this.each((function(){$(this).css(type,reduce(this,size)+"px")}))},$.fn["outer"+name]=function(size,margin){return"number"!=typeof size?orig["outer"+name].call(this,size):this.each((function(){$(this).css(type,reduce(this,size,!0,margin)+"px")}))}})),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo((function(dataName){return function(elem){return!!$.data(elem,dataName)}})):function(elem,i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}}),$((function(){var body=document.body,div=body.appendChild(div=document.createElement("div"));div.offsetHeight,$.extend(div.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),$.support.minHeight=100===div.offsetHeight,$.support.selectstart="onselectstart"in div,body.removeChild(div).style.display="none"})),$.curCSS||($.curCSS=$.css),$.extend($.ui,{plugin:{add:function(module,option,set){var proto=$.ui[module].prototype;for(var i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args){var set=instance.plugins[name];if(set&&instance.element[0].parentNode)for(var i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}},contains:function(a,b){return document.compareDocumentPosition?16&a.compareDocumentPosition(b):a!==b&&a.contains(b)},hasScroll:function(el,a){if("hidden"===$(el).css("overflow"))return!1;var has,scroll=a&&"left"===a?"scrollLeft":"scrollTop";return el[scroll]>0||(el[scroll]=1,has=el[scroll]>0,el[scroll]=0,has)},isOverAxis:function(x,reference,size){return x>reference&&x<reference+size},isOver:function(y,x,top,left,height,width){return $.ui.isOverAxis(y,top,height)&&$.ui.isOverAxis(x,left,width)}}))}(jQuery),function($,undefined){if($.cleanData){var _cleanData=$.cleanData;$.cleanData=function(elems){for(var elem,i=0;null!=(elem=elems[i]);i++)try{$(elem).triggerHandler("remove")}catch(e){}_cleanData(elems)}}else{var _remove=$.fn.remove;$.fn.remove=function(selector,keepData){return this.each((function(){return keepData||selector&&!$.filter(selector,[this]).length||$("*",this).add([this]).each((function(){try{$(this).triggerHandler("remove")}catch(e){}})),_remove.call($(this),selector,keepData)}))}}$.widget=function(name,base,prototype){var fullName,namespace=name.split(".")[0];fullName=namespace+"-"+(name=name.split(".")[1]),prototype||(prototype=base,base=$.Widget),$.expr[":"][fullName]=function(elem){return!!$.data(elem,name)},$[namespace]=$[namespace]||{},$[namespace][name]=function(options,element){arguments.length&&this._createWidget(options,element)};var basePrototype=new base;basePrototype.options=$.extend(!0,{},basePrototype.options),$[namespace][name].prototype=$.extend(!0,basePrototype,{namespace:namespace,widgetName:name,widgetEventPrefix:$[namespace][name].prototype.widgetEventPrefix||name,widgetBaseClass:fullName},prototype),$.widget.bridge(name,$[namespace][name])},$.widget.bridge=function(name,object){$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=Array.prototype.slice.call(arguments,1),returnValue=this;return options=!isMethodCall&&args.length?$.extend.apply(null,[!0,options].concat(args)):options,isMethodCall&&"_"===options.charAt(0)||(isMethodCall?this.each((function(){var instance=$.data(this,name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&void 0!==methodValue)return returnValue=methodValue,!1})):this.each((function(){var instance=$.data(this,name);instance?instance.option(options||{})._init():$.data(this,name,new object(options,this))}))),returnValue}},$.Widget=function(options,element){arguments.length&&this._createWidget(options,element)},$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(options,element){$.data(element,this.widgetName,this),this.element=$(element),this.options=$.extend(!0,{},this.options,this._getCreateOptions(),options);var self=this;this.element.bind("remove."+this.widgetName,(function(){self.destroy()})),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(key,value){var options=key;if(0===arguments.length)return $.extend({},this.options);if("string"==typeof key){if(void 0===value)return this.options[key];(options={})[key]=value}return this._setOptions(options),this},_setOptions:function(options){var self=this;return $.each(options,(function(key,value){self._setOption(key,value)})),this},_setOption:function(key,value){return this.options[key]=value,"disabled"===key&&this.widget()[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",value),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},(event=$.Event(event)).type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&!1===callback.call(this.element[0],event,data)||event.isDefaultPrevented())}}}(jQuery),function($,undefined){var mouseHandled=!1;$(document).mouseup((function(e){mouseHandled=!1})),$.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var self=this;this.element.bind("mousedown."+this.widgetName,(function(event){return self._mouseDown(event)})).bind("click."+this.widgetName,(function(event){if(!0===$.data(event.target,self.widgetName+".preventClickEvent"))return $.removeData(event.target,self.widgetName+".preventClickEvent"),event.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){if(!mouseHandled){this._mouseStarted&&this._mouseUp(event),this._mouseDownEvent=event;var self=this,btnIsLeft=1==event.which,elIsCancel=!("string"!=typeof this.options.cancel||!event.target.nodeName)&&$(event.target).closest(this.options.cancel).length;return!(btnIsLeft&&!elIsCancel&&this._mouseCapture(event))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){self.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=!1!==this._mouseStart(event),!this._mouseStarted)?(event.preventDefault(),!0):(!0===$.data(event.target,this.widgetName+".preventClickEvent")&&$.removeData(event.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(event){return self._mouseMove(event)},this._mouseUpDelegate=function(event){return self._mouseUp(event)},$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),event.preventDefault(),mouseHandled=!0,!0))}},_mouseMove:function(event){return!$.browser.msie||document.documentMode>=9||event.button?this._mouseStarted?(this._mouseDrag(event),event.preventDefault()):(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,event),this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)),!this._mouseStarted):this._mouseUp(event)},_mouseUp:function(event){return $(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,event.target==this._mouseDownEvent.target&&$.data(event.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(event)),!1},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(event){return this.mouseDelayMet},_mouseStart:function(event){},_mouseDrag:function(event){},_mouseStop:function(event){},_mouseCapture:function(event){return!0}})}(jQuery),function($,undefined){$.widget("ui.draggable",$.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(event){var o=this.options;return!(this.helper||o.disabled||$(event.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(event),!!this.handle&&(o.iframeFix&&$(!0===o.iframeFix?"iframe":o.iframeFix).each((function(){$('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css($(this).offset()).appendTo("body")})),!0))},_mouseStart:function(event){var o=this.options;return this.helper=this._createHelper(event),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(event),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),o.containment&&this._setContainment(),!1===this._trigger("start",event)?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this._mouseDrag(event,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,event),!0)},_mouseDrag:function(event,noPropagation){if(this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),!noPropagation){var ui=this._uiHash();if(!1===this._trigger("drag",event,ui))return this._mouseUp({}),!1;this.position=ui.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),!1},_mouseStop:function(event){var dropped=!1;$.ui.ddmanager&&!this.options.dropBehaviour&&(dropped=$.ui.ddmanager.drop(this,event)),this.dropped&&(dropped=this.dropped,this.dropped=!1);for(var element=this.element[0],elementInDom=!1;element&&(element=element.parentNode);)element==document&&(elementInDom=!0);if(!elementInDom&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!dropped||"valid"==this.options.revert&&dropped||!0===this.options.revert||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped)){var self=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==self._trigger("stop",event)&&self._clear()}))}else!1!==this._trigger("stop",event)&&this._clear();return!1},_mouseUp:function(event){return $("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,event),$.ui.mouse.prototype._mouseUp.call(this,event)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(event){var handle=!this.options.handle||!$(this.options.handle,this.element).length;return $(this.options.handle,this.element).find("*").addBack().each((function(){this==event.target&&(handle=!0)})),handle},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):"clone"==o.helper?this.element.clone().removeAttr("id"):this.element;return helper.parents("body").length||helper.appendTo("parent"==o.appendTo?this.element[0].parentNode:o.appendTo),helper[0]==this.element[0]||/(fixed|absolute)/.test(helper.css("position"))||helper.css("position","absolute"),helper},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&$.browser.msie)&&(po={top:0,left:0}),{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var o=this.options;if("parent"==o.containment&&(o.containment=this.helper[0].parentNode),"document"!=o.containment&&"window"!=o.containment||(this.containment=["document"==o.containment?0:$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==o.containment?0:$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==o.containment?0:$(window).scrollLeft())+$("document"==o.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==o.containment?0:$(window).scrollTop())+($("document"==o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||o.containment.constructor==Array)o.containment.constructor==Array&&(this.containment=o.containment);else{var c=$(o.containment),ce=c[0];if(!ce)return;c.offset();var over="hidden"!=$(ce).css("overflow");this.containment=[(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0),(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0),(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"==d?1:-1,scroll=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod),left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod)}},_generatePosition:function(event){var o=this.options,scroll="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName),pageX=event.pageX,pageY=event.pageY;if(this.originalPosition){var containment;if(this.containment){if(this.relative_container){var co=this.relative_container.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top]}else containment=this.containment;event.pageX-this.offset.click.left<containment[0]&&(pageX=containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<containment[1]&&(pageY=containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>containment[2]&&(pageX=containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>containment[3]&&(pageY=containment[3]+this.offset.click.top)}if(o.grid){var top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment&&(top-this.offset.click.top<containment[1]||top-this.offset.click.top>containment[3])?top-this.offset.click.top<containment[1]?top+o.grid[1]:top-o.grid[1]:top;var left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment&&(left-this.offset.click.left<containment[0]||left-this.offset.click.left>containment[2])?left-this.offset.click.left<containment[0]?left+o.grid[0]:left-o.grid[0]:left}}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(type,event,ui){return ui=ui||this._uiHash(),$.ui.plugin.call(this,type,[event,ui]),"drag"==type&&(this.positionAbs=this._convertPositionTo("absolute")),$.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(event){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.extend($.ui.draggable,{version:"1.8.24"}),$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[],$(o.connectToSortable).each((function(){var sortable=$.data(this,"sortable");sortable&&!sortable.options.disabled&&(inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert}),sortable.refreshPositions(),sortable._trigger("activate",event,uiSortable))}))},stop:function(event,ui){var inst=$(this).data("draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,inst.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(event),this.instance.options.helper=this.instance.options._helper,"original"==inst.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",event,uiSortable))}))},drag:function(event,ui){var inst=$(this).data("draggable"),self=this;$.each(inst.sortables,(function(i){this.instance.positionAbs=inst.positionAbs,this.instance.helperProportions=inst.helperProportions,this.instance.offset.click=inst.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=$(self).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return ui.helper[0]},event.target=this.instance.currentItem[0],this.instance._mouseCapture(event,!0),this.instance._mouseStart(event,!0,!0),this.instance.offset.click.top=inst.offset.click.top,this.instance.offset.click.left=inst.offset.click.left,this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top,inst._trigger("toSortable",event),inst.dropped=this.instance.element,inst.currentItem=inst.element,this.instance.fromOutside=inst),this.instance.currentItem&&this.instance._mouseDrag(event)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",event,this.instance._uiHash(this.instance)),this.instance._mouseStop(event,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),inst._trigger("fromSortable",event),inst.dropped=!1)}))}}),$.ui.plugin.add("draggable","cursor",{start:function(event,ui){var t=$("body"),o=$(this).data("draggable").options;t.css("cursor")&&(o._cursor=t.css("cursor")),t.css("cursor",o.cursor)},stop:function(event,ui){var o=$(this).data("draggable").options;o._cursor&&$("body").css("cursor",o._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;t.css("opacity")&&(o._opacity=t.css("opacity")),t.css("opacity",o.opacity)},stop:function(event,ui){var o=$(this).data("draggable").options;o._opacity&&$(ui.helper).css("opacity",o._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(event,ui){var i=$(this).data("draggable");i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(event,ui){var i=$(this).data("draggable"),o=i.options,scrolled=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(o.axis&&"x"==o.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-i.overflowOffset.top<o.scrollSensitivity&&(i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed)),o.axis&&"y"==o.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-i.overflowOffset.left<o.scrollSensitivity&&(i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed))):(o.axis&&"x"==o.axis||(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed))),o.axis&&"y"==o.axis||(event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)))),!1!==scrolled&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(i,event)}}),$.ui.plugin.add("draggable","snap",{start:function(event,ui){var i=$(this).data("draggable"),o=i.options;i.snapElements=[],$(o.snap.constructor!=String?o.snap.items||":data(draggable)":o.snap).each((function(){var $t=$(this),$o=$t.offset();this!=i.element[0]&&i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})}))},drag:function(event,ui){for(var inst=$(this).data("draggable"),o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height,i=inst.snapElements.length-1;i>=0;i--){var l=inst.snapElements[i].left,r=l+inst.snapElements[i].width,t=inst.snapElements[i].top,b=t+inst.snapElements[i].height;if(l-d<x1&&x1<r+d&&t-d<y1&&y1<b+d||l-d<x1&&x1<r+d&&t-d<y2&&y2<b+d||l-d<x2&&x2<r+d&&t-d<y1&&y1<b+d||l-d<x2&&x2<r+d&&t-d<y2&&y2<b+d){if("inner"!=o.snapMode){var ts=Math.abs(t-y2)<=d,bs=Math.abs(b-y1)<=d,ls=Math.abs(l-x2)<=d,rs=Math.abs(r-x1)<=d;ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left),rs&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left)}var first=ts||bs||ls||rs;if("outer"!=o.snapMode){ts=Math.abs(t-y1)<=d,bs=Math.abs(b-y2)<=d,ls=Math.abs(l-x1)<=d,rs=Math.abs(r-x2)<=d;ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left),rs&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left)}!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)&&inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=ts||bs||ls||rs||first}else inst.snapElements[i].snapping&&inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=!1}}}),$.ui.plugin.add("draggable","stack",{start:function(event,ui){var o=$(this).data("draggable").options,group=$.makeArray($(o.stack)).sort((function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)}));if(group.length){var min=parseInt(group[0].style.zIndex)||0;$(group).each((function(i){this.style.zIndex=min+i})),this[0].style.zIndex=min+group.length}}}),$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;t.css("zIndex")&&(o._zIndex=t.css("zIndex")),t.css("zIndex",o.zIndex)},stop:function(event,ui){var o=$(this).data("draggable").options;o._zIndex&&$(ui.helper).css("zIndex",o._zIndex)}})}(jQuery),function($,undefined){$.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var o=this.options,accept=o.accept;this.isover=0,this.isout=1,this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},$.ui.ddmanager.droppables[o.scope]=$.ui.ddmanager.droppables[o.scope]||[],$.ui.ddmanager.droppables[o.scope].push(this),o.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var drop=$.ui.ddmanager.droppables[this.options.scope],i=0;i<drop.length;i++)drop[i]==this&&drop.splice(i,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(key,value){"accept"==key&&(this.accept=$.isFunction(value)?value:function(d){return d.is(value)}),$.Widget.prototype._setOption.apply(this,arguments)},_activate:function(event){var draggable=$.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),draggable&&this._trigger("activate",event,this.ui(draggable))},_deactivate:function(event){var draggable=$.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),draggable&&this._trigger("deactivate",event,this.ui(draggable))},_over:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!=this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",event,this.ui(draggable)))},_out:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!=this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",event,this.ui(draggable)))},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]==this.element[0])return!1;var childrenIntersection=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each((function(){var inst=$.data(this,"droppable");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope==draggable.options.scope&&inst.accept.call(inst.element[0],draggable.currentItem||draggable.element)&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance))return childrenIntersection=!0,!1})),!childrenIntersection&&(!!this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",event,this.ui(draggable)),this.element))},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}}),$.extend($.ui.droppable,{version:"1.8.24"}),$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset)return!1;var x1=(draggable.positionAbs||draggable.position.absolute).left,x2=x1+draggable.helperProportions.width,y1=(draggable.positionAbs||draggable.position.absolute).top,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,r=l+droppable.proportions.width,t=droppable.offset.top,b=t+droppable.proportions.height;switch(toleranceMode){case"fit":return l<=x1&&x2<=r&&t<=y1&&y2<=b;case"intersect":return l<x1+draggable.helperProportions.width/2&&x2-draggable.helperProportions.width/2<r&&t<y1+draggable.helperProportions.height/2&&y2-draggable.helperProportions.height/2<b;case"pointer":var draggableLeft=(draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left,draggableTop=(draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top;return $.ui.isOver(draggableTop,draggableLeft,t,l,droppable.proportions.height,droppable.proportions.width);case"touch":return(y1>=t&&y1<=b||y2>=t&&y2<=b||y1<t&&y2>b)&&(x1>=l&&x1<=r||x2>=l&&x2<=r||x1<l&&x2>r);default:return!1}},$.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,event){var m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(droppable)").addBack();droppablesLoop:for(var i=0;i<m.length;i++)if(!(m[i].options.disabled||t&&!m[i].accept.call(m[i].element[0],t.currentItem||t.element))){for(var j=0;j<list.length;j++)if(list[j]==m[i].element[0]){m[i].proportions.height=0;continue droppablesLoop}m[i].visible="none"!=m[i].element.css("display"),m[i].visible&&("mousedown"==type&&m[i]._activate.call(m[i],event),m[i].offset=m[i].element.offset(),m[i].proportions={width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight})}},drop:function(draggable,event){var dropped=!1;return $.each($.ui.ddmanager.droppables[draggable.options.scope]||[],(function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)&&(dropped=this._drop.call(this,event)||dropped),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,event)))})),dropped},dragStart:function(draggable,event){draggable.element.parents(":not(body,html)").bind("scroll.droppable",(function(){draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)}))},drag:function(draggable,event){draggable.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(draggable,event),$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var intersects=$.ui.intersect(draggable,this,this.options.tolerance),c=intersects||1!=this.isover?intersects&&0==this.isover?"isover":null:"isout";if(c){var parentInstance;if(this.options.greedy){var scope=this.options.scope,parent=this.element.parents(":data(droppable)").filter((function(){return $.data(this,"droppable").options.scope===scope}));parent.length&&((parentInstance=$.data(parent[0],"droppable")).greedyChild="isover"==c?1:0)}parentInstance&&"isover"==c&&(parentInstance.isover=0,parentInstance.isout=1,parentInstance._out.call(parentInstance,event)),this[c]=1,this["isout"==c?"isover":"isout"]=0,this["isover"==c?"_over":"_out"].call(this,event),parentInstance&&"isout"==c&&(parentInstance.isout=0,parentInstance.isover=1,parentInstance._over.call(parentInstance,event))}}}))},dragStop:function(draggable,event){draggable.element.parents(":not(body,html)").unbind("scroll.droppable"),draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)}}}(jQuery),function($,undefined){$.widget("ui.resizable",$.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var self=this,o=this.options;if(this.element.addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap($('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var i=0;i<n.length;i++){var handle=$.trim(n[i]),axis=$('<div class="ui-resizable-handle '+("ui-resizable-"+handle)+'"></div>');axis.css({zIndex:o.zIndex}),"se"==handle&&axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[handle]=".ui-resizable-"+handle,this.element.append(axis)}}this._renderAxis=function(target){for(var i in target=target||this.element,this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=$(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var padWrapper,axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();var padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper),this._proportionallyResize()}$(this.handles[i]).length}},this._renderAxis(this.element),this._handles=$(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){if(!self.resizing){if(this.className)var axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);self.axis=axis&&axis[1]?axis[1]:"se"}})),o.autoHide&&(this._handles.hide(),$(this.element).addClass("ui-resizable-autohide").hover((function(){o.disabled||($(this).removeClass("ui-resizable-autohide"),self._handles.show())}),(function(){o.disabled||self.resizing||($(this).addClass("ui-resizable-autohide"),self._handles.hide())}))),this._mouseInit()},destroy:function(){this._mouseDestroy();var _destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){_destroy(this.element);var wrapper=this.element;wrapper.after(this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),_destroy(this.originalElement),this},_mouseCapture:function(event){var handle=!1;for(var i in this.handles)$(this.handles[i])[0]==event.target&&(handle=!0);return!this.options.disabled&&handle},_mouseStart:function(event){var o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=!0,this.documentScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()},(el.is(".ui-draggable")||/absolute/.test(el.css("position")))&&el.css({position:"absolute",top:iniPos.top,left:iniPos.left}),this._renderProxy();var curleft=num(this.helper.css("left")),curtop=num(this.helper.css("top"));o.containment&&(curleft+=$(o.containment).scrollLeft()||0,curtop+=$(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:curleft,top:curtop},this.size=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.originalPosition={left:curleft,top:curtop},this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()},this.originalMousePosition={left:event.pageX,top:event.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;var cursor=$(".ui-resizable-"+this.axis).css("cursor");return $("body").css("cursor","auto"==cursor?this.axis+"-resize":cursor),el.addClass("ui-resizable-resizing"),this._propagate("start",event),!0},_mouseDrag:function(event){var el=this.helper,smp=(this.options,this.originalMousePosition),a=this.axis,dx=event.pageX-smp.left||0,dy=event.pageY-smp.top||0,trigger=this._change[a];if(!trigger)return!1;var data=trigger.apply(this,[event,dx,dy]);$.browser.msie&&$.browser.version,this.sizeDiff;return this._updateVirtualBoundaries(event.shiftKey),(this._aspectRatio||event.shiftKey)&&(data=this._updateRatio(data,event)),data=this._respectSize(data,event),this._propagate("resize",event),el.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(data),this._trigger("resize",event,this.ui()),!1},_mouseStop:function(event){this.resizing=!1;var o=this.options;if(this._helper){var pr=this._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:this.sizeDiff.height,soffsetw=ista?0:this.sizeDiff.width,s={width:this.helper.width()-soffsetw,height:this.helper.height()-soffseth},left=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,top=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;o.animate||this.element.css($.extend(s,{top:top,left:left})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!o.animate&&this._proportionallyResize()}return $("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",event),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:isNumber(o.minHeight)?o.minHeight:0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||forceAspectRatio)&&(pMinWidth=b.minHeight*this.aspectRatio,pMinHeight=b.minWidth/this.aspectRatio,pMaxWidth=b.maxHeight*this.aspectRatio,pMaxHeight=b.maxWidth/this.aspectRatio,pMinWidth>b.minWidth&&(b.minWidth=pMinWidth),pMinHeight>b.minHeight&&(b.minHeight=pMinHeight),pMaxWidth<b.maxWidth&&(b.maxWidth=pMaxWidth),pMaxHeight<b.maxHeight&&(b.maxHeight=pMaxHeight)),this._vBoundaries=b},_updateCache:function(data){this.options;this.offset=this.helper.offset(),isNumber(data.left)&&(this.position.left=data.left),isNumber(data.top)&&(this.position.top=data.top),isNumber(data.height)&&(this.size.height=data.height),isNumber(data.width)&&(this.size.width=data.width)},_updateRatio:function(data,event){this.options;var cpos=this.position,csize=this.size,a=this.axis;return isNumber(data.height)?data.width=data.height*this.aspectRatio:isNumber(data.width)&&(data.height=data.width/this.aspectRatio),"sw"==a&&(data.left=cpos.left+(csize.width-data.width),data.top=null),"nw"==a&&(data.top=cpos.top+(csize.height-data.height),data.left=cpos.left+(csize.width-data.width)),data},_respectSize:function(data,event){this.helper;var o=this._vBoundaries,a=(this._aspectRatio||event.shiftKey,this.axis),ismaxw=isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=isNumber(data.height)&&o.minHeight&&o.minHeight>data.height;isminw&&(data.width=o.minWidth),isminh&&(data.height=o.minHeight),ismaxw&&(data.width=o.maxWidth),ismaxh&&(data.height=o.maxHeight);var dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);isminw&&cw&&(data.left=dw-o.minWidth),ismaxw&&cw&&(data.left=dw-o.maxWidth),isminh&&ch&&(data.top=dh-o.minHeight),ismaxh&&ch&&(data.top=dh-o.maxHeight);var isNotwh=!data.width&&!data.height;return isNotwh&&!data.left&&data.top?data.top=null:isNotwh&&!data.top&&data.left&&(data.left=null),data},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var element=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var prel=this._proportionallyResizeElements[i];if(!this.borderDif){var b=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")],p=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];this.borderDif=$.map(b,(function(v,i){return(parseInt(v,10)||0)+(parseInt(p[i],10)||0)}))}$.browser.msie&&($(element).is(":hidden")||$(element).parents(":hidden").length)||prel.css({height:element.height()-this.borderDif[0]-this.borderDif[2]||0,width:element.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var el=this.element,o=this.options;if(this.elementOffset=el.offset(),this._helper){this.helper=this.helper||$('<div style="overflow:hidden;"></div>');var ie6=$.browser.msie&&$.browser.version<7,ie6offset=ie6?1:0,pxyoffset=ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+pxyoffset,height:this.element.outerHeight()+pxyoffset,position:"absolute",left:this.elementOffset.left-ie6offset+"px",top:this.elementOffset.top-ie6offset+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(event,dx,dy){return{width:this.originalSize.width+dx}},w:function(event,dx,dy){this.options;var cs=this.originalSize;return{left:this.originalPosition.left+dx,width:cs.width-dx}},n:function(event,dx,dy){this.options;var cs=this.originalSize;return{top:this.originalPosition.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]),"resize"!=n&&this._trigger(n,event,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.extend($.ui.resizable,{version:"1.8.24"}),$.ui.plugin.add("resizable","alsoResize",{start:function(event,ui){var o=$(this).data("resizable").options,_store=function(exp){$(exp).each((function(){var el=$(this);el.data("resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)})}))};"object"!=typeof o.alsoResize||o.alsoResize.parentNode?_store(o.alsoResize):o.alsoResize.length?(o.alsoResize=o.alsoResize[0],_store(o.alsoResize)):$.each(o.alsoResize,(function(exp){_store(exp)}))},resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,os=self.originalSize,op=self.originalPosition,delta={height:self.size.height-os.height||0,width:self.size.width-os.width||0,top:self.position.top-op.top||0,left:self.position.left-op.left||0},_alsoResize=function(exp,c){$(exp).each((function(){var el=$(this),start=$(this).data("resizable-alsoresize"),style={},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,(function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);sum&&sum>=0&&(style[prop]=sum||null)})),el.css(style)}))};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?_alsoResize(o.alsoResize):$.each(o.alsoResize,(function(exp,c){_alsoResize(exp,c)}))},stop:function(event,ui){$(this).removeData("resizable-alsoresize")}}),$.ui.plugin.add("resizable","animate",{stop:function(event,ui){var self=$(this).data("resizable"),o=self.options,pr=self._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:self.sizeDiff.height,soffsetw=ista?0:self.sizeDiff.width,style={width:self.size.width-soffsetw,height:self.size.height-soffseth},left=parseInt(self.element.css("left"),10)+(self.position.left-self.originalPosition.left)||null,top=parseInt(self.element.css("top"),10)+(self.position.top-self.originalPosition.top)||null;self.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(self.element.css("width"),10),height:parseInt(self.element.css("height"),10),top:parseInt(self.element.css("top"),10),left:parseInt(self.element.css("left"),10)};pr&&pr.length&&$(pr[0]).css({width:data.width,height:data.height}),self._updateCache(data),self._propagate("resize",event)}})}}),$.ui.plugin.add("resizable","containment",{start:function(event,ui){var self=$(this).data("resizable"),o=self.options,el=self.element,oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;if(ce)if(self.containerElement=$(ce),/document/.test(oc)||oc==document)self.containerOffset={left:0,top:0},self.containerPosition={left:0,top:0},self.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};else{var element=$(ce),p=[];$(["Top","Right","Left","Bottom"]).each((function(i,name){p[i]=num(element.css("padding"+name))})),self.containerOffset=element.offset(),self.containerPosition=element.position(),self.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]};var co=self.containerOffset,ch=self.containerSize.height,cw=self.containerSize.width,width=$.ui.hasScroll(ce,"left")?ce.scrollWidth:cw,height=$.ui.hasScroll(ce)?ce.scrollHeight:ch;self.parentData={element:ce,left:co.left,top:co.top,width:width,height:height}}},resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,co=(self.containerSize,self.containerOffset),cp=(self.size,self.position),pRatio=self._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=self.containerElement;ce[0]!=document&&/static/.test(ce.css("position"))&&(cop=co),cp.left<(self._helper?co.left:0)&&(self.size.width=self.size.width+(self._helper?self.position.left-co.left:self.position.left-cop.left),pRatio&&(self.size.height=self.size.width/self.aspectRatio),self.position.left=o.helper?co.left:0),cp.top<(self._helper?co.top:0)&&(self.size.height=self.size.height+(self._helper?self.position.top-co.top:self.position.top),pRatio&&(self.size.width=self.size.height*self.aspectRatio),self.position.top=self._helper?co.top:0),self.offset.left=self.parentData.left+self.position.left,self.offset.top=self.parentData.top+self.position.top;var woset=Math.abs((self._helper,self.offset.left-cop.left+self.sizeDiff.width)),hoset=Math.abs((self._helper?self.offset.top-cop.top:self.offset.top-co.top)+self.sizeDiff.height),isParent=self.containerElement.get(0)==self.element.parent().get(0),isOffsetRelative=/relative|absolute/.test(self.containerElement.css("position"));isParent&&isOffsetRelative&&(woset-=self.parentData.left),woset+self.size.width>=self.parentData.width&&(self.size.width=self.parentData.width-woset,pRatio&&(self.size.height=self.size.width/self.aspectRatio)),hoset+self.size.height>=self.parentData.height&&(self.size.height=self.parentData.height-hoset,pRatio&&(self.size.width=self.size.height*self.aspectRatio))},stop:function(event,ui){var self=$(this).data("resizable"),o=self.options,co=(self.position,self.containerOffset),cop=self.containerPosition,ce=self.containerElement,helper=$(self.helper),ho=helper.offset(),w=helper.outerWidth()-self.sizeDiff.width,h=helper.outerHeight()-self.sizeDiff.height;self._helper&&!o.animate&&/relative/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h}),self._helper&&!o.animate&&/static/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}}),$.ui.plugin.add("resizable","ghost",{start:function(event,ui){var self=$(this).data("resizable"),o=self.options,cs=self.size;self.ghost=self.originalElement.clone(),self.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof o.ghost?o.ghost:""),self.ghost.appendTo(self.helper)},resize:function(event,ui){var self=$(this).data("resizable");self.options;self.ghost&&self.ghost.css({position:"relative",height:self.size.height,width:self.size.width})},stop:function(event,ui){var self=$(this).data("resizable");self.options;self.ghost&&self.helper&&self.helper.get(0).removeChild(self.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,cs=self.size,os=self.originalSize,op=self.originalPosition,a=self.axis;o._aspectRatio||event.shiftKey;o.grid="number"==typeof o.grid?[o.grid,o.grid]:o.grid;var ox=Math.round((cs.width-os.width)/(o.grid[0]||1))*(o.grid[0]||1),oy=Math.round((cs.height-os.height)/(o.grid[1]||1))*(o.grid[1]||1);/^(se|s|e)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy):/^(ne)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.top=op.top-oy):/^(sw)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.left=op.left-ox):(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.top=op.top-oy,self.position.left=op.left-ox)}});var num=function(v){return parseInt(v,10)||0},isNumber=function(value){return!isNaN(parseInt(value,10))}}(jQuery),function($,undefined){$.widget("ui.selectable",$.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var selectees,self=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(selectees=$(self.options.filter,self.element[0])).addClass("ui-selectee"),selectees.each((function(){var $this=$(this),pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:!1,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=selectees.addClass("ui-selectee"),this._mouseInit(),this.helper=$("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(event){var self=this;if(this.opos=[event.pageX,event.pageY],!this.options.disabled){var options=this.options;this.selectees=$(options.filter,this.element[0]),this._trigger("start",event),$(options.appendTo).append(this.helper),this.helper.css({left:event.clientX,top:event.clientY,width:0,height:0}),options.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var selectee=$.data(this,"selectable-item");selectee.startselected=!0,event.metaKey||event.ctrlKey||(selectee.$element.removeClass("ui-selected"),selectee.selected=!1,selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0,self._trigger("unselecting",event,{unselecting:selectee.element}))})),$(event.target).parents().addBack().each((function(){var selectee=$.data(this,"selectable-item");if(selectee){var doSelect=!event.metaKey&&!event.ctrlKey||!selectee.$element.hasClass("ui-selected");return selectee.$element.removeClass(doSelect?"ui-unselecting":"ui-selected").addClass(doSelect?"ui-selecting":"ui-unselecting"),selectee.unselecting=!doSelect,selectee.selecting=doSelect,selectee.selected=doSelect,doSelect?self._trigger("selecting",event,{selecting:selectee.element}):self._trigger("unselecting",event,{unselecting:selectee.element}),!1}}))}},_mouseDrag:function(event){var self=this;if(this.dragged=!0,!this.options.disabled){var options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){var tmp=x2;x2=x1,x1=tmp}if(y1>y2){tmp=y2;y2=y1,y1=tmp}return this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1}),this.selectees.each((function(){var selectee=$.data(this,"selectable-item");if(selectee&&selectee.element!=self.element[0]){var hit=!1;"touch"==options.tolerance?hit=!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1):"fit"==options.tolerance&&(hit=selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2),hit?(selectee.selected&&(selectee.$element.removeClass("ui-selected"),selectee.selected=!1),selectee.unselecting&&(selectee.$element.removeClass("ui-unselecting"),selectee.unselecting=!1),selectee.selecting||(selectee.$element.addClass("ui-selecting"),selectee.selecting=!0,self._trigger("selecting",event,{selecting:selectee.element}))):(selectee.selecting&&((event.metaKey||event.ctrlKey)&&selectee.startselected?(selectee.$element.removeClass("ui-selecting"),selectee.selecting=!1,selectee.$element.addClass("ui-selected"),selectee.selected=!0):(selectee.$element.removeClass("ui-selecting"),selectee.selecting=!1,selectee.startselected&&(selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0),self._trigger("unselecting",event,{unselecting:selectee.element}))),selectee.selected&&(event.metaKey||event.ctrlKey||selectee.startselected||(selectee.$element.removeClass("ui-selected"),selectee.selected=!1,selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0,self._trigger("unselecting",event,{unselecting:selectee.element}))))}})),!1}},_mouseStop:function(event){var self=this;this.dragged=!1;this.options;return $(".ui-unselecting",this.element[0]).each((function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting"),selectee.unselecting=!1,selectee.startselected=!1,self._trigger("unselected",event,{unselected:selectee.element})})),$(".ui-selecting",this.element[0]).each((function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected"),selectee.selecting=!1,selectee.selected=!0,selectee.startselected=!0,self._trigger("selected",event,{selected:selectee.element})})),this._trigger("stop",event),this.helper.remove(),!1}}),$.extend($.ui.selectable,{version:"1.8.24"})}(jQuery),function($,undefined){$.widget("ui.sortable",$.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var o=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===o.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){$.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--)this.items[i].item.removeData(this.widgetName+"-item");return this},_setOption:function(key,value){"disabled"===key?(this.options[key]=value,this.widget()[value?"addClass":"removeClass"]("ui-sortable-disabled")):$.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(event,overrideHandle){var that=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(event);var currentItem=null,self=this;$(event.target).parents().each((function(){if($.data(this,that.widgetName+"-item")==self)return currentItem=$(this),!1}));if($.data(event.target,that.widgetName+"-item")==self&&(currentItem=$(event.target)),!currentItem)return!1;if(this.options.handle&&!overrideHandle){var validHandle=!1;if($(this.options.handle,currentItem).find("*").addBack().each((function(){this==event.target&&(validHandle=!0)})),!validHandle)return!1}return this.currentItem=currentItem,this._removeCurrentsFromItems(),!0},_mouseStart:function(event,overrideHandle,noActivation){var o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(event),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(event),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&($("body").css("cursor")&&(this._storedCursor=$("body").css("cursor")),$("body").css("cursor",o.cursor)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",event,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!noActivation)for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",event,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(event),!0},_mouseDrag:function(event){if(this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var o=this.options,scrolled=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)),event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed))),!1!==scrolled&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;i>=0;i--){var item=this.items[i],itemElement=item.item[0],intersection=this._intersectsWithPointer(item);if(intersection&&(item.instance===this.currentContainer&&!(itemElement==this.currentItem[0]||this.placeholder[1==intersection?"next":"prev"]()[0]==itemElement||$.ui.contains(this.placeholder[0],itemElement)||"semi-dynamic"==this.options.type&&$.ui.contains(this.element[0],itemElement)))){if(this.direction=1==intersection?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(item))break;this._rearrange(event,item),this._trigger("change",event,this._uiHash());break}}return this._contactContainers(event),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),this._trigger("sort",event,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(event,noPropagation){if(event){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,event),this.options.revert){var self=this,cur=self.placeholder.offset();self.reverting=!0,$(this.helper).animate({left:cur.left-this.offset.parent.left-self.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:cur.top-this.offset.parent.top-self.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,(function(){self._clear(event)}))}else this._clear(event,noPropagation);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,this._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,this._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];return o=o||{},$(items).each((function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/);res&&str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]))})),!str.length&&o.key&&str.push(o.key+"="),str.join("&")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];return o=o||{},items.each((function(){ret.push($(o.item||this).attr(o.attribute||"id")||"")})),ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElement=y1+dyClick>t&&y1+dyClick<b&&x1+dxClick>l&&x1+dxClick<r;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]?isOverElement:l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b},_intersectsWithPointer:function(item){var isOverElementHeight="x"===this.options.axis||$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth="y"===this.options.axis||$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return!!isOverElement&&(this.floating?horizontalDirection&&"right"==horizontalDirection||"down"==verticalDirection?2:1:verticalDirection&&("down"==verticalDirection?2:1))},_intersectsWithSides:function(item){var isOverBottomHalf=$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/2,item.height),isOverRightHalf=$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return this.floating&&horizontalDirection?"right"==horizontalDirection&&isOverRightHalf||"left"==horizontalDirection&&!isOverRightHalf:verticalDirection&&("down"==verticalDirection&&isOverBottomHalf||"up"==verticalDirection&&!isOverBottomHalf)},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return 0!=delta&&(delta>0?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return 0!=delta&&(delta>0?"right":"left")},refresh:function(event){return this._refreshItems(event),this.refreshPositions(),this},_connectWith:function(){var options=this.options;return options.connectWith.constructor==String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){var items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected)for(var i=connectWith.length-1;i>=0;i--)for(var cur=$(connectWith[i]),j=cur.length-1;j>=0;j--){var inst=$.data(cur[j],this.widgetName);inst&&inst!=this&&!inst.options.disabled&&queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst])}queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=queries.length-1;i>=0;i--)queries[i][0].each((function(){items.push(this)}));return $(items)},_removeCurrentsFromItems:function(){for(var list=this.currentItem.find(":data("+this.widgetName+"-item)"),i=0;i<this.items.length;i++)for(var j=0;j<list.length;j++)list[j]==this.items[i].item[0]&&this.items.splice(i,1)},_refreshItems:function(event){this.items=[],this.containers=[this];var items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready)for(var i=connectWith.length-1;i>=0;i--)for(var cur=$(connectWith[i]),j=cur.length-1;j>=0;j--){var inst=$.data(cur[j],this.widgetName);inst&&inst!=this&&!inst.options.disabled&&(queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]),this.containers.push(inst))}for(i=queries.length-1;i>=0;i--)for(var targetData=queries[i][1],_queries=queries[i][0],queriesLength=(j=0,_queries.length);j<queriesLength;j++){var item=$(_queries[j]);item.data(this.widgetName+"-item",targetData),items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})}},refreshPositions:function(fast){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var item=this.items[i];if(item.instance==this.currentContainer||!this.currentContainer||item.item[0]==this.currentItem[0]){var t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;fast||(item.width=t.outerWidth(),item.height=t.outerHeight());var p=t.offset();item.left=p.left,item.top=p.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left,this.containers[i].containerCache.top=p.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(that){var self=that||this,o=self.options;if(!o.placeholder||o.placeholder.constructor==String){var className=o.placeholder;o.placeholder={element:function(){var el=$(document.createElement(self.currentItem[0].nodeName)).addClass(className||self.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return className||(el.style.visibility="hidden"),el},update:function(container,p){className&&!o.forcePlaceholderSize||(p.height()||p.height(self.currentItem.innerHeight()-parseInt(self.currentItem.css("paddingTop")||0,10)-parseInt(self.currentItem.css("paddingBottom")||0,10)),p.width()||p.width(self.currentItem.innerWidth()-parseInt(self.currentItem.css("paddingLeft")||0,10)-parseInt(self.currentItem.css("paddingRight")||0,10)))}}}self.placeholder=$(o.placeholder.element.call(self.element,self.currentItem)),self.currentItem.after(self.placeholder),o.placeholder.update(self,self.placeholder)},_contactContainers:function(event){for(var innermostContainer=null,innermostIndex=null,i=this.containers.length-1;i>=0;i--)if(!$.ui.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.ui.contains(this.containers[i].element[0],innermostContainer.element[0]))continue;innermostContainer=this.containers[i],innermostIndex=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",event,this._uiHash(this)),this.containers[i].containerCache.over=0);if(innermostContainer)if(1===this.containers.length)this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1;else if(this.currentContainer!=this.containers[innermostIndex]){for(var dist=1e4,itemWithLeastDistance=null,base=this.positionAbs[this.containers[innermostIndex].floating?"left":"top"],j=this.items.length-1;j>=0;j--)if($.ui.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){var cur=this.containers[innermostIndex].floating?this.items[j].item.offset().left:this.items[j].item.offset().top;Math.abs(cur-base)<dist&&(dist=Math.abs(cur-base),itemWithLeastDistance=this.items[j],this.direction=cur-base>0?"down":"up")}if(!itemWithLeastDistance&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[innermostIndex],itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,!0):this._rearrange(event,null,this.containers[innermostIndex].element,!0),this._trigger("change",event,this._uiHash()),this.containers[innermostIndex]._trigger("change",event,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):"clone"==o.helper?this.currentItem.clone():this.currentItem;return helper.parents("body").length||$("parent"!=o.appendTo?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]),helper[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==helper[0].style.width||o.forceHelperSize)&&helper.width(this.currentItem.width()),(""==helper[0].style.height||o.forceHelperSize)&&helper.height(this.currentItem.height()),helper},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&$.browser.msie)&&(po={top:0,left:0}),{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var o=this.options;if("parent"==o.containment&&(o.containment=this.helper[0].parentNode),"document"!=o.containment&&"window"!=o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$("document"==o.containment?document:window).width()-this.helperProportions.width-this.margins.left,($("document"==o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(o.containment)){var ce=$(o.containment)[0],co=$(o.containment).offset(),over="hidden"!=$(ce).css("overflow");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"==d?1:-1,scroll=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-($.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod),left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-($.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod)}},_generatePosition:function(event){var o=this.options,scroll="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var pageX=event.pageX,pageY=event.pageY;if(this.originalPosition&&(this.containment&&(event.pageX-this.offset.click.left<this.containment[0]&&(pageX=this.containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<this.containment[1]&&(pageY=this.containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>this.containment[2]&&(pageX=this.containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>this.containment[3]&&(pageY=this.containment[3]+this.offset.click.top)),o.grid)){var top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment&&(top-this.offset.click.top<this.containment[1]||top-this.offset.click.top>this.containment[3])?top-this.offset.click.top<this.containment[1]?top+o.grid[1]:top-o.grid[1]:top;var left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment&&(left-this.offset.click.left<this.containment[0]||left-this.offset.click.left>this.containment[2])?left-this.offset.click.left<this.containment[0]?left+o.grid[0]:left-o.grid[0]:left}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+($.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+($.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var self=this,counter=this.counter;window.setTimeout((function(){counter==self.counter&&self.refreshPositions(!hardRefresh)}),0)},_clear:function(event,noPropagation){this.reverting=!1;var delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)"auto"!=this._storedCSS[i]&&"static"!=this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!noPropagation&&delayedTriggers.push((function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||noPropagation||delayedTriggers.push((function(event){this._trigger("update",event,this._uiHash())})),this!==this.currentContainer&&(noPropagation||(delayedTriggers.push((function(event){this._trigger("remove",event,this._uiHash())})),delayedTriggers.push(function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}.call(this,this.currentContainer)),delayedTriggers.push(function(c){return function(event){c._trigger("update",event,this._uiHash(this))}}.call(this,this.currentContainer))));for(i=this.containers.length-1;i>=0;i--)noPropagation||delayedTriggers.push(function(c){return function(event){c._trigger("deactivate",event,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(delayedTriggers.push(function(c){return function(event){c._trigger("out",event,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&$("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());for(i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}return this.fromOutside=!1,!1}if(noPropagation||this._trigger("beforeStop",event,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!noPropagation){for(i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===$.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(inst){var self=inst||this;return{helper:self.helper,placeholder:self.placeholder||$([]),position:self.position,originalPosition:self.originalPosition,offset:self.positionAbs,item:self.currentItem,sender:inst?inst.element:null}}}),$.extend($.ui.sortable,{version:"1.8.24"})}(jQuery),jQuery.effects||function($,undefined){function getRGB(color){var result;return color&&color.constructor==Array&&3==color.length?color:(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))?[parseInt(result[1],10),parseInt(result[2],10),parseInt(result[3],10)]:(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))?[2.55*parseFloat(result[1]),2.55*parseFloat(result[2]),2.55*parseFloat(result[3])]:(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))?[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)]:(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))?[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)]:(result=/rgba\(0, 0, 0, 0\)/.exec(color))?colors.transparent:colors[$.trim(color).toLowerCase()]}$.effects={},$.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],(function(i,attr){$.fx.step[attr]=function(fx){fx.colorInit||(fx.start=function(elem,attr){var color;do{if(""!=(color=($.curCSS||$.css)(elem,attr))&&"transparent"!=color||$.nodeName(elem,"body"))break;attr="backgroundColor"}while(elem=elem.parentNode);return getRGB(color)}(fx.elem,attr),fx.end=getRGB(fx.end),fx.colorInit=!0),fx.elem.style[attr]="rgb("+Math.max(Math.min(parseInt(fx.pos*(fx.end[0]-fx.start[0])+fx.start[0],10),255),0)+","+Math.max(Math.min(parseInt(fx.pos*(fx.end[1]-fx.start[1])+fx.start[1],10),255),0)+","+Math.max(Math.min(parseInt(fx.pos*(fx.end[2]-fx.start[2])+fx.start[2],10),255),0)+")"}}));var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function getElementStyles(){var key,style=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,newStyle={};if(style&&style.length&&style[0]&&style[style[0]])for(var len=style.length;len--;)"string"==typeof style[key=style[len]]&&(newStyle[key.replace(/\-(\w)/g,(function(all,letter){return letter.toUpperCase()}))]=style[key]);else for(key in style)"string"==typeof style[key]&&(newStyle[key]=style[key]);return newStyle}function filterStyles(styles){var name,value;for(name in styles)(null==(value=styles[name])||$.isFunction(value)||name in shorthandStyles||/scrollbar/.test(name)||!/color/i.test(name)&&isNaN(parseFloat(value)))&&delete styles[name];return styles}function _normalizeArguments(effect,options,speed,callback){return"object"==typeof effect&&(callback=options,speed=null,effect=(options=effect).effect),$.isFunction(options)&&(callback=options,speed=null,options={}),("number"==typeof options||$.fx.speeds[options])&&(callback=speed,speed=options,options={}),$.isFunction(speed)&&(callback=speed,speed=null),options=options||{},speed=speed||options.duration,[effect,options,speed=$.fx.off?0:"number"==typeof speed?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default,callback=callback||options.complete]}function standardSpeed(speed){return!(speed&&"number"!=typeof speed&&!$.fx.speeds[speed])||"string"==typeof speed&&!$.effects[speed]}$.effects.animateClass=function(value,duration,easing,callback){return $.isFunction(easing)&&(callback=easing,easing=null),this.queue((function(){var newStyle,that=$(this),originalStyleAttr=that.attr("style")||" ",originalStyle=filterStyles(getElementStyles.call(this)),className=that.attr("class")||"";$.each(classAnimationActions,(function(i,action){value[action]&&that[action+"Class"](value[action])})),newStyle=filterStyles(getElementStyles.call(this)),that.attr("class",className),that.animate(function(oldStyle,newStyle){var name,diff={_:0};for(name in newStyle)oldStyle[name]!=newStyle[name]&&(diff[name]=newStyle[name]);return diff}(originalStyle,newStyle),{queue:!1,duration:duration,easing:easing,complete:function(){$.each(classAnimationActions,(function(i,action){value[action]&&that[action+"Class"](value[action])})),"object"==typeof that.attr("style")?(that.attr("style").cssText="",that.attr("style").cssText=originalStyleAttr):that.attr("style",originalStyleAttr),callback&&callback.apply(this,arguments),$.dequeue(this)}})}))},$.fn.extend({_addClass:$.fn.addClass,addClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{add:classNames},speed,easing,callback]):this._addClass(classNames)},_removeClass:$.fn.removeClass,removeClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{remove:classNames},speed,easing,callback]):this._removeClass(classNames)},_toggleClass:$.fn.toggleClass,toggleClass:function(classNames,force,speed,easing,callback){return"boolean"==typeof force||void 0===force?speed?$.effects.animateClass.apply(this,[force?{add:classNames}:{remove:classNames},speed,easing,callback]):this._toggleClass(classNames,force):$.effects.animateClass.apply(this,[{toggle:classNames},force,speed,easing])},switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.apply(this,[{add:add,remove:remove},speed,easing,callback])}}),$.extend($.effects,{version:"1.8.24",save:function(element,set){for(var i=0;i<set.length;i++)null!==set[i]&&element.data("ec.storage."+set[i],element[0].style[set[i]])},restore:function(element,set){for(var i=0;i<set.length;i++)null!==set[i]&&element.css(set[i],element.data("ec.storage."+set[i]))},setMode:function(el,mode){return"toggle"==mode&&(mode=el.is(":hidden")?"show":"hide"),mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{x:x,y:y}},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper"))return element.parent();var props={width:element.outerWidth(!0),height:element.outerHeight(!0),float:element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),active=document.activeElement;try{active.id}catch(e){active=document.body}return element.wrap(wrapper),(element[0]===active||$.contains(element[0],active))&&$(active).focus(),wrapper=element.parent(),"static"==element.css("position")?(wrapper.css({position:"relative"}),element.css({position:"relative"})):($.extend(props,{position:element.css("position"),zIndex:element.css("z-index")}),$.each(["top","left","bottom","right"],(function(i,pos){props[pos]=element.css(pos),isNaN(parseInt(props[pos],10))&&(props[pos]="auto")})),element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),wrapper.css(props).show()},removeWrapper:function(element){var parent,active=document.activeElement;return element.parent().is(".ui-effects-wrapper")?(parent=element.parent().replaceWith(element),(element[0]===active||$.contains(element[0],active))&&$(active).focus(),parent):element},setTransition:function(element,list,factor,value){return value=value||{},$.each(list,(function(i,x){var unit=element.cssUnit(x);unit[0]>0&&(value[x]=unit[0]*factor+unit[1])})),value}}),$.fn.extend({effect:function(effect,options,speed,callback){var args=_normalizeArguments.apply(this,arguments),args2={options:args[1],duration:args[2],callback:args[3]},mode=args2.options.mode,effectMethod=$.effects[effect];return $.fx.off||!effectMethod?mode?this[mode](args2.duration,args2.callback):this.each((function(){args2.callback&&args2.callback.call(this)})):effectMethod.call(this,args2)},_show:$.fn.show,show:function(speed){if(standardSpeed(speed))return this._show.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args[1].mode="show",this.effect.apply(this,args)},_hide:$.fn.hide,hide:function(speed){if(standardSpeed(speed))return this._hide.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args[1].mode="hide",this.effect.apply(this,args)},__toggle:$.fn.toggle,toggle:function(speed){if(standardSpeed(speed)||"boolean"==typeof speed||$.isFunction(speed))return this.__toggle.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args[1].mode="toggle",this.effect.apply(this,args)},cssUnit:function(key){var style=this.css(key),val=[];return $.each(["em","px","%","pt"],(function(i,unit){style.indexOf(unit)>0&&(val=[parseFloat(style),unit])})),val}});var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],(function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2)}})),$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return 0===p||1===p?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){for(var pow2,bounce=4;p<((pow2=Math.pow(2,--bounce))-1)/11;);return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((3*pow2-2)/22-p,2)}}),$.each(baseEasings,(function(name,easeIn){$.easing["easeIn"+name]=easeIn,$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p)},$.easing["easeInOut"+name]=function(p){return p<.5?easeIn(2*p)/2:easeIn(-2*p+2)/-2+1}}))}(jQuery),function($,undefined){$.effects.blind=function(o){return this.queue((function(){var el=$(this),props=["position","top","bottom","left","right"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"vertical";$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),ref="vertical"==direction?"height":"width",distance="vertical"==direction?wrapper.height():wrapper.width();"show"==mode&&wrapper.css(ref,0);var animation={};animation[ref]="show"==mode?distance:0,wrapper.animate(animation,o.duration,o.options.easing,(function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()}))}))}}(jQuery),function($,undefined){$.effects.bounce=function(o){return this.queue((function(){var el=$(this),props=["position","top","bottom","left","right"],mode=$.effects.setMode(el,o.options.mode||"effect"),direction=o.options.direction||"up",distance=o.options.distance||20,times=o.options.times||5,speed=o.duration||250;/show|hide/.test(mode)&&props.push("opacity"),$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg";distance=o.options.distance||("top"==ref?el.outerHeight(!0)/3:el.outerWidth(!0)/3);("show"==mode&&el.css("opacity",0).css(ref,"pos"==motion?-distance:distance),"hide"==mode&&(distance/=2*times),"hide"!=mode&&times--,"show"==mode)&&((animation={opacity:1})[ref]=("pos"==motion?"+=":"-=")+distance,el.animate(animation,speed/2,o.options.easing),distance/=2,times--);for(var i=0;i<times;i++){var animation2={};(animation1={})[ref]=("pos"==motion?"-=":"+=")+distance,animation2[ref]=("pos"==motion?"+=":"-=")+distance,el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing),distance="hide"==mode?2*distance:distance/2}if("hide"==mode){var animation;(animation={opacity:0})[ref]=("pos"==motion?"-=":"+=")+distance,el.animate(animation,speed/2,o.options.easing,(function(){el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments)}))}else{var animation1;animation2={};(animation1={})[ref]=("pos"==motion?"-=":"+=")+distance,animation2[ref]=("pos"==motion?"+=":"-=")+distance,el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing,(function(){$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments)}))}el.queue("fx",(function(){el.dequeue()})),el.dequeue()}))}}(jQuery),function($,undefined){$.effects.clip=function(o){return this.queue((function(){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"vertical";$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),animate="IMG"==el[0].tagName?wrapper:el,ref={size:"vertical"==direction?"height":"width",position:"vertical"==direction?"top":"left"},distance="vertical"==direction?animate.height():animate.width();"show"==mode&&(animate.css(ref.size,0),animate.css(ref.position,distance/2));var animation={};animation[ref.size]="show"==mode?distance:0,animation[ref.position]="show"==mode?0:distance/2,animate.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()}})}))}}(jQuery),function($,undefined){$.effects.drop=function(o){return this.queue((function(){var el=$(this),props=["position","top","bottom","left","right","opacity"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"left";$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",distance=o.options.distance||("top"==ref?el.outerHeight(!0)/2:el.outerWidth(!0)/2);"show"==mode&&el.css("opacity",0).css(ref,"pos"==motion?-distance:distance);var animation={opacity:"show"==mode?1:0};animation[ref]=("show"==mode?"pos"==motion?"+=":"-=":"pos"==motion?"-=":"+=")+distance,el.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})}))}}(jQuery),function($,undefined){$.effects.explode=function(o){return this.queue((function(){var rows=o.options.pieces?Math.round(Math.sqrt(o.options.pieces)):3,cells=o.options.pieces?Math.round(Math.sqrt(o.options.pieces)):3;o.options.mode="toggle"==o.options.mode?$(this).is(":visible")?"hide":"show":o.options.mode;var el=$(this).show().css("visibility","hidden"),offset=el.offset();offset.top-=parseInt(el.css("marginTop"),10)||0,offset.left-=parseInt(el.css("marginLeft"),10)||0;for(var width=el.outerWidth(!0),height=el.outerHeight(!0),i=0;i<rows;i++)for(var j=0;j<cells;j++)el.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:width/cells*-j,top:height/rows*-i}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width/cells,height:height/rows,left:offset.left+j*(width/cells)+("show"==o.options.mode?(j-Math.floor(cells/2))*(width/cells):0),top:offset.top+i*(height/rows)+("show"==o.options.mode?(i-Math.floor(rows/2))*(height/rows):0),opacity:"show"==o.options.mode?0:1}).animate({left:offset.left+j*(width/cells)+("show"==o.options.mode?0:(j-Math.floor(cells/2))*(width/cells)),top:offset.top+i*(height/rows)+("show"==o.options.mode?0:(i-Math.floor(rows/2))*(height/rows)),opacity:"show"==o.options.mode?1:0},o.duration||500);setTimeout((function(){"show"==o.options.mode?el.css({visibility:"visible"}):el.css({visibility:"visible"}).hide(),o.callback&&o.callback.apply(el[0]),el.dequeue(),$("div.ui-effects-explode").remove()}),o.duration||500)}))}}(jQuery),function($,undefined){$.effects.fade=function(o){return this.queue((function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||"hide");elem.animate({opacity:mode},{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){o.callback&&o.callback.apply(this,arguments),elem.dequeue()}})}))}}(jQuery),function($,undefined){$.effects.fold=function(o){return this.queue((function(){var el=$(this),props=["position","top","bottom","left","right"],mode=$.effects.setMode(el,o.options.mode||"hide"),size=o.options.size||15,horizFirst=!!o.options.horizFirst,duration=o.duration?o.duration/2:$.fx.speeds._default/2;$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),widthFirst="show"==mode!=horizFirst,ref=widthFirst?["width","height"]:["height","width"],distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()],percent=/([0-9]+)%/.exec(size);percent&&(size=parseInt(percent[1],10)/100*distance["hide"==mode?0:1]),"show"==mode&&wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0});var animation1={},animation2={};animation1[ref[0]]="show"==mode?distance[0]:size,animation2[ref[1]]="show"==mode?distance[1]:0,wrapper.animate(animation1,duration,o.options.easing).animate(animation2,duration,o.options.easing,(function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()}))}))}}(jQuery),function($,undefined){$.effects.highlight=function(o){return this.queue((function(){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.options.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};"hide"==mode&&(animation.opacity=0),$.effects.save(elem,props),elem.show().css({backgroundImage:"none",backgroundColor:o.options.color||"#ffff99"}).animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&elem.hide(),$.effects.restore(elem,props),"show"==mode&&!$.support.opacity&&this.style.removeAttribute("filter"),o.callback&&o.callback.apply(this,arguments),elem.dequeue()}})}))}}(jQuery),function($,undefined){$.effects.pulsate=function(o){return this.queue((function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||"show"),times=2*(o.options.times||5)-1,duration=o.duration?o.duration/2:$.fx.speeds._default/2,isVisible=elem.is(":visible"),animateTo=0;isVisible||(elem.css("opacity",0).show(),animateTo=1),("hide"==mode&&isVisible||"show"==mode&&!isVisible)&&times--;for(var i=0;i<times;i++)elem.animate({opacity:animateTo},duration,o.options.easing),animateTo=(animateTo+1)%2;elem.animate({opacity:animateTo},duration,o.options.easing,(function(){0==animateTo&&elem.hide(),o.callback&&o.callback.apply(this,arguments)})),elem.queue("fx",(function(){elem.dequeue()})).dequeue()}))}}(jQuery),function($,undefined){$.effects.puff=function(o){return this.queue((function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||"hide"),percent=parseInt(o.options.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width()};$.extend(o.options,{fade:!0,mode:mode,percent:"hide"==mode?percent:100,from:"hide"==mode?original:{height:original.height*factor,width:original.width*factor}}),elem.effect("scale",o.options,o.duration,o.callback),elem.dequeue()}))},$.effects.scale=function(o){return this.queue((function(){var el=$(this),options=$.extend(!0,{},o.options),mode=$.effects.setMode(el,o.options.mode||"effect"),percent=parseInt(o.options.percent,10)||(0==parseInt(o.options.percent,10)||"hide"==mode?0:100),direction=o.options.direction||"both",origin=o.options.origin;"effect"!=mode&&(options.origin=origin||["middle","center"],options.restore=!0);var original={height:el.height(),width:el.width()};el.from=o.options.from||("show"==mode?{height:0,width:0}:original);var factor_y="horizontal"!=direction?percent/100:1,factor_x="vertical"!=direction?percent/100:1;el.to={height:original.height*factor_y,width:original.width*factor_x},o.options.fade&&("show"==mode&&(el.from.opacity=0,el.to.opacity=1),"hide"==mode&&(el.from.opacity=1,el.to.opacity=0)),options.from=el.from,options.to=el.to,options.mode=mode,el.effect("size",options,o.duration,o.callback),el.dequeue()}))},$.effects.size=function(o){return this.queue((function(){var el=$(this),props=["position","top","bottom","left","right","width","height","overflow","opacity"],props1=["position","top","bottom","left","right","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,o.options.mode||"effect"),restore=o.options.restore||!1,scale=o.options.scale||"both",origin=o.options.origin,original={height:el.height(),width:el.width()};if(el.from=o.options.from||original,el.to=o.options.to||original,origin){var baseline=$.effects.getBaseline(origin,original);el.from.top=(original.height-el.from.height)*baseline.y,el.from.left=(original.width-el.from.width)*baseline.x,el.to.top=(original.height-el.to.height)*baseline.y,el.to.left=(original.width-el.to.width)*baseline.x}var factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};"box"!=scale&&"both"!=scale||(factor.from.y!=factor.to.y&&(props=props.concat(vProps),el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from),el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to)),factor.from.x!=factor.to.x&&(props=props.concat(hProps),el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from),el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to))),"content"!=scale&&"both"!=scale||factor.from.y!=factor.to.y&&(props=props.concat(cProps),el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from),el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to)),$.effects.save(el,restore?props:props1),el.show(),$.effects.createWrapper(el),el.css("overflow","hidden").css(el.from),"content"!=scale&&"both"!=scale||(vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps),hProps=hProps.concat(["marginLeft","marginRight"]),props2=props.concat(vProps).concat(hProps),el.find("*[width]").each((function(){var child=$(this);restore&&$.effects.save(child,props2);var c_original_height=child.height(),c_original_width=child.width();child.from={height:c_original_height*factor.from.y,width:c_original_width*factor.from.x},child.to={height:c_original_height*factor.to.y,width:c_original_width*factor.to.x},factor.from.y!=factor.to.y&&(child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from),child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to)),factor.from.x!=factor.to.x&&(child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from),child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to)),child.css(child.from),child.animate(child.to,o.duration,o.options.easing,(function(){restore&&$.effects.restore(child,props2)}))}))),el.animate(el.to,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){0===el.to.opacity&&el.css("opacity",el.from.opacity),"hide"==mode&&el.hide(),$.effects.restore(el,restore?props:props1),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})}))}}(jQuery),function($,undefined){$.effects.shake=function(o){return this.queue((function(){var el=$(this),props=["position","top","bottom","left","right"],direction=($.effects.setMode(el,o.options.mode||"effect"),o.options.direction||"left"),distance=o.options.distance||20,times=o.options.times||3,speed=o.duration||o.options.duration||140;$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",animation={},animation1={},animation2={};animation[ref]=("pos"==motion?"-=":"+=")+distance,animation1[ref]=("pos"==motion?"+=":"-=")+2*distance,animation2[ref]=("pos"==motion?"-=":"+=")+2*distance,el.animate(animation,speed,o.options.easing);for(var i=1;i<times;i++)el.animate(animation1,speed,o.options.easing).animate(animation2,speed,o.options.easing);el.animate(animation1,speed,o.options.easing).animate(animation,speed/2,o.options.easing,(function(){$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments)})),el.queue("fx",(function(){el.dequeue()})),el.dequeue()}))}}(jQuery),function($,undefined){$.effects.slide=function(o){return this.queue((function(){var el=$(this),props=["position","top","bottom","left","right"],mode=$.effects.setMode(el,o.options.mode||"show"),direction=o.options.direction||"left";$.effects.save(el,props),el.show(),$.effects.createWrapper(el).css({overflow:"hidden"});var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",distance=o.options.distance||("top"==ref?el.outerHeight(!0):el.outerWidth(!0));"show"==mode&&el.css(ref,"pos"==motion?isNaN(distance)?"-"+distance:-distance:distance);var animation={};animation[ref]=("show"==mode?"pos"==motion?"+=":"-=":"pos"==motion?"-=":"+=")+distance,el.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})}))}}(jQuery),function($,undefined){$.effects.transfer=function(o){return this.queue((function(){var elem=$(this),target=$(o.options.to),endPosition=target.offset(),animation={top:endPosition.top,left:endPosition.left,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(o.options.className).css({top:startPosition.top,left:startPosition.left,height:elem.innerHeight(),width:elem.innerWidth(),position:"absolute"}).animate(animation,o.duration,o.options.easing,(function(){transfer.remove(),o.callback&&o.callback.apply(elem[0],arguments),elem.dequeue()}))}))}}(jQuery),function($,undefined){$.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var self=this,options=self.options;if(self.running=0,self.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),self.headers=self.element.find(options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",(function(){options.disabled||$(this).addClass("ui-state-hover")})).bind("mouseleave.accordion",(function(){options.disabled||$(this).removeClass("ui-state-hover")})).bind("focus.accordion",(function(){options.disabled||$(this).addClass("ui-state-focus")})).bind("blur.accordion",(function(){options.disabled||$(this).removeClass("ui-state-focus")})),self.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),options.navigation){var current=self.element.find("a").filter(options.navigationFilter).eq(0);if(current.length){var header=current.closest(".ui-accordion-header");header.length?self.active=header:self.active=current.closest(".ui-accordion-content").prev()}}self.active=self._findActive(self.active||options.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),self.active.next().addClass("ui-accordion-content-active"),self._createIcons(),self.resize(),self.element.attr("role","tablist"),self.headers.attr("role","tab").bind("keydown.accordion",(function(event){return self._keydown(event)})).next().attr("role","tabpanel"),self.headers.not(self.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),self.active.length?self.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):self.headers.eq(0).attr("tabIndex",0),$.browser.safari||self.headers.find("a").attr("tabIndex",-1),options.event&&self.headers.bind(options.event.split(" ").join(".accordion ")+".accordion",(function(event){self._clickHandler.call(self,event,this),event.preventDefault()}))},_createIcons:function(){var options=this.options;options.icons&&($("<span></span>").addClass("ui-icon "+options.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(options.icons.header).toggleClass(options.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var options=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var contents=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(options.autoHeight||options.fillHeight)&&contents.css("height",""),$.Widget.prototype.destroy.call(this)},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments),"active"==key&&this.activate(value),"icons"==key&&(this._destroyIcons(),value&&this._createIcons()),"disabled"==key&&this.headers.add(this.headers.next())[value?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(event){if(!(this.options.disabled||event.altKey||event.ctrlKey)){var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=!1;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._clickHandler({target:event.target},event.target),event.preventDefault()}return!toFocus||($(event.target).attr("tabIndex",-1),$(toFocus).attr("tabIndex",0),toFocus.focus(),!1)}},resize:function(){var maxHeight,options=this.options;if(options.fillSpace){if($.browser.msie){var defOverflow=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}maxHeight=this.element.parent().height(),$.browser.msie&&this.element.parent().css("overflow",defOverflow),this.headers.each((function(){maxHeight-=$(this).outerHeight(!0)})),this.headers.next().each((function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))})).css("overflow","auto")}else options.autoHeight&&(maxHeight=0,this.headers.next().each((function(){maxHeight=Math.max(maxHeight,$(this).height("").height())})).height(maxHeight));return this},activate:function(index){this.options.active=index;var active=this._findActive(index)[0];return this._clickHandler({target:active},active),this},_findActive:function(selector){return selector?"number"==typeof selector?this.headers.filter(":eq("+selector+")"):this.headers.not(this.headers.not(selector)):!1===selector?$([]):this.headers.filter(":eq(0)")},_clickHandler:function(event,target){var options=this.options;if(!options.disabled)if(event.target){var clicked=$(event.currentTarget||target),clickedIsActive=clicked[0]===this.active[0];if(options.active=(!options.collapsible||!clickedIsActive)&&this.headers.index(clicked),!(this.running||!options.collapsible&&clickedIsActive)){var active=this.active,down=(toShow=clicked.next(),toHide=this.active.next(),data={options:options,newHeader:clickedIsActive&&options.collapsible?$([]):clicked,oldHeader:this.active,newContent:clickedIsActive&&options.collapsible?$([]):toShow,oldContent:toHide},this.headers.index(this.active[0])>this.headers.index(clicked[0]));this.active=clickedIsActive?$([]):clicked,this._toggle(toShow,toHide,data,clickedIsActive,down),active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(options.icons.headerSelected).addClass(options.icons.header),clickedIsActive||(clicked.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(options.icons.header).addClass(options.icons.headerSelected),clicked.next().addClass("ui-accordion-content-active"))}}else{if(!options.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(options.icons.headerSelected).addClass(options.icons.header),this.active.next().addClass("ui-accordion-content-active");var toHide=this.active.next(),data={options:options,newHeader:$([]),oldHeader:options.active,newContent:$([]),oldContent:toHide},toShow=this.active=$([]);this._toggle(toShow,toHide,data)}},_toggle:function(toShow,toHide,data,clickedIsActive,down){var self=this,options=self.options;self.toShow=toShow,self.toHide=toHide,self.data=data;var complete=function(){if(self)return self._completed.apply(self,arguments)};if(self._trigger("changestart",null,self.data),self.running=0===toHide.size()?toShow.size():toHide.size(),options.animated){var animOptions={};animOptions=options.collapsible&&clickedIsActive?{toShow:$([]),toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight||options.fillSpace}:{toShow:toShow,toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight||options.fillSpace},options.proxied||(options.proxied=options.animated),options.proxiedDuration||(options.proxiedDuration=options.duration),options.animated=$.isFunction(options.proxied)?options.proxied(animOptions):options.proxied,options.duration=$.isFunction(options.proxiedDuration)?options.proxiedDuration(animOptions):options.proxiedDuration;var animations=$.ui.accordion.animations,duration=options.duration,easing=options.animated;!easing||animations[easing]||$.easing[easing]||(easing="slide"),animations[easing]||(animations[easing]=function(options){this.slide(options,{easing:easing,duration:duration||700})}),animations[easing](animOptions)}else options.collapsible&&clickedIsActive?toShow.toggle():(toHide.hide(),toShow.show()),complete(!0);toHide.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),toShow.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(cancel){this.running=cancel?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),$.extend($.ui.accordion,{version:"1.8.24",animations:{slide:function(options,additions){if((options=$.extend({easing:"swing",duration:300},options,additions)).toHide.size())if(options.toShow.size()){var originalWidth,overflow=options.toShow.css("overflow"),percentDone=0,showProps={},hideProps={},s=options.toShow;originalWidth=s[0].style.width,s.width(s.parent().width()-parseFloat(s.css("paddingLeft"))-parseFloat(s.css("paddingRight"))-(parseFloat(s.css("borderLeftWidth"))||0)-(parseFloat(s.css("borderRightWidth"))||0)),$.each(["height","paddingTop","paddingBottom"],(function(i,prop){hideProps[prop]="hide";var parts=(""+$.css(options.toShow[0],prop)).match(/^([\d+-.]+)(.*)$/);showProps[prop]={value:parts[1],unit:parts[2]||"px"}})),options.toShow.css({height:0,overflow:"hidden"}).show(),options.toHide.filter(":hidden").each(options.complete).end().filter(":visible").animate(hideProps,{step:function(now,settings){"height"==settings.prop&&(percentDone=settings.end-settings.start==0?0:(settings.now-settings.start)/(settings.end-settings.start)),options.toShow[0].style[settings.prop]=percentDone*showProps[settings.prop].value+showProps[settings.prop].unit},duration:options.duration,easing:options.easing,complete:function(){options.autoHeight||options.toShow.css("height",""),options.toShow.css({width:originalWidth,overflow:overflow}),options.complete()}})}else options.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},options);else options.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},options)},bounceslide:function(options){this.slide(options,{easing:options.down?"easeOutBounce":"swing",duration:options.down?1e3:200})}}})}(jQuery),function($,undefined){var requestIndex=0;$.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var suppressKeyPress,self=this,doc=this.element[0].ownerDocument;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",(function(event){if(!self.options.disabled&&!self.element.propAttr("readOnly")){suppressKeyPress=!1;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:self._move("previousPage",event);break;case keyCode.PAGE_DOWN:self._move("nextPage",event);break;case keyCode.UP:self._keyEvent("previous",event);break;case keyCode.DOWN:self._keyEvent("next",event);break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:self.menu.active&&(suppressKeyPress=!0,event.preventDefault());case keyCode.TAB:if(!self.menu.active)return;self.menu.select(event);break;case keyCode.ESCAPE:self.element.val(self.term),self.close(event);break;default:clearTimeout(self.searching),self.searching=setTimeout((function(){self.term!=self.element.val()&&(self.selectedItem=null,self.search(null,event))}),self.options.delay)}}})).bind("keypress.autocomplete",(function(event){suppressKeyPress&&(suppressKeyPress=!1,event.preventDefault())})).bind("focus.autocomplete",(function(){self.options.disabled||(self.selectedItem=null,self.previous=self.element.val())})).bind("blur.autocomplete",(function(event){self.options.disabled||(clearTimeout(self.searching),self.closing=setTimeout((function(){self.close(event),self._change(event)}),150))})),this._initSource(),this.menu=$("<ul></ul>").addClass("ui-autocomplete").appendTo($(this.options.appendTo||"body",doc)[0]).mousedown((function(event){var menuElement=self.menu.element[0];$(event.target).closest(".ui-menu-item").length||setTimeout((function(){$(document).one("mousedown",(function(event){event.target===self.element[0]||event.target===menuElement||$.ui.contains(menuElement,event.target)||self.close()}))}),1),setTimeout((function(){clearTimeout(self.closing)}),13)})).menu({focus:function(event,ui){var item=ui.item.data("item.autocomplete");!1!==self._trigger("focus",event,{item:item})&&/^key/.test(event.originalEvent.type)&&self.element.val(item.value)},selected:function(event,ui){var item=ui.item.data("item.autocomplete"),previous=self.previous;self.element[0]!==doc.activeElement&&(self.element.focus(),self.previous=previous,setTimeout((function(){self.previous=previous,self.selectedItem=item}),1)),!1!==self._trigger("select",event,{item:item})&&self.element.val(item.value),self.term=self.element.val(),self.close(event),self.selectedItem=item},blur:function(event,ui){self.menu.element.is(":visible")&&self.element.val()!==self.term&&self.element.val(self.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),$.fn.bgiframe&&this.menu.element.bgiframe(),self.beforeunloadHandler=function(){self.element.removeAttr("autocomplete")},$(window).bind("beforeunload",self.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),$(window).unbind("beforeunload",this.beforeunloadHandler),$.Widget.prototype.destroy.call(this)},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments),"source"===key&&this._initSource(),"appendTo"===key&&this.menu.element.appendTo($(value||"body",this.element[0].ownerDocument)[0]),"disabled"===key&&value&&this.xhr&&this.xhr.abort()},_initSource:function(){var array,url,self=this;$.isArray(this.options.source)?(array=this.options.source,this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}):"string"==typeof this.options.source?(url=this.options.source,this.source=function(request,response){self.xhr&&self.xhr.abort(),self.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data,status){response(data)},error:function(){response([])}})}):this.source=this.options.source},search:function(value,event){return value=null!=value?value:this.element.val(),this.term=this.element.val(),value.length<this.options.minLength?this.close(event):(clearTimeout(this.closing),!1!==this._trigger("search",event)?this._search(value):void 0)},_search:function(value){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:value},this._response())},_response:function(){var that=this,index=++requestIndex;return function(content){index===requestIndex&&that.__response(content),that.pending--,that.pending||that.element.removeClass("ui-autocomplete-loading")}},__response:function(content){!this.options.disabled&&content&&content.length?(content=this._normalize(content),this._suggest(content),this._trigger("open")):this.close()},close:function(event){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",event))},_change:function(event){this.previous!==this.element.val()&&this._trigger("change",event,{item:this.selectedItem})},_normalize:function(items){return items.length&&items[0].label&&items[0].value?items:$.map(items,(function(item){return"string"==typeof item?{label:item,value:item}:$.extend({label:item.label||item.value,value:item.value||item.label},item)}))},_suggest:function(items){var ul=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(ul,items),this.menu.deactivate(),this.menu.refresh(),ul.show(),this._resizeMenu(),ul.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new $.Event("mouseover"))},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var self=this;$.each(items,(function(index,item){self._renderItem(ul,item)}))},_renderItem:function(ul,item){return $("<li></li>").data("item.autocomplete",item).append($("<a></a>").text(item.label)).appendTo(ul)},_move:function(direction,event){if(this.menu.element.is(":visible"))return this.menu.first()&&/^previous/.test(direction)||this.menu.last()&&/^next/.test(direction)?(this.element.val(this.term),void this.menu.deactivate()):void this.menu[direction](event);this.search(null,event)},widget:function(){return this.menu.element},_keyEvent:function(keyEvent,event){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(keyEvent,event),event.preventDefault())}}),$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,(function(value){return matcher.test(value.label||value.value||value)}))}})}(jQuery),function($){$.widget("ui.menu",{_create:function(){var self=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click((function(event){$(event.target).closest(".ui-menu-item a").length&&(event.preventDefault(),self.select(event))})),this.refresh()},refresh:function(){var self=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter((function(event){self.activate(event,$(this).parent())})).mouseleave((function(){self.deactivate()}))},activate:function(event,item){if(this.deactivate(),this.hasScroll()){var offset=item.offset().top-this.element.offset().top,scroll=this.element.scrollTop(),elementHeight=this.element.height();offset<0?this.element.scrollTop(scroll+offset):offset>=elementHeight&&this.element.scrollTop(scroll+offset-elementHeight+item.height())}this.active=item.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",event,{item:item})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(event){this.move("next",".ui-menu-item:first",event)},previous:function(event){this.move("prev",".ui-menu-item:last",event)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(direction,edge,event){if(this.active){var next=this.active[direction+"All"](".ui-menu-item").eq(0);next.length?this.activate(event,next):this.activate(event,this.element.children(edge))}else this.activate(event,this.element.children(edge))},nextPage:function(event){if(this.hasScroll()){if(!this.active||this.last())return void this.activate(event,this.element.children(".ui-menu-item:first"));var base=this.active.offset().top,height=this.element.height(),result=this.element.children(".ui-menu-item").filter((function(){var close=$(this).offset().top-base-height+$(this).height();return close<10&&close>-10}));result.length||(result=this.element.children(".ui-menu-item:last")),this.activate(event,result)}else this.activate(event,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(event){if(this.hasScroll()){if(!this.active||this.first())return void this.activate(event,this.element.children(".ui-menu-item:last"));var base=this.active.offset().top,height=this.element.height(),result=this.element.children(".ui-menu-item").filter((function(){var close=$(this).offset().top-base+height-$(this).height();return close<10&&close>-10}));result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(event,result)}else this.activate(event,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[$.fn.prop?"prop":"attr"]("scrollHeight")},select:function(event){this._trigger("selected",event,{item:this.active})}})}(jQuery),function($,undefined){var lastActive,startXPos,startYPos,clickDragged,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var buttons=$(this).find(":ui-button");setTimeout((function(){buttons.button("refresh")}),1)},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);return name&&(radios=form?$(form).find("[name='"+name+"']"):$("[name='"+name+"']",radio.ownerDocument).filter((function(){return!this.form}))),radios};$.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",formResetHandler),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var self=this,options=this.options,toggleButton="checkbox"===this.type||"radio"===this.type,hoverClass="ui-state-hover"+(toggleButton?"":" ui-state-active");null===options.label&&(options.label=this.buttonElement.html()),this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter.button",(function(){options.disabled||($(this).addClass("ui-state-hover"),this===lastActive&&$(this).addClass("ui-state-active"))})).bind("mouseleave.button",(function(){options.disabled||$(this).removeClass(hoverClass)})).bind("click.button",(function(event){options.disabled&&(event.preventDefault(),event.stopImmediatePropagation())})),this.element.bind("focus.button",(function(){self.buttonElement.addClass("ui-state-focus")})).bind("blur.button",(function(){self.buttonElement.removeClass("ui-state-focus")})),toggleButton&&(this.element.bind("change.button",(function(){clickDragged||self.refresh()})),this.buttonElement.bind("mousedown.button",(function(event){options.disabled||(clickDragged=!1,startXPos=event.pageX,startYPos=event.pageY)})).bind("mouseup.button",(function(event){options.disabled||startXPos===event.pageX&&startYPos===event.pageY||(clickDragged=!0)}))),"checkbox"===this.type?this.buttonElement.bind("click.button",(function(){if(options.disabled||clickDragged)return!1;$(this).toggleClass("ui-state-active"),self.buttonElement.attr("aria-pressed",self.element[0].checked)})):"radio"===this.type?this.buttonElement.bind("click.button",(function(){if(options.disabled||clickDragged)return!1;$(this).addClass("ui-state-active"),self.buttonElement.attr("aria-pressed","true");var radio=self.element[0];radioGroup(radio).not(radio).map((function(){return $(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown.button",(function(){if(options.disabled)return!1;$(this).addClass("ui-state-active"),lastActive=this,$(document).one("mouseup",(function(){lastActive=null}))})).bind("mouseup.button",(function(){if(options.disabled)return!1;$(this).removeClass("ui-state-active")})).bind("keydown.button",(function(event){if(options.disabled)return!1;event.keyCode!=$.ui.keyCode.SPACE&&event.keyCode!=$.ui.keyCode.ENTER||$(this).addClass("ui-state-active")})).bind("keyup.button",(function(){$(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(event){event.keyCode===$.ui.keyCode.SPACE&&$(this).click()}))),this._setOption("disabled",options.disabled),this._resetButton()},_determineButtonType:function(){if(this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type){var ancestor=this.element.parents().filter(":last"),labelSelector="label[for='"+this.element.attr("id")+"']";this.buttonElement=ancestor.find(labelSelector),this.buttonElement.length||(ancestor=ancestor.length?ancestor.siblings():this.element.siblings(),this.buttonElement=ancestor.filter(labelSelector),this.buttonElement.length||(this.buttonElement=ancestor.find(labelSelector))),this.element.addClass("ui-helper-hidden-accessible");var checked=this.element.is(":checked");checked&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",checked)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(baseClasses+" ui-state-hover ui-state-active  "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),$.Widget.prototype.destroy.call(this)},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments),"disabled"!==key?this._resetButton():value?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1)},refresh:function(){var isDisabled=this.element.is(":disabled");isDisabled!==this.options.disabled&&this._setOption("disabled",isDisabled),"radio"===this.type?radioGroup(this.element[0]).each((function(){$(this).is(":checked")?$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];icons.primary||icons.secondary?(this.options.text&&buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":icons.primary?"-primary":"-secondary")),icons.primary&&buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>"),icons.secondary&&buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>"),this.options.text||(buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||buttonElement.attr("title",buttonText))):buttonClasses.push("ui-button-text-only"),buttonElement.addClass(buttonClasses.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),$.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(key,value){"disabled"===key&&this.buttons.button("option",key,value),$.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var rtl="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map((function(){return $(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return $(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),$.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){$.extend($.ui,{datepicker:{version:"1.8.24"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.bind("mouseout",(function(event){var elem=$(event.target).closest(selector);elem.length&&elem.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")})).bind("mouseover",(function(event){var elem=$(event.target).closest(selector);!$.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])&&elem.length&&(elem.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),elem.addClass("ui-state-hover"),elem.hasClass("ui-datepicker-prev")&&elem.addClass("ui-datepicker-prev-hover"),elem.hasClass("ui-datepicker-next")&&elem.addClass("ui-datepicker-next-hover"))}))}function extendRemove(target,props){for(var name in $.extend(target,props),props)null!=props[name]&&props[name]!=undefined||(target[name]=props[name]);return target}function isArray(a){return a&&($.browser.safari&&"object"==typeof a&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){return extendRemove(this._defaults,settings||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(target,inline){return{id:target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:inline?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]),inst.trigger=$([]),input.hasClass(this.markerClassName)||(this._attachments(input,inst),input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",(function(event,key,value){inst.settings[key]=value})).bind("getData.datepicker",(function(event,key){return this._get(inst,key)})),this._autoSize(inst),$.data(target,PROP_NAME,inst),inst.settings.disabled&&this._disableDatepicker(target))},_attachments:function(input,inst){var appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");inst.append&&inst.append.remove(),appendText&&(inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>"),input[isRTL?"before":"after"](inst.append)),input.unbind("focus",this._showDatepicker),inst.trigger&&inst.trigger.remove();var showOn=this._get(inst,"showOn");if("focus"!=showOn&&"both"!=showOn||input.focus(this._showDatepicker),"button"==showOn||"both"==showOn){var buttonText=this._get(inst,"buttonText"),buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText}))),input[isRTL?"before":"after"](inst.trigger),inst.trigger.click((function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==input[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=input[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(input[0])):$.datepicker._showDatepicker(input[0]),!1}))}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var date=new Date(2009,11,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){var findMax=function(names){for(var max=0,maxI=0,i=0;i<names.length;i++)names[i].length>max&&(max=names[i].length,maxI=i);return maxI};date.setMonth(findMax(this._get(inst,dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))),date.setDate(findMax(this._get(inst,dateFormat.match(/DD/)?"dayNames":"dayNamesShort"))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);divSpan.hasClass(this.markerClassName)||(divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",(function(event,key,value){inst.settings[key]=value})).bind("getData.datepicker",(function(event,key){return this._get(inst,key)})),$.data(target,PROP_NAME,inst),this._setDate(inst,this._getDefaultDate(inst),!0),this._updateDatepicker(inst),this._updateAlternate(inst),inst.settings.disabled&&this._disableDatepicker(target),inst.dpDiv.css("display","block"))},_dialogDatepicker:function(input,date,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){this.uuid+=1;var id="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+id+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(inst=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,inst)}if(extendRemove(inst.settings,settings||{}),date=date&&date.constructor==Date?this._formatDate(inst,date):date,this._dialogInput.val(date),this._pos=pos?pos.length?pos:[pos.pageX,pos.pageY]:null,!this._pos){var browserWidth=document.documentElement.clientWidth,browserHeight=document.documentElement.clientHeight,scrollX=document.documentElement.scrollLeft||document.body.scrollLeft,scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[browserWidth/2-100+scrollX,browserHeight/2-150+scrollY]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),inst.settings.onSelect=onSelect,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,inst),this},_destroyDatepicker:function(target){var $target=$(target),inst=$.data(target,PROP_NAME);if($target.hasClass(this.markerClassName)){var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME),"input"==nodeName?(inst.append.remove(),inst.trigger.remove(),$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=nodeName&&"span"!=nodeName||$target.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(target){var $target=$(target),inst=$.data(target,PROP_NAME);if($target.hasClass(this.markerClassName)){var nodeName=target.nodeName.toLowerCase();if("input"==nodeName)target.disabled=!1,inst.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==nodeName||"span"==nodeName){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,(function(value){return value==target?null:value}))}},_disableDatepicker:function(target){var $target=$(target),inst=$.data(target,PROP_NAME);if($target.hasClass(this.markerClassName)){var nodeName=target.nodeName.toLowerCase();if("input"==nodeName)target.disabled=!0,inst.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==nodeName||"span"==nodeName){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,(function(value){return value==target?null:value})),this._disabledInputs[this._disabledInputs.length]=target}},_isDisabledDatepicker:function(target){if(!target)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]==target)return!0;return!1},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(2==arguments.length&&"string"==typeof name)return"defaults"==name?$.extend({},$.datepicker._defaults):inst?"all"==name?$.extend({},inst.settings):this._get(inst,name):null;var settings=name||{};if("string"==typeof name&&((settings={})[name]=value),inst){this._curInst==inst&&this._hideDatepicker();var date=this._getDateDatepicker(target,!0),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings),null!==minDate&&settings.dateFormat!==undefined&&settings.minDate===undefined&&(inst.settings.minDate=this._formatDate(inst,minDate)),null!==maxDate&&settings.dateFormat!==undefined&&settings.maxDate===undefined&&(inst.settings.maxDate=this._formatDate(inst,maxDate)),this._attachments($(target),inst),this._autoSize(inst),this._setDate(inst,date),this._updateAlternate(inst),this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);inst&&this._updateDatepicker(inst)},_setDateDatepicker:function(target,date){var inst=this._getInst(target);inst&&(this._setDate(inst,date),this._updateDatepicker(inst),this._updateAlternate(inst))},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);return inst&&!inst.inline&&this._setDateFromField(inst,noDefault),inst?this._getDate(inst):null},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target),handled=!0,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");if(inst._keyEvent=!0,$.datepicker._datepickerShowing)switch(event.keyCode){case 9:$.datepicker._hideDatepicker(),handled=!1;break;case 13:var sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);sel[0]&&$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);var onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){var dateStr=$.datepicker._formatDate(inst);onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 35:(event.ctrlKey||event.metaKey)&&$.datepicker._clearDate(event.target),handled=event.ctrlKey||event.metaKey;break;case 36:(event.ctrlKey||event.metaKey)&&$.datepicker._gotoToday(event.target),handled=event.ctrlKey||event.metaKey;break;case 37:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?1:-1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 38:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,-7,"D"),handled=event.ctrlKey||event.metaKey;break;case 39:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?-1:1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 40:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,7,"D"),handled=event.ctrlKey||event.metaKey;break;default:handled=!1}else 36==event.keyCode&&event.ctrlKey?$.datepicker._showDatepicker(this):handled=!1;handled&&(event.preventDefault(),event.stopPropagation())},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat")),chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||chr<" "||!chars||chars.indexOf(chr)>-1}},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!=inst.lastVal)try{$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),inst.input?inst.input.val():null,$.datepicker._getFormatConfig(inst))&&($.datepicker._setDateFromField(inst),$.datepicker._updateAlternate(inst),$.datepicker._updateDatepicker(inst))}catch(err){$.datepicker.log(err)}return!0},_showDatepicker:function(input){if("input"!=(input=input.target||input).nodeName.toLowerCase()&&(input=$("input",input.parentNode)[0]),!$.datepicker._isDisabledDatepicker(input)&&$.datepicker._lastInput!=input){var inst=$.datepicker._getInst(input);$.datepicker._curInst&&$.datepicker._curInst!=inst&&($.datepicker._curInst.dpDiv.stop(!0,!0),inst&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var beforeShow=$.datepicker._get(inst,"beforeShow"),beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(!1!==beforeShowSettings){extendRemove(inst.settings,beforeShowSettings),inst.lastVal=null,$.datepicker._lastInput=input,$.datepicker._setDateFromField(inst),$.datepicker._inDialog&&(input.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(input),$.datepicker._pos[1]+=input.offsetHeight);var isFixed=!1;$(input).parents().each((function(){return!(isFixed|="fixed"==$(this).css("position"))})),isFixed&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,inst.dpDiv.empty(),inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(inst),offset=$.datepicker._checkOffset(inst,offset,isFixed),inst.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":isFixed?"fixed":"absolute",display:"none",left:offset.left+"px",top:offset.top+"px"}),!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim"),duration=$.datepicker._get(inst,"duration"),postProcess=function(){var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(cover.length){var borders=$.datepicker._getBorders(inst.dpDiv);cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}};inst.dpDiv.zIndex($(input).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[showAnim]?inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv[showAnim||"show"](showAnim?duration:null,postProcess),showAnim&&duration||postProcess(),inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input.focus(),$.datepicker._curInst=inst}}}},_updateDatepicker:function(inst){this.maxRows=4;var borders=$.datepicker._getBorders(inst.dpDiv);instActive=inst,inst.dpDiv.empty().append(this._generateHTML(inst)),this._attachHandlers(inst);var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");cover.length&&cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()}),inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var numMonths=this._getNumberOfMonths(inst),cols=numMonths[1];if(inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),cols>1&&inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",17*cols+"em"),inst.dpDiv[(1!=numMonths[0]||1!=numMonths[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input[0]!=document.activeElement&&inst.input.focus(),inst.yearshtml){var origyearshtml=inst.yearshtml;setTimeout((function(){origyearshtml===inst.yearshtml&&inst.yearshtml&&inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml),origyearshtml=inst.yearshtml=null}),0)}},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());return offset.left-=this._get(inst,"isRTL")?dpWidth-inputWidth:0,offset.left-=isFixed&&offset.left==inst.input.offset().left?$(document).scrollLeft():0,offset.top-=isFixed&&offset.top==inst.input.offset().top+inputHeight?$(document).scrollTop():0,offset.left-=Math.min(offset.left,offset.left+dpWidth>viewWidth&&viewWidth>dpWidth?Math.abs(offset.left+dpWidth-viewWidth):0),offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&viewHeight>dpHeight?Math.abs(dpHeight+inputHeight):0),offset},_findPos:function(obj){for(var inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");obj&&("hidden"==obj.type||1!=obj.nodeType||$.expr.filters.hidden(obj));)obj=obj[isRTL?"previousSibling":"nextSibling"];var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input){var inst=this._curInst;if(inst&&(!input||inst==$.data(input,PROP_NAME))&&this._datepickerShowing){var showAnim=this._get(inst,"showAnim"),duration=this._get(inst,"duration"),postProcess=function(){$.datepicker._tidyDialog(inst)};$.effects&&$.effects[showAnim]?inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv["slideDown"==showAnim?"slideUp":"fadeIn"==showAnim?"fadeOut":"hide"](showAnim?duration:null,postProcess),showAnim||postProcess(),this._datepickerShowing=!1;var onClose=this._get(inst,"onClose");onClose&&onClose.apply(inst.input?inst.input[0]:null,[inst.input?inst.input.val():"",inst]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if($.datepicker._curInst){var $target=$(event.target),inst=$.datepicker._getInst($target[0]);($target[0].id==$.datepicker._mainDivId||0!=$target.parents("#"+$.datepicker._mainDivId).length||$target.hasClass($.datepicker.markerClassName)||$target.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!$target.hasClass($.datepicker.markerClassName)||$.datepicker._curInst==inst)||$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);this._isDisabledDatepicker(target[0])||(this._adjustInstDate(inst,offset+("M"==period?this._get(inst,"showCurrentAtPos"):0),period),this._updateDatepicker(inst))},_gotoToday:function(id){var target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay)inst.selectedDay=inst.currentDay,inst.drawMonth=inst.selectedMonth=inst.currentMonth,inst.drawYear=inst.selectedYear=inst.currentYear;else{var date=new Date;inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst),this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+("M"==period?"Month":"Year")]=inst["draw"+("M"==period?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10),this._notifyChange(inst),this._adjustDate(target)},_selectDay:function(id,month,year,td){var target=$(id);if(!$(td).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(target[0])){var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html(),inst.selectedMonth=inst.currentMonth=month,inst.selectedYear=inst.currentYear=year,this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))}},_clearDate:function(id){var target=$(id);this._getInst(target[0]);this._selectDate(target,"")},_selectDate:function(id,dateStr){var target=$(id),inst=this._getInst(target[0]);dateStr=null!=dateStr?dateStr:this._formatDate(inst),inst.input&&inst.input.val(dateStr),this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");onSelect?onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]):inst.input&&inst.input.trigger("change"),inst.inline?this._updateDatepicker(inst):(this._hideDatepicker(),this._lastInput=inst.input[0],"object"!=typeof inst.input[0]&&inst.input.focus(),this._lastInput=null)},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat"),date=this._getDate(inst),dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each((function(){$(this).val(dateStr)}))}},noWeekends:function(date){var day=date.getDay();return[day>0&&day<6,""]},iso8601Week:function(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1},parseDate:function(format,value,settings){if(null==format||null==value)throw"Invalid arguments";if(""==(value="object"==typeof value?value.toString():value+""))return null;var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10);for(var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},getNumber=function(match){var isDoubled=lookAhead(match),digits=new RegExp("^\\d{1,"+("@"==match?14:"!"==match?20:"y"==match&&isDoubled?4:"o"==match?3:2)+"}"),num=value.substring(iValue).match(digits);if(!num)throw"Missing number at position "+iValue;return iValue+=num[0].length,parseInt(num[0],10)},getName=function(match,shortNames,longNames){var names=$.map(lookAhead(match)?longNames:shortNames,(function(v,k){return[[k,v]]})).sort((function(a,b){return-(a[1].length-b[1].length)})),index=-1;if($.each(names,(function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()==name.toLowerCase())return index=pair[0],iValue+=name.length,!1})),-1!=index)return index+1;throw"Unknown name at position "+iValue},checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++},iValue=0,iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?checkLiteral():literal=!1;else switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":year=(date=new Date(getNumber("@"))).getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"!":var date;year=(date=new Date((getNumber("!")-this._ticksTo1970)/1e4)).getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"'":lookAhead("'")?checkLiteral():literal=!0;break;default:checkLiteral()}if(iValue<value.length)throw"Extra/unparsed characters found in date: "+value.substring(iValue);if(-1==year?year=(new Date).getFullYear():year<100&&(year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(year<=shortYearCutoff?0:-100)),doy>-1)for(month=1,day=doy;;){var dim=this._getDaysInMonth(year,month-1);if(day<=dim)break;month++,day-=dim}if((date=this._daylightSavingAdjust(new Date(year,month-1,day))).getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day)throw"Invalid date";return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(format,date,settings){if(!date)return"";var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match))for(;num.length<len;)num="0"+num;return num},formatName=function(match,value,shortNames,longNames){return lookAhead(match)?longNames[value]:shortNames[value]},output="",literal=!1;if(date)for(var iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?output+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/864e5),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100;break;case"@":output+=date.getTime();break;case"!":output+=1e4*date.getTime()+this._ticksTo1970;break;case"'":lookAhead("'")?output+="'":literal=!0;break;default:output+=format.charAt(iFormat)}return output},_possibleChars:function(format){for(var chars="",literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?chars+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?chars+="'":literal=!0;break;default:chars+=format.charAt(iFormat)}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()!=inst.lastVal){var date,defaultDate,dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null;date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event),dates=noDefault?"":dates}inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),inst.currentDay=dates?date.getDate():0,inst.currentMonth=dates?date.getMonth():0,inst.currentYear=dates?date.getFullYear():0,this._adjustInstDate(inst)}},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date))},_determineDate:function(inst,date,defaultDate){var newDate=null==date||""===date?defaultDate:"string"==typeof date?function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}for(var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date,year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);matches;){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=7*parseInt(matches[1],10);break;case"m":case"M":month+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month))}matches=pattern.exec(offset)}return new Date(year,month,day)}(date):"number"==typeof date?isNaN(date)?defaultDate:function(offset){var date=new Date;return date.setDate(date.getDate()+offset),date}(date):new Date(date.getTime());return(newDate=newDate&&"Invalid Date"==newDate.toString()?defaultDate:newDate)&&(newDate.setHours(0),newDate.setMinutes(0),newDate.setSeconds(0),newDate.setMilliseconds(0)),this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){return date?(date.setHours(date.getHours()>12?date.getHours()+2:0),date):null},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date));inst.selectedDay=inst.currentDay=newDate.getDate(),inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth(),inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear(),origMonth==inst.selectedMonth&&origYear==inst.selectedYear||noChange||this._notifyChange(inst),this._adjustInstDate(inst),inst.input&&inst.input.val(clear?"":this._formatDate(inst))},_getDate:function(inst){return!inst.currentYear||inst.input&&""==inst.input.val()?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay))},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map((function(){var handler={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,-stepMonths,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(id)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])}))},_generateHTML:function(inst){var today=new Date;today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=1!=numMonths[0]||1!=numMonths[1],currentDate=this._daylightSavingAdjust(inst.currentDay?new Date(inst.currentYear,inst.currentMonth,inst.currentDay):new Date(9999,9,9)),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0&&(drawMonth+=12,drawYear--),maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate()));for(maxDraw=minDate&&maxDraw<minDate?minDate:maxDraw;this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw;)--drawMonth<0&&(drawMonth=11,drawYear--)}inst.drawMonth=drawMonth,inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=navigationAsDateFormat?this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)):prevText;var prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>":hideIfNoPrevNext?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>",nextText=this._get(inst,"nextText");nextText=navigationAsDateFormat?this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)):nextText;var next=this._canAdjustMonth(inst,1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>":hideIfNoPrevNext?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>",currentText=this._get(inst,"currentText"),gotoDate=this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today;currentText=navigationAsDateFormat?this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)):currentText;var controls=inst.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(inst,"closeText")+"</button>",buttonPanel=showButtonPanel?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"",firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=isNaN(firstDay)?0:firstDay;for(var showWeek=this._get(inst,"showWeek"),dayNames=this._get(inst,"dayNames"),dayNamesMin=(this._get(inst,"dayNamesShort"),this._get(inst,"dayNamesMin")),monthNames=this._get(inst,"monthNames"),monthNamesShort=this._get(inst,"monthNamesShort"),beforeShowDay=this._get(inst,"beforeShowDay"),showOtherMonths=this._get(inst,"showOtherMonths"),selectOtherMonths=this._get(inst,"selectOtherMonths"),defaultDate=(this._get(inst,"calculateWeek")||this.iso8601Week,this._getDefaultDate(inst)),html="",row=0;row<numMonths[0];row++){var group="";this.maxRows=4;for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay)),cornerClass=" ui-corner-all",calender="";if(isMultiMonth){if(calender+='<div class="ui-datepicker-group',numMonths[1]>1)switch(col){case 0:calender+=" ui-datepicker-group-first",cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last",cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle",cornerClass=""}calender+='">'}calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+(/all|left/.test(cornerClass)&&0==row?isRTL?next:prev:"")+(/all|right/.test(cornerClass)&&0==row?isRTL?prev:next:"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var thead=showWeek?'<th class="ui-datepicker-week-col">'+this._get(inst,"weekHeader")+"</th>":"",dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+dayNames[day]+'">'+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth&&(inst.selectedDay=Math.min(inst.selectedDay,daysInMonth));var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7,curRows=Math.ceil((leadDays+daysInMonth)/7),numRows=isMultiMonth&&this.maxRows>curRows?this.maxRows:curRows;this.maxRows=numRows;for(var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays)),dRow=0;dRow<numRows;dRow++){calender+="<tr>";var tbody=showWeek?'<td class="ui-datepicker-week-col">'+this._get(inst,"calculateWeek")(printDate)+"</td>":"";for(dow=0;dow<7;dow++){var daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[!0,""],otherMonth=printDate.getMonth()!=drawMonth,unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&printDate<minDate||maxDate&&printDate>maxDate;tbody+='<td class="'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+(printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime()?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()==currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+(otherMonth&&!showOtherMonths||!daySettings[2]?"":' title="'+daySettings[2]+'"')+(unselectable?"":' data-handler="selectDay" data-event="click" data-month="'+printDate.getMonth()+'" data-year="'+printDate.getFullYear()+'"')+">"+(otherMonth&&!showOtherMonths?"&#xa0;":unselectable?'<span class="ui-state-default">'+printDate.getDate()+"</span>":'<a class="ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()==currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+'" href="#">'+printDate.getDate()+"</a>")+"</td>",printDate.setDate(printDate.getDate()+1),printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}++drawMonth>11&&(drawMonth=0,drawYear++),group+=calender+="</tbody></table>"+(isMultiMonth?"</div>"+(numMonths[0]>0&&col==numMonths[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}html+=group}return html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),inst._keyEvent=!1,html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html='<div class="ui-datepicker-title">',monthHtml="";if(secondary||!changeMonth)monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span>";else{var inMinYear=minDate&&minDate.getFullYear()==drawYear,inMaxYear=maxDate&&maxDate.getFullYear()==drawYear;monthHtml+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var month=0;month<12;month++)(!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())&&(monthHtml+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNamesShort[month]+"</option>");monthHtml+="</select>"}if(showMonthAfterYear||(html+=monthHtml+(!secondary&&changeMonth&&changeYear?"":"&#xa0;")),!inst.yearshtml)if(inst.yearshtml="",secondary||!changeYear)html+='<span class="ui-datepicker-year">'+drawYear+"</span>";else{var years=this._get(inst,"yearRange").split(":"),thisYear=(new Date).getFullYear(),determineYear=function(value){var year=value.match(/c[+-].*/)?drawYear+parseInt(value.substring(1),10):value.match(/[+-].*/)?thisYear+parseInt(value,10):parseInt(value,10);return isNaN(year)?thisYear:year},year=determineYear(years[0]),endYear=Math.max(year,determineYear(years[1]||""));for(year=minDate?Math.max(year,minDate.getFullYear()):year,endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear,inst.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';year<=endYear;year++)inst.yearshtml+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>";inst.yearshtml+="</select>",html+=inst.yearshtml,inst.yearshtml=null}return html+=this._get(inst,"yearSuffix"),showMonthAfterYear&&(html+=(!secondary&&changeMonth&&changeYear?"":"&#xa0;")+monthHtml),html+="</div>"},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+("Y"==period?offset:0),month=inst.drawMonth+("M"==period?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+("D"==period?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),"M"!=period&&"Y"!=period||this._notifyChange(inst)},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=minDate&&date<minDate?minDate:date;return newDate=maxDate&&newDate>maxDate?maxDate:newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");onChange&&onChange.apply(inst.input?inst.input[0]:null,[inst.selectedYear,inst.selectedMonth+1,inst])},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return null==numMonths?[1,1]:"number"==typeof numMonths?[1,numMonths]:numMonths},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));return offset<0&&date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth())),this._isInRange(inst,date)},_isInRange:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max");return(!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");return{shortYearCutoff:shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10),dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){day||(inst.currentDay=inst.selectedDay,inst.currentMonth=inst.selectedMonth,inst.currentYear=inst.selectedYear);var date=day?"object"==typeof day?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}}),$.fn.datepicker=function(options){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var otherArgs=Array.prototype.slice.call(arguments,1);return"string"!=typeof options||"isDisabled"!=options&&"getDate"!=options&&"widget"!=options?"option"==options&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs)):this.each((function(){"string"==typeof options?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})):$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.24",window["DP_jQuery_"+dpuuid]=$}(jQuery),function($,undefined){var uiDialogClasses="ui-dialog ui-widget ui-widget-content ui-corner-all ",sizeRelatedOptions={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};$.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;topOffset<0&&$(this).css("top",pos.top-topOffset)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var self=this,options=self.options,titleId=(options.title,$.ui.dialog.getTitleId(self.element)),uiDialog=(self.uiDialog=$("<div></div>")).appendTo(document.body).hide().addClass(uiDialogClasses+options.dialogClass).css({zIndex:options.zIndex}).attr("tabIndex",-1).css("outline",0).keydown((function(event){options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE&&(self.close(event),event.preventDefault())})).attr({role:"dialog","aria-labelledby":titleId}).mousedown((function(event){self.moveToTop(!1,event)})),uiDialogTitlebar=(self.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(uiDialog),(self.uiDialogTitlebar=$("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(uiDialog)),uiDialogTitlebarClose=$('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover((function(){uiDialogTitlebarClose.addClass("ui-state-hover")}),(function(){uiDialogTitlebarClose.removeClass("ui-state-hover")})).focus((function(){uiDialogTitlebarClose.addClass("ui-state-focus")})).blur((function(){uiDialogTitlebarClose.removeClass("ui-state-focus")})).click((function(event){return self.close(event),!1})).appendTo(uiDialogTitlebar),uiDialogTitle=((self.uiDialogTitlebarCloseText=$("<span></span>")).addClass("ui-icon ui-icon-closethick").text(options.closeText).appendTo(uiDialogTitlebarClose),$("<span></span>").addClass("ui-dialog-title").attr("id",titleId).prependTo(uiDialogTitlebar));self._title(uiDialogTitle),$.isFunction(options.beforeclose)&&!$.isFunction(options.beforeClose)&&(options.beforeClose=options.beforeclose),uiDialogTitlebar.find("*").add(uiDialogTitlebar).disableSelection(),options.draggable&&$.fn.draggable&&self._makeDraggable(),options.resizable&&$.fn.resizable&&self._makeResizable(),self._createButtons(options.buttons),self._isOpen=!1,$.fn.bgiframe&&uiDialog.bgiframe()},_title:function(title){this.options.title||title.html("&#160;"),title.text(this.options.title)},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){return this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),this},widget:function(){return this.uiDialog},close:function(event){var maxZ,thisZ,self=this;if(!1!==self._trigger("beforeClose",event))return self.overlay&&self.overlay.destroy(),self.uiDialog.unbind("keypress.ui-dialog"),self._isOpen=!1,self.options.hide?self.uiDialog.hide(self.options.hide,(function(){self._trigger("close",event)})):(self.uiDialog.hide(),self._trigger("close",event)),$.ui.dialog.overlay.resize(),self.options.modal&&(maxZ=0,$(".ui-dialog").each((function(){this!==self.uiDialog[0]&&(thisZ=$(this).css("z-index"),isNaN(thisZ)||(maxZ=Math.max(maxZ,thisZ)))})),$.ui.dialog.maxZ=maxZ),self},isOpen:function(){return this._isOpen},moveToTop:function(force,event){var saveScroll,options=this.options;return options.modal&&!force||!options.stack&&!options.modal?this._trigger("focus",event):(options.zIndex>$.ui.dialog.maxZ&&($.ui.dialog.maxZ=options.zIndex),this.overlay&&($.ui.dialog.maxZ+=1,this.overlay.$el.css("z-index",$.ui.dialog.overlay.maxZ=$.ui.dialog.maxZ)),saveScroll={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},$.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",$.ui.dialog.maxZ),this.element.attr(saveScroll),this._trigger("focus",event),this)},open:function(){if(!this._isOpen){var options=this.options,uiDialog=this.uiDialog;return this.overlay=options.modal?new $.ui.dialog.overlay(this):null,this._size(),this._position(options.position),uiDialog.show(options.show),this.moveToTop(!0),options.modal&&uiDialog.bind("keydown.ui-dialog",(function(event){if(event.keyCode===$.ui.keyCode.TAB){var tabbables=$(":tabbable",this),first=tabbables.filter(":first"),last=tabbables.filter(":last");return event.target!==last[0]||event.shiftKey?event.target===first[0]&&event.shiftKey?(last.focus(1),!1):void 0:(first.focus(1),!1)}})),$(this.element.find(":tabbable").get().concat(uiDialog.find(".ui-dialog-buttonpane :tabbable").get().concat(uiDialog.get()))).eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(buttons){var self=this,hasButtons=!1,uiDialogButtonPane=$("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),uiButtonSet=$("<div></div>").addClass("ui-dialog-buttonset").appendTo(uiDialogButtonPane);self.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof buttons&&null!==buttons&&$.each(buttons,(function(){return!(hasButtons=!0)})),hasButtons&&($.each(buttons,(function(name,props){props=$.isFunction(props)?{click:props,text:name}:props;var button=$('<button type="button"></button>').click((function(){props.click.apply(self.element[0],arguments)})).appendTo(uiButtonSet);$.each(props,(function(key,value){"click"!==key&&(key in button?button[key](value):button.attr(key,value))})),$.fn.button&&button.button()})),uiDialogButtonPane.appendTo(self.uiDialog))},_makeDraggable:function(){var heightBeforeDrag,self=this,options=self.options,doc=$(document);function filteredUi(ui){return{position:ui.position,offset:ui.offset}}self.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){heightBeforeDrag="auto"===options.height?"auto":$(this).height(),$(this).height($(this).height()).addClass("ui-dialog-dragging"),self._trigger("dragStart",event,filteredUi(ui))},drag:function(event,ui){self._trigger("drag",event,filteredUi(ui))},stop:function(event,ui){options.position=[ui.position.left-doc.scrollLeft(),ui.position.top-doc.scrollTop()],$(this).removeClass("ui-dialog-dragging").height(heightBeforeDrag),self._trigger("dragStop",event,filteredUi(ui)),$.ui.dialog.overlay.resize()}})},_makeResizable:function(handles){handles=void 0===handles?this.options.resizable:handles;var self=this,options=self.options,position=self.uiDialog.css("position"),resizeHandles="string"==typeof handles?handles:"n,e,s,w,se,sw,ne,nw";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size}}self.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:self.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:self._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing"),self._trigger("resizeStart",event,filteredUi(ui))},resize:function(event,ui){self._trigger("resize",event,filteredUi(ui))},stop:function(event,ui){$(this).removeClass("ui-dialog-resizing"),options.height=$(this).height(),options.width=$(this).width(),self._trigger("resizeStop",event,filteredUi(ui)),$.ui.dialog.overlay.resize()}}).css("position",position).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var options=this.options;return"auto"===options.height?options.minHeight:Math.min(options.minHeight,options.height)},_position:function(position){var isVisible,myAt=[],offset=[0,0];position?(("string"==typeof position||"object"==typeof position&&"0"in position)&&(1===(myAt=position.split?position.split(" "):[position[0],position[1]]).length&&(myAt[1]=myAt[0]),$.each(["left","top"],(function(i,offsetPosition){+myAt[i]===myAt[i]&&(offset[i]=myAt[i],myAt[i]=offsetPosition)})),position={my:myAt.join(" "),at:myAt.join(" "),offset:offset.join(" ")}),position=$.extend({},$.ui.dialog.prototype.options.position,position)):position=$.ui.dialog.prototype.options.position,(isVisible=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position($.extend({of:window},position)),isVisible||this.uiDialog.hide()},_setOptions:function(options){var self=this,resizableOptions={},resize=!1;$.each(options,(function(key,value){self._setOption(key,value),key in sizeRelatedOptions&&(resize=!0),key in resizableRelatedOptions&&(resizableOptions[key]=value)})),resize&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",resizableOptions)},_setOption:function(key,value){var self=this,uiDialog=self.uiDialog;switch(key){case"beforeclose":key="beforeClose";break;case"buttons":self._createButtons(value);break;case"closeText":self.uiDialogTitlebarCloseText.text(""+value);break;case"dialogClass":uiDialog.removeClass(self.options.dialogClass).addClass(uiDialogClasses+value);break;case"disabled":value?uiDialog.addClass("ui-dialog-disabled"):uiDialog.removeClass("ui-dialog-disabled");break;case"draggable":var isDraggable=uiDialog.is(":data(draggable)");isDraggable&&!value&&uiDialog.draggable("destroy"),!isDraggable&&value&&self._makeDraggable();break;case"position":self._position(value);break;case"resizable":var isResizable=uiDialog.is(":data(resizable)");isResizable&&!value&&uiDialog.resizable("destroy"),isResizable&&"string"==typeof value&&uiDialog.resizable("option","handles",value),isResizable||!1===value||self._makeResizable(value);break;case"title":self._title(self.uiDialogTitlebar.find(".ui-dialog-title"))}$.Widget.prototype._setOption.apply(self,arguments)},_size:function(){var nonContentHeight,minContentHeight,options=this.options,isVisible=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),options.minWidth>options.width&&(options.width=options.minWidth),nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).height(),minContentHeight=Math.max(0,options.minHeight-nonContentHeight),"auto"===options.height)if($.support.minHeight)this.element.css({minHeight:minContentHeight,height:"auto"});else{this.uiDialog.show();var autoHeight=this.element.css("height","auto").height();isVisible||this.uiDialog.hide(),this.element.height(Math.max(autoHeight,minContentHeight))}else this.element.height(Math.max(options.height-nonContentHeight,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),$.extend($.ui.dialog,{version:"1.8.24",uuid:0,maxZ:0,getTitleId:function($el){var id=$el.attr("id");return id||(this.uuid+=1,id=this.uuid),"ui-dialog-title-"+id},overlay:function(dialog){this.$el=$.ui.dialog.overlay.create(dialog)}}),$.extend($.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:$.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),(function(event){return event+".dialog-overlay"})).join(" "),create:function(dialog){0===this.instances.length&&(setTimeout((function(){$.ui.dialog.overlay.instances.length&&$(document).bind($.ui.dialog.overlay.events,(function(event){if($(event.target).zIndex()<$.ui.dialog.overlay.maxZ)return!1}))}),1),$(document).bind("keydown.dialog-overlay",(function(event){dialog.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE&&(dialog.close(event),event.preventDefault())})),$(window).bind("resize.dialog-overlay",$.ui.dialog.overlay.resize));var $el=(this.oldInstances.pop()||$("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return $.fn.bgiframe&&$el.bgiframe(),this.instances.push($el),$el},destroy:function($el){var indexOf=$.inArray($el,this.instances);-1!=indexOf&&this.oldInstances.push(this.instances.splice(indexOf,1)[0]),0===this.instances.length&&$([document,window]).unbind(".dialog-overlay"),$el.remove();var maxZ=0;$.each(this.instances,(function(){maxZ=Math.max(maxZ,this.css("z-index"))})),this.maxZ=maxZ},height:function(){var scrollHeight;return $.browser.msie&&$.browser.version<7?(scrollHeight=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))<Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)?$(window).height()+"px":scrollHeight+"px":$(document).height()+"px"},width:function(){var scrollWidth;return $.browser.msie?(scrollWidth=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))<Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)?$(window).width()+"px":scrollWidth+"px":$(document).width()+"px"},resize:function(){var $overlays=$([]);$.each($.ui.dialog.overlay.instances,(function(){$overlays=$overlays.add(this)})),$overlays.css({width:0,height:0}).css({width:$.ui.dialog.overlay.width(),height:$.ui.dialog.overlay.height()})}}),$.extend($.ui.dialog.overlay.prototype,{destroy:function(){$.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function($,undefined){$.ui=$.ui||{};var horizontalPositions=/left|center|right/,verticalPositions=/top|center|bottom/,center="center",support={},_position=$.fn.position,_offset=$.fn.offset;$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var targetWidth,targetHeight,basePosition,target=$(options.of),targetElem=target[0],collision=(options.collision||"flip").split(" "),offset=options.offset?options.offset.split(" "):[0,0];return 9===targetElem.nodeType?(targetWidth=target.width(),targetHeight=target.height(),basePosition={top:0,left:0}):targetElem.setTimeout?(targetWidth=target.width(),targetHeight=target.height(),basePosition={top:target.scrollTop(),left:target.scrollLeft()}):targetElem.preventDefault?(options.at="left top",targetWidth=targetHeight=0,basePosition={top:options.of.pageY,left:options.of.pageX}):(targetWidth=target.outerWidth(),targetHeight=target.outerHeight(),basePosition=target.offset()),$.each(["my","at"],(function(){var pos=(options[this]||"").split(" ");1===pos.length&&(pos=horizontalPositions.test(pos[0])?pos.concat([center]):verticalPositions.test(pos[0])?[center].concat(pos):[center,center]),pos[0]=horizontalPositions.test(pos[0])?pos[0]:center,pos[1]=verticalPositions.test(pos[1])?pos[1]:center,options[this]=pos})),1===collision.length&&(collision[1]=collision[0]),offset[0]=parseInt(offset[0],10)||0,1===offset.length&&(offset[1]=offset[0]),offset[1]=parseInt(offset[1],10)||0,"right"===options.at[0]?basePosition.left+=targetWidth:options.at[0]===center&&(basePosition.left+=targetWidth/2),"bottom"===options.at[1]?basePosition.top+=targetHeight:options.at[1]===center&&(basePosition.top+=targetHeight/2),basePosition.left+=offset[0],basePosition.top+=offset[1],this.each((function(){var collisionPosition,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseInt($.curCSS(this,"marginLeft",!0))||0,marginTop=parseInt($.curCSS(this,"marginTop",!0))||0,collisionWidth=elemWidth+marginLeft+(parseInt($.curCSS(this,"marginRight",!0))||0),collisionHeight=elemHeight+marginTop+(parseInt($.curCSS(this,"marginBottom",!0))||0),position=$.extend({},basePosition);"right"===options.my[0]?position.left-=elemWidth:options.my[0]===center&&(position.left-=elemWidth/2),"bottom"===options.my[1]?position.top-=elemHeight:options.my[1]===center&&(position.top-=elemHeight/2),support.fractions||(position.left=Math.round(position.left),position.top=Math.round(position.top)),collisionPosition={left:position.left-marginLeft,top:position.top-marginTop},$.each(["left","top"],(function(i,dir){$.ui.position[collision[i]]&&$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:offset,my:options.my,at:options.at})})),$.fn.bgiframe&&elem.bgiframe(),elem.offset($.extend(position,{using:options.using}))}))},$.ui.position={fit:{left:function(position,data){var win=$(window),over=data.collisionPosition.left+data.collisionWidth-win.width()-win.scrollLeft();position.left=over>0?position.left-over:Math.max(position.left-data.collisionPosition.left,position.left)},top:function(position,data){var win=$(window),over=data.collisionPosition.top+data.collisionHeight-win.height()-win.scrollTop();position.top=over>0?position.top-over:Math.max(position.top-data.collisionPosition.top,position.top)}},flip:{left:function(position,data){if(data.at[0]!==center){var win=$(window),over=data.collisionPosition.left+data.collisionWidth-win.width()-win.scrollLeft(),myOffset="left"===data.my[0]?-data.elemWidth:"right"===data.my[0]?data.elemWidth:0,atOffset="left"===data.at[0]?data.targetWidth:-data.targetWidth,offset=-2*data.offset[0];position.left+=data.collisionPosition.left<0||over>0?myOffset+atOffset+offset:0}},top:function(position,data){if(data.at[1]!==center){var win=$(window),over=data.collisionPosition.top+data.collisionHeight-win.height()-win.scrollTop(),myOffset="top"===data.my[1]?-data.elemHeight:"bottom"===data.my[1]?data.elemHeight:0,atOffset="top"===data.at[1]?data.targetHeight:-data.targetHeight,offset=-2*data.offset[1];position.top+=data.collisionPosition.top<0||over>0?myOffset+atOffset+offset:0}}}},$.offset.setOffset||($.offset.setOffset=function(elem,options){/static/.test($.curCSS(elem,"position"))&&(elem.style.position="relative");var curElem=$(elem),curOffset=curElem.offset(),curTop=parseInt($.curCSS(elem,"top",!0),10)||0,curLeft=parseInt($.curCSS(elem,"left",!0),10)||0,props={top:options.top-curOffset.top+curTop,left:options.left-curOffset.left+curLeft};"using"in options?options.using.call(elem,props):curElem.css(props)},$.fn.offset=function(options){var elem=this[0];return elem&&elem.ownerDocument?options?$.isFunction(options)?this.each((function(i){$(this).offset(options.call(this,i,$(this).offset()))})):this.each((function(){$.offset.setOffset(this,options)})):_offset.call(this):null}),$.curCSS||($.curCSS=$.css),function(){var testElement,testElementParent,testElementStyle,offset,offsetTotal,body=document.getElementsByTagName("body")[0],div=document.createElement("div");for(var i in testElement=document.createElement(body?"div":"body"),testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},body&&$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"}),testElementStyle)testElement.style[i]=testElementStyle[i];testElement.appendChild(div),(testElementParent=body||document.documentElement).insertBefore(testElement,testElementParent.firstChild),div.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",offset=$(div).offset((function(_,offset){return offset})).offset(),testElement.innerHTML="",testElementParent.removeChild(testElement),offsetTotal=offset.top+offset.left+(body?2e3:0),support.fractions=offsetTotal>21&&offsetTotal<22}()}(jQuery),function($,undefined){$.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),$.Widget.prototype.destroy.apply(this,arguments)},value:function(newValue){return void 0===newValue?this._value():(this._setOption("value",newValue),this)},_setOption:function(key,value){"value"===key&&(this.options.value=value,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),$.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var val=this.options.value;return"number"!=typeof val&&(val=0),Math.min(this.options.max,Math.max(this.min,val))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var value=this.value(),percentage=this._percentage();this.oldValue!==value&&(this.oldValue=value,this._trigger("change")),this.valueDiv.toggle(value>this.min).toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%"),this.element.attr("aria-valuenow",value)}}),$.extend($.ui.progressbar,{version:"1.8.24"})}(jQuery),function($,undefined){$.widget("ui.slider",$.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var self=this,o=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handleCount=o.values&&o.values.length||1,handles=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(o.disabled?" ui-slider-disabled ui-disabled":"")),this.range=$([]),o.range&&(!0===o.range&&(o.values||(o.values=[this._valueMin(),this._valueMin()]),o.values.length&&2!==o.values.length&&(o.values=[o.values[0],o.values[0]])),this.range=$("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===o.range||"max"===o.range?" ui-slider-range-"+o.range:"")));for(var i=existingHandles.length;i<handleCount;i+=1)handles.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=existingHandles.add($(handles.join("")).appendTo(self.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click((function(event){event.preventDefault()})).hover((function(){o.disabled||$(this).addClass("ui-state-hover")}),(function(){$(this).removeClass("ui-state-hover")})).focus((function(){o.disabled?$(this).blur():($(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),$(this).addClass("ui-state-focus"))})).blur((function(){$(this).removeClass("ui-state-focus")})),this.handles.each((function(i){$(this).data("index.ui-slider-handle",i)})),this.handles.keydown((function(event){var curVal,newVal,step,index=$(this).data("index.ui-slider-handle");if(!self.options.disabled){switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(event.preventDefault(),!self._keySliding&&(self._keySliding=!0,$(this).addClass("ui-state-active"),!1===self._start(event,index)))return}switch(step=self.options.step,curVal=newVal=self.options.values&&self.options.values.length?self.values(index):self.value(),event.keyCode){case $.ui.keyCode.HOME:newVal=self._valueMin();break;case $.ui.keyCode.END:newVal=self._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=self._trimAlignValue(curVal+(self._valueMax()-self._valueMin())/5);break;case $.ui.keyCode.PAGE_DOWN:newVal=self._trimAlignValue(curVal-(self._valueMax()-self._valueMin())/5);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===self._valueMax())return;newVal=self._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===self._valueMin())return;newVal=self._trimAlignValue(curVal-step)}self._slide(event,index,newVal)}})).keyup((function(event){var index=$(this).data("index.ui-slider-handle");self._keySliding&&(self._keySliding=!1,self._stop(event,index),self._change(event,index),$(this).removeClass("ui-state-active"))})),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(event){var position,normValue,distance,closestHandle,self,index,offset,mouseOverHandle,o=this.options;return!o.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position),distance=this._valueMax()-this._valueMin()+1,self=this,this.handles.each((function(i){var thisDistance=Math.abs(normValue-self.values(i));distance>thisDistance&&(distance=thisDistance,closestHandle=$(this),index=i)})),!0===o.range&&this.values(1)===o.min&&(index+=1,closestHandle=$(this.handles[index])),!1!==this._start(event,index)&&(this._mouseSliding=!0,self._handleIndex=index,closestHandle.addClass("ui-state-active").focus(),offset=closestHandle.offset(),mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-closestHandle.width()/2,top:event.pageY-offset.top-closestHandle.height()/2-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(event,index,normValue),this._animateOff=!0,!0))},_mouseStart:function(event){return!0},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);return this._slide(event,this._handleIndex,normValue),!1},_mouseStop:function(event){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(event,this._handleIndex),this._change(event,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;return"horizontal"===this.orientation?(pixelTotal=this.elementSize.width,pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(pixelTotal=this.elementSize.height,pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(percentMouse=pixelMouse/pixelTotal)>1&&(percentMouse=1),percentMouse<0&&(percentMouse=0),"vertical"===this.orientation&&(percentMouse=1-percentMouse),valueTotal=this._valueMax()-this._valueMin(),valueMouse=this._valueMin()+percentMouse*valueTotal,this._trimAlignValue(valueMouse)},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};return this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("start",event,uiHash)},_slide:function(event,index,newVal){var otherVal,newValues,allowed;this.options.values&&this.options.values.length?(otherVal=this.values(index?0:1),2===this.options.values.length&&!0===this.options.range&&(0===index&&newVal>otherVal||1===index&&newVal<otherVal)&&(newVal=otherVal),newVal!==this.values(index)&&((newValues=this.values())[index]=newVal,allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues}),otherVal=this.values(index?0:1),!1!==allowed&&this.values(index,newVal,!0))):newVal!==this.value()&&!1!==(allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal}))&&this.value(newVal)},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("stop",event,uiHash)},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("change",event,uiHash)}},value:function(newValue){return arguments.length?(this.options.value=this._trimAlignValue(newValue),this._refreshValue(),void this._change(null,0)):this._value()},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1)return this.options.values[index]=this._trimAlignValue(newValue),this._refreshValue(),void this._change(null,index);if(!arguments.length)return this._values();if(!$.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(index):this.value();for(vals=this.options.values,newValues=arguments[0],i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(newValues[i]),this._change(null,i);this._refreshValue()},_setOption:function(key,value){var i,valsLength=0;switch($.isArray(this.options.values)&&(valsLength=this.options.values.length),$.Widget.prototype._setOption.apply(this,arguments),key){case"disabled":value?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<valsLength;i+=1)this._change(null,i);this._animateOff=!1}},_value:function(){var val=this.options.value;return val=this._trimAlignValue(val)},_values:function(index){var val,vals,i;if(arguments.length)return val=this.options.values[index],val=this._trimAlignValue(val);for(vals=this.options.values.slice(),i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(vals[i]);return vals},_trimAlignValue:function(val){if(val<=this._valueMin())return this._valueMin();if(val>=this._valueMax())return this._valueMax();var step=this.options.step>0?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;return 2*Math.abs(valModStep)>=step&&(alignValue+=valModStep>0?step:-step),parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var valPercent,lastValPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,self=this,animate=!this._animateOff&&o.animate,_set={};this.options.values&&this.options.values.length?this.handles.each((function(i,j){valPercent=(self.values(i)-self._valueMin())/(self._valueMax()-self._valueMin())*100,_set["horizontal"===self.orientation?"left":"bottom"]=valPercent+"%",$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate),!0===self.options.range&&("horizontal"===self.orientation?(0===i&&self.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate),1===i&&self.range[animate?"animate":"css"]({width:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate})):(0===i&&self.range.stop(1,1)[animate?"animate":"css"]({bottom:valPercent+"%"},o.animate),1===i&&self.range[animate?"animate":"css"]({height:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate}))),lastValPercent=valPercent})):(value=this.value(),valueMin=this._valueMin(),valueMax=this._valueMax(),valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0,_set["horizontal"===self.orientation?"left":"bottom"]=valPercent+"%",this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate),"min"===oRange&&"horizontal"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate),"max"===oRange&&"horizontal"===this.orientation&&this.range[animate?"animate":"css"]({width:100-valPercent+"%"},{queue:!1,duration:o.animate}),"min"===oRange&&"vertical"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate),"max"===oRange&&"vertical"===this.orientation&&this.range[animate?"animate":"css"]({height:100-valPercent+"%"},{queue:!1,duration:o.animate}))}}),$.extend($.ui.slider,{version:"1.8.24"})}(jQuery),function($,undefined){var tabId=0,listId=0;function getNextListId(){return++listId}$.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(key,value){if("selected"==key){if(this.options.collapsible&&value==this.options.selected)return;this.select(value)}else this.options[key]=value,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++tabId},_sanitizeSelector:function(hash){return hash.replace(/:/g,"\\:")},_cookie:function(){var cookie=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+getNextListId());return $.cookie.apply(null,[cookie].concat($.makeArray(arguments)))},_ui:function(tab,panel){return{tab:tab,panel:panel,index:this.anchors.index(tab)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each((function(){var el=$(this);el.html(el.data("label.tabs")).removeData("label.tabs")}))},_tabify:function(init){var hideFx,showFx,self=this,o=this.options,fragmentId=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=$(" > li:has(a[href])",this.list),this.anchors=this.lis.map((function(){return $("a",this)[0]})),this.panels=$([]),this.anchors.each((function(i,a){var baseEl,href=$(a).attr("href"),hrefBase=href.split("#")[0];if(hrefBase&&(hrefBase===location.toString().split("#")[0]||(baseEl=$("base")[0])&&hrefBase===baseEl.href)&&(href=a.hash,a.href=href),fragmentId.test(href))self.panels=self.panels.add(self.element.find(self._sanitizeSelector(href)));else if(href&&"#"!==href){$.data(a,"href.tabs",href),$.data(a,"load.tabs",href.replace(/#.*$/,""));var id=self._tabId(a);a.href="#"+id;var $panel=self.element.find("#"+id);$panel.length||($panel=$(o.panelTemplate).attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(self.panels[i-1]||self.list)).data("destroy.tabs",!0),self.panels=self.panels.add($panel)}else o.disabled.push(i)})),init?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),void 0===o.selected?(location.hash&&this.anchors.each((function(i,a){if(a.hash==location.hash)return o.selected=i,!1})),"number"!=typeof o.selected&&o.cookie&&(o.selected=parseInt(self._cookie(),10)),"number"!=typeof o.selected&&this.lis.filter(".ui-tabs-selected").length&&(o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),o.selected=o.selected||(this.lis.length?0:-1)):null===o.selected&&(o.selected=-1),o.selected=o.selected>=0&&this.anchors[o.selected]||o.selected<0?o.selected:0,o.disabled=$.unique(o.disabled.concat($.map(this.lis.filter(".ui-state-disabled"),(function(n,i){return self.lis.index(n)})))).sort(),-1!=$.inArray(o.selected,o.disabled)&&o.disabled.splice($.inArray(o.selected,o.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),o.selected>=0&&this.anchors.length&&(self.element.find(self._sanitizeSelector(self.anchors[o.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(o.selected).addClass("ui-tabs-selected ui-state-active"),self.element.queue("tabs",(function(){self._trigger("show",null,self._ui(self.anchors[o.selected],self.element.find(self._sanitizeSelector(self.anchors[o.selected].hash))[0]))})),this.load(o.selected)),$(window).bind("unload",(function(){self.lis.add(self.anchors).unbind(".tabs"),self.lis=self.anchors=self.panels=null}))):o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[o.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),o.cookie&&this._cookie(o.selected,o.cookie);for(var li,i=0;li=this.lis[i];i++)$(li)[-1==$.inArray(i,o.disabled)||$(li).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(!1===o.cache&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==o.event){var addState=function(state,el){el.is(":not(.ui-state-disabled)")&&el.addClass("ui-state-"+state)},removeState=function(state,el){el.removeClass("ui-state-"+state)};this.lis.bind("mouseover.tabs",(function(){addState("hover",$(this))})),this.lis.bind("mouseout.tabs",(function(){removeState("hover",$(this))})),this.anchors.bind("focus.tabs",(function(){addState("focus",$(this).closest("li"))})),this.anchors.bind("blur.tabs",(function(){removeState("focus",$(this).closest("li"))}))}function resetStyle($el,fx){$el.css("display",""),!$.support.opacity&&fx.opacity&&$el[0].style.removeAttribute("filter")}o.fx&&($.isArray(o.fx)?(hideFx=o.fx[0],showFx=o.fx[1]):hideFx=showFx=o.fx);var showTab=showFx?function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active"),$show.hide().removeClass("ui-tabs-hide").animate(showFx,showFx.duration||"normal",(function(){resetStyle($show,showFx),self._trigger("show",null,self._ui(clicked,$show[0]))}))}:function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active"),$show.removeClass("ui-tabs-hide"),self._trigger("show",null,self._ui(clicked,$show[0]))},hideTab=hideFx?function(clicked,$hide){$hide.animate(hideFx,hideFx.duration||"normal",(function(){self.lis.removeClass("ui-tabs-selected ui-state-active"),$hide.addClass("ui-tabs-hide"),resetStyle($hide,hideFx),self.element.dequeue("tabs")}))}:function(clicked,$hide,$show){self.lis.removeClass("ui-tabs-selected ui-state-active"),$hide.addClass("ui-tabs-hide"),self.element.dequeue("tabs")};this.anchors.bind(o.event+".tabs",(function(){var el=this,$li=$(el).closest("li"),$hide=self.panels.filter(":not(.ui-tabs-hide)"),$show=self.element.find(self._sanitizeSelector(el.hash));if($li.hasClass("ui-tabs-selected")&&!o.collapsible||$li.hasClass("ui-state-disabled")||$li.hasClass("ui-state-processing")||self.panels.filter(":animated").length||!1===self._trigger("select",null,self._ui(this,$show[0])))return this.blur(),!1;if(o.selected=self.anchors.index(this),self.abort(),o.collapsible){if($li.hasClass("ui-tabs-selected"))return o.selected=-1,o.cookie&&self._cookie(o.selected,o.cookie),self.element.queue("tabs",(function(){hideTab(el,$hide)})).dequeue("tabs"),this.blur(),!1;if(!$hide.length)return o.cookie&&self._cookie(o.selected,o.cookie),self.element.queue("tabs",(function(){showTab(el,$show)})),self.load(self.anchors.index(this)),this.blur(),!1}if(o.cookie&&self._cookie(o.selected,o.cookie),!$show.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";$hide.length&&self.element.queue("tabs",(function(){hideTab(el,$hide)})),self.element.queue("tabs",(function(){showTab(el,$show)})),self.load(self.anchors.index(this)),$.browser.msie&&this.blur()})),this.anchors.bind("click.tabs",(function(){return!1}))},_getIndex:function(index){return"string"==typeof index&&(index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"))),index},destroy:function(){var o=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each((function(){var href=$.data(this,"href.tabs");href&&(this.href=href);var $this=$(this).unbind(".tabs");$.each(["href","load","cache"],(function(i,prefix){$this.removeData(prefix+".tabs")}))})),this.lis.unbind(".tabs").add(this.panels).each((function(){$.data(this,"destroy.tabs")?$(this).remove():$(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))})),o.cookie&&this._cookie(null,o.cookie),this},add:function(url,label,index){void 0===index&&(index=this.anchors.length);var self=this,o=this.options,$li=$(o.tabTemplate.replace(/#\{href\}/g,url).replace(/#\{label\}/g,label)),id=url.indexOf("#")?this._tabId($("a",$li)[0]):url.replace("#","");$li.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var $panel=self.element.find("#"+id);return $panel.length||($panel=$(o.panelTemplate).attr("id",id).data("destroy.tabs",!0)),$panel.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),index>=this.lis.length?($li.appendTo(this.list),$panel.appendTo(this.list[0].parentNode)):($li.insertBefore(this.lis[index]),$panel.insertBefore(this.panels[index])),o.disabled=$.map(o.disabled,(function(n,i){return n>=index?++n:n})),this._tabify(),1==this.anchors.length&&(o.selected=0,$li.addClass("ui-tabs-selected ui-state-active"),$panel.removeClass("ui-tabs-hide"),this.element.queue("tabs",(function(){self._trigger("show",null,self._ui(self.anchors[0],self.panels[0]))})),this.load(0)),this._trigger("add",null,this._ui(this.anchors[index],this.panels[index])),this},remove:function(index){index=this._getIndex(index);var o=this.options,$li=this.lis.eq(index).remove(),$panel=this.panels.eq(index).remove();return $li.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(index+(index+1<this.anchors.length?1:-1)),o.disabled=$.map($.grep(o.disabled,(function(n,i){return n!=index})),(function(n,i){return n>=index?--n:n})),this._tabify(),this._trigger("remove",null,this._ui($li.find("a")[0],$panel[0])),this},enable:function(index){index=this._getIndex(index);var o=this.options;if(-1!=$.inArray(index,o.disabled))return this.lis.eq(index).removeClass("ui-state-disabled"),o.disabled=$.grep(o.disabled,(function(n,i){return n!=index})),this._trigger("enable",null,this._ui(this.anchors[index],this.panels[index])),this},disable:function(index){index=this._getIndex(index);var o=this.options;return index!=o.selected&&(this.lis.eq(index).addClass("ui-state-disabled"),o.disabled.push(index),o.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[index],this.panels[index]))),this},select:function(index){if(-1==(index=this._getIndex(index))){if(!this.options.collapsible||-1==this.options.selected)return this;index=this.options.selected}return this.anchors.eq(index).trigger(this.options.event+".tabs"),this},load:function(index){index=this._getIndex(index);var self=this,o=this.options,a=this.anchors.eq(index)[0],url=$.data(a,"load.tabs");if(this.abort(),url&&(0===this.element.queue("tabs").length||!$.data(a,"cache.tabs"))){if(this.lis.eq(index).addClass("ui-state-processing"),o.spinner){var span=$("span",a);span.data("label.tabs",span.html()).html(o.spinner)}return this.xhr=$.ajax($.extend({},o.ajaxOptions,{url:url,success:function(r,s){self.element.find(self._sanitizeSelector(a.hash)).html(r),self._cleanup(),o.cache&&$.data(a,"cache.tabs",!0),self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.success(r,s)}catch(e){}},error:function(xhr,s,e){self._cleanup(),self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.error(xhr,s,index,a)}catch(e){}}})),self.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(index,url){return this.anchors.eq(index).removeData("cache.tabs").data("load.tabs",url),this},length:function(){return this.anchors.length}}),$.extend($.ui.tabs,{version:"1.8.24"}),$.extend($.ui.tabs.prototype,{rotation:null,rotate:function(ms,continuing){var self=this,o=this.options,rotate=self._rotate||(self._rotate=function(e){clearTimeout(self.rotation),self.rotation=setTimeout((function(){var t=o.selected;self.select(++t<self.anchors.length?t:0)}),ms),e&&e.stopPropagation()}),stop=self._unrotate||(self._unrotate=continuing?function(e){rotate()}:function(e){e.clientX&&self.rotate(null)});return ms?(this.element.bind("tabsshow",rotate),this.anchors.bind(o.event+".tabs",stop),rotate()):(clearTimeout(self.rotation),this.element.unbind("tabsshow",rotate),this.anchors.unbind(o.event+".tabs",stop),delete this._rotate,delete this._unrotate),this}})}(jQuery)},"startupjs/src/contrib/jquery.bgiframe.min":function(module,exports){!function(a){function b(c){return c&&c.constructor===Number?c+"px":c}a.fn.bgiframe=/msie 6\.0/i.test(navigator.userAgent)?function(d){var c='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+(d=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},d)).src+'"style="display:block;position:absolute;z-index:-1;'+(!1!==d.opacity?"filter:Alpha(Opacity='0');":"")+"top:"+("auto"==d.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":b(d.top))+";left:"+("auto"==d.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":b(d.left))+";width:"+("auto"==d.width?"expression(this.parentNode.offsetWidth+'px')":b(d.width))+";height:"+("auto"==d.height?"expression(this.parentNode.offsetHeight+'px')":b(d.height))+';"/>';return this.each((function(){0===a(this).children("iframe.bgiframe").length&&this.insertBefore(document.createElement(c),this.firstChild)}))}:function(){return this},a.fn.bgIframe=a.fn.bgiframe}(jQuery)},"startupjs/src/contrib/jquery.form":function(module,exports){!function($){function log(){var msg="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(msg):window.opera&&window.opera.postError&&window.opera.postError(msg)}$.fn.ajaxSubmit=function(options){if(!this.length)return log("ajaxSubmit: skipping submit process - no element selected"),this;var method,action,url,$form=this;"function"==typeof options&&(options={success:options}),method=this.attr("method"),(url=(url="string"==typeof(action=this.attr("action"))?$.trim(action):"")||window.location.href||"")&&(url=(url.match(/^([^#]+)/)||[])[1]),options=$.extend(!0,{url:url,success:$.ajaxSettings.success,type:method||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},options);var veto={};if(this.trigger("form-pre-serialize",[this,options,veto]),veto.veto)return log("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(options.beforeSerialize&&!1===options.beforeSerialize(this,options))return log("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n,v,a=this.formToArray(options.semantic);if(options.data)for(n in options.extraData=options.data,options.data)if($.isArray(options.data[n]))for(var k in options.data[n])a.push({name:n,value:options.data[n][k]});else v=options.data[n],v=$.isFunction(v)?v():v,a.push({name:n,value:v});if(options.beforeSubmit&&!1===options.beforeSubmit(a,this,options))return log("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[a,this,options,veto]),veto.veto)return log("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var q=$.param(a);"GET"==options.type.toUpperCase()?(options.url+=(options.url.indexOf("?")>=0?"&":"?")+q,options.data=null):options.data=q;var callbacks=[];if(options.resetForm&&callbacks.push((function(){$form.resetForm()})),options.clearForm&&callbacks.push((function(){$form.clearForm()})),!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push((function(data){var fn=options.replaceTarget?"replaceWith":"html";$(options.target)[fn](data).each(oldSuccess,arguments)}))}else options.success&&callbacks.push(options.success);options.success=function(data,status,xhr){for(var context=options.context||options,i=0,max=callbacks.length;i<max;i++)callbacks[i].apply(context,[data,status,xhr||$form,$form])};var fileInputs=$("input:file",this).length>0,mp="multipart/form-data",multipart=$form.attr("enctype")==mp||$form.attr("encoding")==mp;if(!1!==options.iframe&&(fileInputs||options.iframe||multipart))options.closeKeepAlive?$.get(options.closeKeepAlive,(function(){fileUpload(a)})):fileUpload(a);else{if(/msie|trident/i.test(navigator.userAgent)&&"get"==method){var ieMeth=$form[0].getAttribute("method");"string"==typeof ieMeth&&(options.type=ieMeth)}$.ajax(options)}return this.trigger("form-submit-notify",[this,options]),this;function fileUpload(a){var i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle,form=$form[0],useProp=!!$.fn.prop;if(a)for(i=0;i<a.length;i++)$(form[a[i].name])[useProp?"prop":"attr"]("disabled",!1);if($(":input[name=submit],:input[id=submit]",form).length)alert('Error: Form elements must not have name or id of "submit".');else if((s=$.extend(!0,{},$.ajaxSettings,options)).context=s.context||s,id="jqFormIO"+(new Date).getTime(),s.iframeTarget?null==(n=($io=$(s.iframeTarget)).attr("name"))?$io.attr("name",id):id=n:($io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),io=$io[0],xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e="timeout"===status?"timeout":"aborted";log("aborting upload... "+e),this.aborted=1,$io.attr("src",s.iframeSrc),xhr.error=e,s.error&&s.error.call(s.context,xhr,e,status),g&&$.event.trigger("ajaxError",[xhr,s,e]),s.complete&&s.complete.call(s.context,xhr,e)}},(g=s.global)&&!$.active++&&$.event.trigger("ajaxStart"),g&&$.event.trigger("ajaxSend",[xhr,s]),s.beforeSend&&!1===s.beforeSend.call(s.context,xhr,s))s.global&&$.active--;else if(!xhr.aborted){(sub=form.clk)&&(n=sub.name)&&!sub.disabled&&(s.extraData=s.extraData||{},s.extraData[n]=sub.value,"image"==sub.type&&(s.extraData[n+".x"]=form.clk_x,s.extraData[n+".y"]=form.clk_y));s.forceSync?doSubmit():setTimeout(doSubmit,10);var data,doc,callbackProcessed,domCheckCount=50,toXml=$.parseXML||function(s,doc){return window.ActiveXObject?((doc=new ActiveXObject("Microsoft.XMLDOM")).async="false",doc.loadXML(s)):doc=(new DOMParser).parseFromString(s,"text/xml"),doc&&doc.documentElement&&"parsererror"!=doc.documentElement.nodeName?doc:null},parseJSON=$.parseJSON||function(s){return window.eval("("+s+")")},httpData=function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml="xml"===type||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;return xml&&"parsererror"===data.documentElement.nodeName&&$.error&&$.error("parsererror"),s&&s.dataFilter&&(data=s.dataFilter(data,type)),"string"==typeof data&&("json"===type||!type&&ct.indexOf("json")>=0?data=parseJSON(data):("script"===type||!type&&ct.indexOf("javascript")>=0)&&$.globalEval(data)),data}}function getDoc(frame){return frame.contentWindow?frame.contentWindow.document:frame.contentDocument?frame.contentDocument:frame.document}function doSubmit(){var t=$form.attr("target"),a=$form.attr("action");form.setAttribute("target",id),method||form.setAttribute("method","POST"),a!=s.url&&form.setAttribute("action",s.url),s.skipEncodingOverride||method&&!/post/i.test(method)||$form.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),s.timeout&&(timeoutHandle=setTimeout((function(){timedOut=!0,cb(1)}),s.timeout));var extraInputs=[];try{if(s.extraData)for(var n in s.extraData)extraInputs.push($('<input type="hidden" name="'+n+'" />').attr("value",s.extraData[n]).appendTo(form)[0]);s.iframeTarget||($io.appendTo("body"),io.attachEvent?io.attachEvent("onload",cb):io.addEventListener("load",cb,!1)),setTimeout((function checkState(){try{var state=getDoc(io).readyState;log("state = "+state),state&&"uninitialized"==state.toLowerCase()&&setTimeout(checkState,50)}catch(e){log("Server abort: ",e," (",e.name,")"),cb(2),timeoutHandle&&clearTimeout(timeoutHandle),timeoutHandle=void 0}}),15),form.submit()}finally{form.setAttribute("action",a),t?form.setAttribute("target",t):$form.removeAttr("target"),$(extraInputs).remove()}}function cb(e){if(!xhr.aborted&&!callbackProcessed){try{doc=getDoc(io)}catch(ex){log("cannot access response document: ",ex),e=2}if(1===e&&xhr)xhr.abort("timeout");else if(2==e&&xhr)xhr.abort("server abort");else if(doc&&doc.location.href!=s.iframeSrc||timedOut){io.detachEvent?io.detachEvent("onload",cb):io.removeEventListener("load",cb,!1);var errMsg,status="success";try{if(timedOut)throw"timeout";var isXml="xml"==s.dataType||doc.XMLDocument||$.isXMLDoc(doc);if(log("isXml="+isXml),!isXml&&window.opera&&(null==doc.body||""==doc.body.innerHTML)&&--domCheckCount)return log("requeing onLoad callback, DOM not available"),void setTimeout(cb,250);var docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null,xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc,isXml&&(s.dataType="xml"),xhr.getResponseHeader=function(header){return{"content-type":s.dataType}[header]},docRoot&&(xhr.status=Number(docRoot.getAttribute("status"))||xhr.status,xhr.statusText=docRoot.getAttribute("statusText")||xhr.statusText);var dt=s.dataType||"",scr=/(json|script|text)/.test(dt.toLowerCase());if(scr||s.textarea){var ta=doc.getElementsByTagName("textarea")[0];if(ta)xhr.responseText=ta.value,xhr.status=Number(ta.getAttribute("status"))||xhr.status,xhr.statusText=ta.getAttribute("statusText")||xhr.statusText;else if(scr){var pre=doc.getElementsByTagName("pre")[0],b=doc.getElementsByTagName("body")[0];pre?xhr.responseText=pre.textContent?pre.textContent:pre.innerHTML:b&&(xhr.responseText=b.innerHTML)}}else"xml"!=s.dataType||xhr.responseXML||null==xhr.responseText||(xhr.responseXML=toXml(xhr.responseText));try{data=httpData(xhr,s.dataType,s)}catch(e){status="parsererror",xhr.error=errMsg=e||status}}catch(e){log("error caught: ",e),status="error",xhr.error=errMsg=e||status}xhr.aborted&&(log("upload aborted"),status=null),xhr.status&&(status=xhr.status>=200&&xhr.status<300||304===xhr.status?"success":"error"),"success"===status?(s.success&&s.success.call(s.context,data,"success",xhr),g&&$.event.trigger("ajaxSuccess",[xhr,s])):status&&(null==errMsg&&(errMsg=xhr.statusText),s.error&&s.error.call(s.context,xhr,status,errMsg),g&&$.event.trigger("ajaxError",[xhr,s,errMsg])),g&&$.event.trigger("ajaxComplete",[xhr,s]),g&&!--$.active&&$.event.trigger("ajaxStop"),s.complete&&s.complete.call(s.context,xhr,status),callbackProcessed=!0,s.timeout&&clearTimeout(timeoutHandle),setTimeout((function(){s.iframeTarget||$io.remove(),xhr.responseXML=null}),100)}}}}},$.fn.ajaxForm=function(options){if(0===this.length){var o={s:this.selector,c:this.context};return!$.isReady&&o.s?(log("DOM not ready, queuing ajaxForm"),$((function(){$(o.s,o.c).ajaxForm(options)})),this):(log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",(function(e){e.isDefaultPrevented()||(e.preventDefault(),$(this).ajaxSubmit(options))})).bind("click.form-plugin",(function(e){var target=e.target,$el=$(target);if(!$el.is(":submit,input:image")){var t=$el.closest(":submit");if(0==t.length)return;target=t[0]}var form=this;if(form.clk=target,"image"==target.type)if(null!=e.offsetX)form.clk_x=e.offsetX,form.clk_y=e.offsetY;else if("function"==typeof $.fn.offset){var offset=$el.offset();form.clk_x=e.pageX-offset.left,form.clk_y=e.pageY-offset.top}else form.clk_x=e.pageX-target.offsetLeft,form.clk_y=e.pageY-target.offsetTop;setTimeout((function(){form.clk=form.clk_x=form.clk_y=null}),100)}))},$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},$.fn.formToArray=function(semantic){var a=[];if(0===this.length)return a;var i,j,n,v,el,max,jmax,form=this[0],els=semantic?form.getElementsByTagName("*"):form.elements;if(!els)return a;for(i=0,max=els.length;i<max;i++)if(n=(el=els[i]).name)if(semantic&&form.clk&&"image"==el.type)el.disabled||form.clk!=el||(a.push({name:n,value:$(el).val()}),a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y}));else if((v=$.fieldValue(el,!0))&&v.constructor==Array)for(j=0,jmax=v.length;j<jmax;j++)a.push({name:n,value:v[j]});else null!=v&&a.push({name:n,value:v});if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];(n=input.name)&&!input.disabled&&"image"==input.type&&(a.push({name:n,value:$input.val()}),a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y}))}return a},$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic))},$.fn.fieldSerialize=function(successful){var a=[];return this.each((function(){var n=this.name;if(n){var v=$.fieldValue(this,successful);if(v&&v.constructor==Array)for(var i=0,max=v.length;i<max;i++)a.push({name:n,value:v[i]});else null!=v&&a.push({name:this.name,value:v})}})),$.param(a)},$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i],v=$.fieldValue(el,successful);null==v||v.constructor==Array&&!v.length||(v.constructor==Array?$.merge(val,v):val.push(v))}return val},$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(void 0===successful&&(successful=!0),successful&&(!n||el.disabled||"reset"==t||"button"==t||("checkbox"==t||"radio"==t)&&!el.checked||("submit"==t||"image"==t)&&el.form&&el.form.clk!=el||"select"==tag&&-1==el.selectedIndex))return null;if("select"==tag){var index=el.selectedIndex;if(index<0)return null;for(var a=[],ops=el.options,one="select-one"==t,max=one?index+1:ops.length,i=one?index:0;i<max;i++){var op=ops[i];if(op.selected){var v=op.value;if(v||(v=op.attributes&&op.attributes.value&&!op.attributes.value.specified?op.text:op.value),one)return v;a.push(v)}}return a}return $(el).val()},$.fn.clearForm=function(){return this.each((function(){$("input,select,textarea",this).clearFields()}))},$.fn.clearFields=$.fn.clearInputs=function(){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var t=this.type,tag=this.tagName.toLowerCase();re.test(t)||"textarea"==tag?this.value="":"checkbox"==t||"radio"==t?this.checked=!1:"select"==tag&&(this.selectedIndex=-1)}))},$.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},$.fn.enable=function(b){return void 0===b&&(b=!0),this.each((function(){this.disabled=!b}))},$.fn.selected=function(select){return void 0===select&&(select=!0),this.each((function(){var t=this.type;if("checkbox"==t||"radio"==t)this.checked=select;else if("option"==this.tagName.toLowerCase()){var $sel=$(this).parent("select");select&&$sel[0]&&"select-one"==$sel[0].type&&$sel.find("option").selected(!1),this.selected=select}}))}}(jQuery)},"startupjs/src/contrib/jquery.iphone-style-checkboxes":function(module,exports){jQuery.fn.iphoneStyle=function(options){return console&&console.log&&console.log("jquery.iphone-style-checkboxes library has been deprecated. Please use another solution."),this}},"startupjs/src/contrib/jquery.placeholder.min":function(module,exports){
/*!
 * HTML5 Placeholder jQuery Plugin v1.7
 * @link http://github.com/mathiasbynens/Placeholder-jQuery-Plugin
 * @author Mathias Bynens <http://mathiasbynens.be/>
 */
!function(f,z){var e=z in document.createElement("input"),a=z in document.createElement("textarea");function b(){var g=f(this);g.val()===g.attr(z)&&g.hasClass(z)&&(g.data(z+"-password")?g.hide().next().show().focus():g.val("").removeClass(z))}function d(g){var j,i=f(this);if(""===i.val()||i.val()===i.attr(z)){if(i.is(":password")){if(!i.data(z+"-textinput")){try{j=i.clone().attr({type:"text"})}catch(h){j=f("<input>").attr(f.extend(function(h){var g={},i=/^jQuery\d+$/;return f.each(h.attributes,(function(k,j){j.specified&&!i.test(j.name)&&(g[j.name]=j.value)})),g}(i[0]),{type:"text"}))}j.removeAttr("name").data(z+"-password",!0).bind("focus."+z,b),i.data(z+"-textinput",j).before(j)}i=i.hide().prev().show()}i.addClass(z).val(i.attr(z))}else i.removeClass(z)}f.fn.placeholder=e&&a?function(){return this}:function(){return this.filter((e?"textarea":":input")+"["+z+"]").bind("focus."+z,b).bind("blur."+z,d).trigger("blur."+z).end()},f((function(){f("form").bind("submit."+z,(function(){var g=f("."+z,this).each(b);setTimeout((function(){g.each(d)}),10)}))})),f(window).bind("unload."+z,(function(){f("."+z).val("")}))}(jQuery,"placeholder")},"startupjs/src/contrib/jquery.tipTip.minified":function(module,exports){!function($){$.fn.tipTip=function(options){var opts=$.extend({activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},options);if($("#tiptip_holder").length<=0){var tiptip_holder=$('<div id="tiptip_holder" style="max-width:'+opts.maxWidth+';"></div>'),tiptip_content=$('<div id="tiptip_content"></div>'),tiptip_arrow=$('<div id="tiptip_arrow"></div>');$("body").append(tiptip_holder.html(tiptip_content).prepend(tiptip_arrow.html('<div id="tiptip_arrow_inner"></div>')))}else tiptip_holder=$("#tiptip_holder"),tiptip_content=$("#tiptip_content"),tiptip_arrow=$("#tiptip_arrow");return this.each((function(){var org_elem=$(this);if(opts.content)var org_title=opts.content;else org_title=org_elem.attr(opts.attribute);if(""!=org_title){opts.content||org_elem.removeAttr(opts.attribute);var timeout=!1;function active_tiptip(){opts.enter.call(this),tiptip_content.html(org_title),tiptip_holder.hide().removeAttr("class").css("margin","0"),tiptip_arrow.removeAttr("style");var top=parseInt(org_elem.offset().top),left=parseInt(org_elem.offset().left),org_width=parseInt(org_elem.outerWidth()),org_height=parseInt(org_elem.outerHeight()),tip_w=tiptip_holder.outerWidth(),tip_h=tiptip_holder.outerHeight(),w_compare=Math.round((org_width-tip_w)/2),h_compare=Math.round((org_height-tip_h)/2),marg_left=Math.round(left+w_compare),marg_top=Math.round(top+org_height+opts.edgeOffset),t_class="",arrow_top="",arrow_left=Math.round(tip_w-12)/2;"bottom"==opts.defaultPosition?t_class="_bottom":"top"==opts.defaultPosition?t_class="_top":"left"==opts.defaultPosition?t_class="_left":"right"==opts.defaultPosition&&(t_class="_right");var right_compare=w_compare+left<parseInt($(window).scrollLeft()),left_compare=tip_w+left>parseInt($(window).width());right_compare&&w_compare<0||"_right"==t_class&&!left_compare||"_left"==t_class&&left<tip_w+opts.edgeOffset+5?(t_class="_right",arrow_top=Math.round(tip_h-13)/2,arrow_left=-12,marg_left=Math.round(left+org_width+opts.edgeOffset),marg_top=Math.round(top+h_compare)):(left_compare&&w_compare<0||"_left"==t_class&&!right_compare)&&(t_class="_left",arrow_top=Math.round(tip_h-13)/2,arrow_left=Math.round(tip_w),marg_left=Math.round(left-(tip_w+opts.edgeOffset+5)),marg_top=Math.round(top+h_compare));var top_compare=top+org_height+opts.edgeOffset+tip_h+8>parseInt($(window).height()+$(window).scrollTop()),bottom_compare=top+org_height-(opts.edgeOffset+tip_h+8)<0;top_compare||"_bottom"==t_class&&top_compare||"_top"==t_class&&!bottom_compare?("_top"==t_class||"_bottom"==t_class?t_class="_top":t_class+="_top",arrow_top=tip_h,marg_top=Math.round(top-(tip_h+5+opts.edgeOffset))):(bottom_compare|("_top"==t_class&&bottom_compare)||"_bottom"==t_class&&!top_compare)&&("_top"==t_class||"_bottom"==t_class?t_class="_bottom":t_class+="_bottom",arrow_top=-12,marg_top=Math.round(top+org_height+opts.edgeOffset)),"_right_top"==t_class||"_left_top"==t_class?marg_top+=5:"_right_bottom"!=t_class&&"_left_bottom"!=t_class||(marg_top-=5),"_left_top"!=t_class&&"_left_bottom"!=t_class||(marg_left+=5),tiptip_arrow.css({"margin-left":arrow_left+"px","margin-top":arrow_top+"px"}),tiptip_holder.css({"margin-left":marg_left+"px","margin-top":marg_top+"px"}).attr("class","tip"+t_class),timeout&&clearTimeout(timeout),timeout=setTimeout((function(){tiptip_holder.stop(!0,!0).fadeIn(opts.fadeIn)}),opts.delay)}function deactive_tiptip(){opts.exit.call(this),timeout&&clearTimeout(timeout),tiptip_holder.fadeOut(opts.fadeOut)}"hover"==opts.activation?(org_elem.hover((function(){active_tiptip()}),(function(){opts.keepAlive||deactive_tiptip()})),opts.keepAlive&&tiptip_holder.hover((function(){}),(function(){deactive_tiptip()}))):"focus"==opts.activation?org_elem.focus((function(){active_tiptip()})).blur((function(){deactive_tiptip()})):"click"==opts.activation&&(org_elem.click((function(){return active_tiptip(),!1})).hover((function(){}),(function(){opts.keepAlive||deactive_tiptip()})),opts.keepAlive&&tiptip_holder.hover((function(){}),(function(){deactive_tiptip()})))}}))}}(jQuery)},"startupjs/src/contrib/jquery.tools.min":function(module,exports){
/*!
 * jQuery Tools v1.2.5 - The missing UI library for the Web
 * 
 * toolbox/toolbox.expose.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
!function(a){var b,e,f,g,h,i;function c(){if(a.browser.msie){var b=a(document).height(),c=a(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,b-c<20?c:b]}return[a(document).width(),a(document).height()]}function d(b){if(b)return b.call(a.mask)}a.tools=a.tools||{version:"v1.2.5"},b=a.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}},a.mask={load:function(j,k){if(g)return this;"string"==typeof j&&(j={color:j}),j=j||h,h=j=a.extend(a.extend({},b.conf),j),(e=a("#"+j.maskId)).length||(e=a("<div/>").attr("id",j.maskId),a("body").append(e));var l=c();return e.css({position:"absolute",top:0,left:0,width:l[0],height:l[1],display:"none",opacity:j.startOpacity,zIndex:j.zIndex}),j.color&&e.css("backgroundColor",j.color),!1===d(j.onBeforeLoad)||(j.closeOnEsc&&a(document).bind("keydown.mask",(function(b){27==b.keyCode&&a.mask.close(b)})),j.closeOnClick&&e.bind("click.mask",(function(b){a.mask.close(b)})),a(window).bind("resize.mask",(function(){a.mask.fit()})),k&&k.length&&(i=k.eq(0).css("zIndex"),a.each(k,(function(){var b=a(this);/relative|absolute|fixed/i.test(b.css("position"))||b.css("position","relative")})),f=k.css({zIndex:Math.max(j.zIndex+1,"auto"==i?0:i)})),e.css({display:"block"}).fadeTo(j.loadSpeed,j.opacity,(function(){a.mask.fit(),d(j.onLoad),g="full"})),g=!0),this},close:function(){if(g){if(!1===d(h.onBeforeClose))return this;e.fadeOut(h.closeSpeed,(function(){d(h.onClose),f&&f.css({zIndex:i}),g=!1})),a(document).unbind("keydown.mask"),e.unbind("click.mask"),a(window).unbind("resize.mask")}return this},fit:function(){if(g){var a=c();e.css({width:a[0],height:a[1]})}},getMask:function(){return e},isLoaded:function(a){return a?"full"==g:g},getConf:function(){return h},getExposed:function(){return f}},a.fn.mask=function(b){return a.mask.load(b),this},a.fn.expose=function(b){return a.mask.load(b,this),this}}(jQuery)},"startupjs/src/contrib/jquery.trap.min":function(module,exports){
/*!
Copyright (c) 2011, Julien Wajsberg <felash@gmail.com>
All rights reserved.

Official repository: https://github.com/julienw/jquery-trap-input
License is there: https://github.com/julienw/jquery-trap-input/blob/master/LICENSE
This is version 1.1.0.
*/
!function(a,b){function d(a){if(9===a.keyCode){var b=!!a.shiftKey;(function(a,b,c){var f,g,h,j,d=i(a),e=b;do{switch(f=d.index(e),g=f+1,h=f-1,j=d.length-1,f){case-1:return!1;case 0:h=j;break;case j:g=0}c&&(g=h),(e=d.eq(g)).focus()}while(b===b.ownerDocument.activeElement);return!0})(this,a.target,b)&&(a.preventDefault(),a.stopPropagation())}}function f(){return this.tabIndex>0}function g(){return!this.tabIndex}function h(a,b){return a.t-b.t||a.i-b.i}function i(b){var c=a(b),d=[],e=0;return c.find("a[href], link[href], [draggable=true], [contenteditable=true], :input:enabled, [tabindex=0]").filter(":visible").filter(g).each((function(a,b){d.push({v:b,t:0,i:e++})})),c.find("[tabindex]").filter(":visible").filter(f).each((function(a,b){d.push({v:b,t:b.tabIndex,i:e++})})),d=a.map(d.sort(h),(function(a){return a.v})),a(d)}var c="trap.isTrapping";a.fn.extend({trap:function(){return this.keydown(d),this.data(c,!0),this},untrap:function(){return this.unbind("keydown",d),this.removeData(c),this},isTrapping:function(){return!!this.data(c)}})}(jQuery)},"startupjs/src/contrib/jquery.treeview":function(module,exports){!function($){$.extend($.fn,{swapClass:function(c1,c2){var c1Elements=this.filter("."+c1);return this.filter("."+c2).removeClass(c2).addClass(c1),c1Elements.removeClass(c1).addClass(c2),this},replaceClass:function(c1,c2){return this.filter("."+c1).removeClass(c1).addClass(c2).end()},hoverClass:function(className){return className=className||"hover",this.hover((function(){$(this).addClass(className)}),(function(){$(this).removeClass(className)}))},heightToggle:function(animated,callback){animated?this.animate({height:"toggle"},animated,callback):this.each((function(){jQuery(this)[jQuery(this).parent().hasClass(CLASSES.collapsable)?"show":"hide"](),callback&&callback.apply(this,arguments)}))},heightHide:function(animated,callback){animated?this.animate({height:"hide"},animated,callback):(this.hide(),callback&&this.each(callback))},prepareBranches:function(settings){return settings.prerendered||(this.filter(":last-child:not(ul)").addClass(CLASSES.last),this.filter((settings.collapsed?"":"."+CLASSES.closed)+":not(."+CLASSES.open+")").children("ul").hide()),this.has("ul")},applyClasses:function(settings,toggler){if(this.has("ul").children("span").unbind("click.treeview").bind("click.treeview",(function(event){this==event.target&&toggler.apply($(this).next())})).bind("dblclick",(function(){$("#btSubmit").click()})).add($("a",this)).hoverClass(),!settings.prerendered){this.filter(":has(>ul:hidden)").not("."+CLASSES.open).not("."+CLASSES.leaf).addClass(CLASSES.expandable).replaceClass(CLASSES.last,CLASSES.lastExpandable).find("> ul").hide(),this.not(":has(>ul:hidden)").addClass(CLASSES.collapsable).replaceClass(CLASSES.last,CLASSES.lastCollapsable).find("> ul").show();var hitarea=this.find("div."+CLASSES.hitarea);hitarea.length&&hitarea.length==$("li",this).children().length||this.not("ul").prepend('<div class="'+CLASSES.hitarea+'"/>'),(hitarea=this.find("div."+CLASSES.hitarea)).removeClass().addClass(CLASSES.hitarea).each((function(){var classes="";$.each($(this).parent().attr("class").split(" "),(function(){classes+=this+"-hitarea "})),$(this).addClass(classes)}))}this.find("div."+CLASSES.hitarea).click(toggler)},treeview:function(settings){if((settings=$.extend({cookieId:"treeview"},settings)).toggle){var callback=settings.toggle;settings.toggle=function(){return callback.apply($(this).parent()[0],arguments)}}function toggler(){$(this).parent().children(".hitarea").swapClass(CLASSES.collapsableHitarea,CLASSES.expandableHitarea).swapClass(CLASSES.lastCollapsableHitarea,CLASSES.lastExpandableHitarea).end().swapClass(CLASSES.collapsable,CLASSES.expandable).swapClass(CLASSES.lastCollapsable,CLASSES.lastExpandable).children("ul").heightToggle(settings.animated,settings.toggle),settings.unique&&$(this).parent().siblings().children(".hitarea").replaceClass(CLASSES.collapsableHitarea,CLASSES.expandableHitarea).replaceClass(CLASSES.lastCollapsableHitarea,CLASSES.lastExpandableHitarea).end().replaceClass(CLASSES.collapsable,CLASSES.expandable).replaceClass(CLASSES.lastCollapsable,CLASSES.lastExpandable).children("ul").heightHide(settings.animated,settings.toggle)}function serialize(){var data=[];branches.each((function(i,e){data[i]=$(e).is(":has(ul:visible)")?1:0})),$.cookie(settings.cookieId,data.join(""),settings.cookieOptions)}this.data("toggler",toggler),this.addClass("treeview");var branches=this.find("li").prepareBranches(settings);switch(settings.persist){case"cookie":var toggleCallback=settings.toggle;settings.toggle=function(){serialize(),toggleCallback&&toggleCallback.apply(this,arguments)},function(){var stored=$.cookie(settings.cookieId);if(stored){var data=stored.split("");branches.each((function(i,e){$(e).children("ul")[parseInt(data[i])?"show":"hide"]()}))}}();break;case"location":var current=this.find("a").filter((function(){return this.href.toLowerCase()==location.href.toLowerCase()}));if(current.length){var items=current.addClass("selected").parents("ul, li").add(current.next()).show();settings.prerendered&&items.filter("li").swapClass(CLASSES.collapsable,CLASSES.expandable).swapClass(CLASSES.lastCollapsable,CLASSES.lastExpandable).find(".hitarea").swapClass(CLASSES.collapsableHitarea,CLASSES.expandableHitarea).swapClass(CLASSES.lastCollapsableHitarea,CLASSES.lastExpandableHitarea)}}return branches.applyClasses(settings,toggler),settings.control&&(!function(tree,control){function handler(filter){return function(){return toggler.apply($("div."+CLASSES.hitarea,tree).filter((function(){return!filter||$(this).parent("."+filter).length}))),!1}}$("a:eq(0)",control).click(handler(CLASSES.collapsable)),$("a:eq(1)",control).click(handler(CLASSES.expandable)),$("a:eq(2)",control).click(handler())}(this,settings.control),$(settings.control).show()),this}}),$.treeview={};var CLASSES=$.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",leaf:"leaf",hitarea:"hitarea"}}(jQuery)},"startupjs/src/contrib/jquery.treeview.async":function(module,exports){!function($){function load(settings,root,child,container,offset){function createNode(parent){var fileSize=this.hasChildren?"":_("Size: ")+(this.fileSize||"0").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+_("Kb"),current=$("<li/>").attr("id",escape(this.id||"")).append($("<span/>").text(this.text).attr("title",fileSize));if(settings.separate_children&&this.hasChildren&&null==this.offset?$(".hasChildren",parent).length>0?$(".hasChildren:last",parent).after(current):current.prependTo(parent):current.appendTo(parent),this.classes&&current.children("span").addClass(this.classes),this.expanded&&current.addClass("open"),null!=this.offset&&(current.attr("offset",this.offset),current.addClass("showmore")),this.selectable||current.addClass("noSelection"),null==this.hasChildren||this.hasChildren||(current.append("<ul/>"),current.addClass("leaf")),this.hasChildren||this.children&&this.children.length){var branch=$("<ul/>").appendTo(current);this.hasChildren&&(current.addClass("hasChildren"),this.children||createNode.call({classes:"placeholder",text:"",children:[]},branch)),this.children&&this.children.length&&$.each(this.children,createNode,[branch])}}root=unescape(root).replace(/&amp;/g,"&").replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">"),$.ajax($.extend(!0,{url:settings.url,dataType:"json",cache:!1,data:{root:root,offset:offset},success:function(response){!response.success&&(settings.showMessage(response.messages[0].message),container.children.length>0)?settings.disableCurrentNode():($(child).find('li[id=""]').remove(),$.each(response.data,createNode,[child]),response.offset+response.count<response.total&&createNode.call({text:_("show more"),hasChildren:"true",offset:response.offset+response.count},child),$(container).treeview({add:child}))}},settings.ajax))}var proxied=$.fn.treeview;$.fn.treeview=function(settings){var container=this,userToggle=settings.toggle;return settings.url?(container.children().size()||load(settings,settings.startNode,this,container),proxied.call(this,$.extend({},settings,{collapsed:!0,toggle:function(){var $this=$(this);if($this.hasClass("showmore"))$this.closest("ul").append($('<li id=""><span class="placeholder"></span></li>')),load(settings,$this.parents("li:first").attr("id")||$("ul#treebody").attr("root"),$this.closest("ul"),container,offset=$this.attr("offset")),$this.remove();else if($this.hasClass("hasChildren")){var childList=$this.removeClass("hasChildren").find("ul");load(settings,this.id,childList,container)}userToggle&&userToggle.apply(this,arguments)}}))):proxied.apply(this,arguments)}}(jQuery)},"startupjs/src/contrib/jquery.treeview.edit":function(module,exports){!function($){var CLASSES=$.treeview.classes,proxied=$.fn.treeview;$.fn.treeview=function(settings){return(settings=$.extend({},settings)).add?this.trigger("add",[settings.add]):settings.remove?this.trigger("remove",[settings.remove]):proxied.apply(this,arguments).bind("add",(function(event,branches){$(branches).prev().removeClass(CLASSES.last).removeClass(CLASSES.lastCollapsable).removeClass(CLASSES.lastExpandable).children(".hitarea").removeClass(CLASSES.lastCollapsableHitarea).removeClass(CLASSES.lastExpandableHitarea),$(branches).find("li").addBack().prepareBranches(settings).applyClasses(settings,$(this).data("toggler"))})).bind("remove",(function(event,branches){var prev=$(branches).prev(),parent=$(branches).parent();$(branches).remove(),prev.filter(":last-child").addClass(CLASSES.last).filter("."+CLASSES.expandable).replaceClass(CLASSES.last,CLASSES.lastExpandable).end().children(".hitarea").replaceClass(CLASSES.expandableHitarea,CLASSES.lastExpandableHitarea).end().filter("."+CLASSES.collapsable).replaceClass(CLASSES.last,CLASSES.lastCollapsable).end().children(".hitarea").replaceClass(CLASSES.collapsableHitarea,CLASSES.lastCollapsableHitarea),0==parent.children().size()&&parent[0]!=this&&(parent.parent().removeClass(CLASSES.collapsable).removeClass(CLASSES.expandable),parent.siblings(".hitarea").addBack().remove())}))}}(jQuery)},"startupjs/src/contrib/jquery.ui.nestedSortable":function(module,exports){!function($){$.widget("ui.nestedSortable",$.extend({},$.ui.sortable.prototype,{options:{tabSize:20,disableNesting:"ui-nestedSortable-no-nesting",errorClass:"ui-nestedSortable-error"},_create:function(){return this.element.data("sortable",this.element.data("sortableTree")),$.ui.sortable.prototype._create.apply(this,arguments)},_mouseDrag:function(event){if(this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var o=this.options,scrolled=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)),event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed))),!1!==scrolled&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;i>=0;i--){var item=this.items[i],itemElement=item.item[0],intersection=this._intersectsWithPointer(item);if(intersection&&!(itemElement==this.currentItem[0]||this.placeholder[1==intersection?"next":"prev"]()[0]==itemElement||$.ui.contains(this.placeholder[0],itemElement)||"semi-dynamic"==this.options.type&&$.ui.contains(this.element[0],itemElement))){if(this.direction=1==intersection?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(item))break;this._rearrange(event,item),this._clearUls(itemElement),this._trigger("change",event,this._uiHash());break}}for(itemBefore=this.placeholder[0].previousSibling;null!=itemBefore&&(1!=itemBefore.nodeType||itemBefore==this.currentItem[0]);)itemBefore=itemBefore.previousSibling;return parentItem=this.placeholder[0].parentNode.parentNode,newUl=document.createElement("ul"),null!=parentItem&&"LI"==parentItem.nodeName&&this.positionAbs.left<$(parentItem).offset().left?($(parentItem).after(this.placeholder[0]),this._clearUls(parentItem)):null!=itemBefore&&"LI"==itemBefore.nodeName&&this.positionAbs.left>$(itemBefore).offset().left+this.options.tabSize?$(itemBefore).hasClass(this.options.disableNesting)?$(this.placeholder[0]).addClass(this.options.errorClass).css("marginLeft",this.options.tabSize):($(this.placeholder[0]).hasClass(this.options.errorClass)&&$(this.placeholder[0]).css("marginLeft",0).removeClass(this.options.errorClass),null==itemBefore.children[1]&&itemBefore.appendChild(newUl),itemBefore.children[1].appendChild(this.placeholder[0])):null!=itemBefore?($(this.placeholder[0]).hasClass(this.options.errorClass)&&$(this.placeholder[0]).css("marginLeft",0).removeClass(this.options.errorClass),$(itemBefore).after(this.placeholder[0])):$(this.placeholder[0]).hasClass(this.options.errorClass)&&$(this.placeholder[0]).css("marginLeft",0).removeClass(this.options.errorClass),this._contactContainers(event),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),this._trigger("sort",event,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];return o=o||{},$(items).each((function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/),pid=($(o.item||this).parent("ul").parent("li").attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/);res&&str.push((o.key||res[1]+"["+(o.key&&o.expression?res[1]:res[2])+"]")+"="+(pid?o.key&&o.expression?pid[1]:pid[2]:"root"))})),!str.length&&o.key&&str.push(o.key+"="),str.join("&")},toArray:function(o){var sDepth=(o=o||{}).startDepthCount||0,ret=[],left=2;return ret.push({item_id:"root",parent_id:"none",depth:sDepth,left:"1",right:2*($("li",this.element).length+1)}),$(this.element).children("li").each((function(){left=function _recursiveArray(item,depth,left){right=left+1,$(item).children("ul").children("li").length>0&&(depth++,$(item).children("ul").children("li").each((function(){right=_recursiveArray($(this),depth,right)})),depth--);id=$(item).attr("id").match(o.expression||/(.+)[-=_](.+)/),depth===sDepth+1?pid="root":(parent=$(item).parent("ul").parent("li").attr("id").match(o.expression||/(.+)[-=_](.+)/),pid=parent[2]);return ret.push({item_id:id[2],parent_id:pid,depth:depth,left:left,right:right}),left=right+1}($(this),sDepth+1,left)})),ret},_createPlaceholder:function(that){var self=that||this,o=self.options;if(!o.placeholder||o.placeholder.constructor==String){var className=o.placeholder;o.placeholder={element:function(){var el=$(document.createElement(self.currentItem[0].nodeName)).addClass(className||self.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return className||(el.style.visibility="hidden"),el},update:function(container,p){className&&!o.forcePlaceholderSize||(p.height()&&"auto"!=p.css("height")||p.height(self.currentItem.height()),p.width()||p.width(self.currentItem.width()))}}}self.placeholder=$(o.placeholder.element.call(self.element,self.currentItem)),self.currentItem.after(self.placeholder),o.placeholder.update(self,self.placeholder)},_clear:function(event,noPropagation){$.ui.sortable.prototype._clear.apply(this,arguments);for(var i=this.items.length-1;i>=0;i--){var item=this.items[i].item[0];this._clearUls(item)}return!0},_clearUls:function(item){item.children[1]&&0==item.children[1].children.length&&item.removeChild(item.children[1])}})),$.ui.nestedSortable.prototype.options=$.extend({},$.ui.sortable.prototype.options,$.ui.nestedSortable.prototype.options)}(jQuery)},"startupjs/src/contrib/jquery.ui.tablesorter":function(module,exports,__webpack_require__){!function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];function benchmark(s,d){log(s+","+((new Date).getTime()-d.getTime())+"ms")}function log(s){"undefined"!=typeof console&&void 0!==console.debug?console.log(s):alert(s)}function buildParserCache(table,$headers){if(table.config.debug)var parsersDebug="";var rows=table.tBodies[0].rows;if(table.tBodies[0].rows[0])for(var list=[],cells=rows[0].cells,l=cells.length,i=0;i<l;i++){var p=!1;$.metadata&&$($headers[i]).metadata()&&$($headers[i]).metadata().sorter?p=getParserById($($headers[i]).metadata().sorter):table.config.headers[i]&&table.config.headers[i].sorter&&(p=getParserById(table.config.headers[i].sorter)),p||(p=detectParserForColumn(table,cells[i])),table.config.debug&&(parsersDebug+="column:"+i+" parser:"+p.id+"\n"),list.push(p)}return table.config.debug&&log(parsersDebug),list}function detectParserForColumn(table,node){for(var l=parsers.length,i=1;i<l;i++)if(parsers[i].is($.trim(getElementText(table.config,node)),table,node))return parsers[i];return parsers[0]}function getParserById(name){for(var l=parsers.length,i=0;i<l;i++)if(parsers[i].id.toLowerCase()==name.toLowerCase())return parsers[i];return!1}function buildCache(table){if(table.config.debug)var cacheTime=new Date;for(var totalRows=table.tBodies[0]&&table.tBodies[0].rows.length||0,totalCells=table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length||0,parsers=table.config.parsers,cache={row:[],normalized:[]},i=0;i<totalRows;++i){var c=table.tBodies[0].rows[i],cols=[];cache.row.push($(c));for(var j=0;j<totalCells;++j)cols.push(parsers[j].format(getElementText(table.config,c.cells[j]),table,c.cells[j]));cols.push(i),cache.normalized.push(cols),cols=null}return table.config.debug&&benchmark("Building cache for "+totalRows+" rows:",cacheTime),cache}function getElementText(config,node){if(!node)return"";return"simple"==config.textExtraction?node.childNodes[0]&&node.childNodes[0].hasChildNodes()?node.childNodes[0].innerHTML:node.innerHTML:"function"==typeof config.textExtraction?config.textExtraction(node):$(node).text()}function appendToTable(table,cache){if(table.config.debug)var appendTime=new Date;for(var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=n[0].length-1,tableBody=$(table.tBodies[0]),rows=[],i=0;i<totalRows;i++)if(rows.push(r[n[i][checkCell]]),!table.config.appender)for(var o=r[n[i][checkCell]],l=o.length,j=0;j<l;j++)tableBody[0].appendChild(o[j]);table.config.appender&&table.config.appender(table,rows),rows=null,table.config.debug&&benchmark("Rebuilt table:",appendTime),applyWidget(table),setTimeout((function(){$(table).trigger("sortEnd")}),0)}function buildHeaders(table){if(table.config.debug)var time=new Date;$.metadata;for(var tableHeadersRows=[],i=0;i<table.tHead.rows.length;i++)tableHeadersRows[i]=0;return $tableHeaders=$("thead th",table),$tableHeaders.each((function(index){this.count=0,this.column=index,this.order=formatSortingOrder(table.config.sortInitialOrder),(checkHeaderMetadata(this)||checkHeaderOptions(table,index))&&(this.sortDisabled=!0),this.sortDisabled||$(this).addClass(table.config.cssHeader),table.config.headerList[index]=this})),table.config.debug&&(benchmark("Built headers:",time),log($tableHeaders)),$tableHeaders}function checkCellColSpan(table,rows,row){for(var arr=[],r=table.tHead.rows,c=r[row].cells,i=0;i<c.length;i++){var cell=c[i];cell.colSpan>1?arr=arr.concat(checkCellColSpan(table,headerArr,row++)):(1==table.tHead.length||cell.rowSpan>1||!r[row+1])&&arr.push(cell)}return arr}function checkHeaderMetadata(cell){return!(!$.metadata||!1!==$(cell).metadata().sorter)}function checkHeaderOptions(table,i){return!(!table.config.headers[i]||!1!==table.config.headers[i].sorter)}function applyWidget(table){for(var c=table.config.widgets,l=c.length,i=0;i<l;i++)getWidgetById(c[i]).format(table)}function getWidgetById(name){for(var l=widgets.length,i=0;i<l;i++)if(widgets[i].id.toLowerCase()==name.toLowerCase())return widgets[i]}function formatSortingOrder(v){return i="Number"!=typeof v?"desc"==v.toLowerCase()?1:0:1==v?v:0,i}function isValueInArray(v,a){for(var l=a.length,i=0;i<l;i++)if(a[i][0]==v)return!0;return!1}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each((function(offset){this.sortDisabled||(h[this.column]=$(this))}));for(var l=list.length,i=0;i<l;i++)h[list[i][0]].addClass(css[list[i][1]])}function fixColumnWidth(table,$headers){if(table.config.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each((function(){colgroup.append($("<col>").css("width",$(this).width()))})),$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){for(var c=table.config,l=sortList.length,i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1],o.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;for(var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==getCachedSortType(table.config.parsers,c)?0==order?"sortText":"sortTextDesc":0==order?"sortNumeric":"sortNumericDesc",e="e"+i;dynamicExp+="var "+e+" = "+s+"(a["+c+"],b["+c+"]); ",dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function sortText(a,b){return a<b?-1:a>b?1:0}function sortTextDesc(a,b){return b<a?-1:b>a?1:0}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:".",debug:!1},this.benchmark=benchmark,this.construct=function(settings){return this.each((function(){if(this.tHead&&this.tBodies){var $this,$headers,cache,config;this.config={},config=$.extend(this.config,$.tablesorter.defaults,settings),$this=$(this),$headers=buildHeaders(this),this.config.parsers=buildParserCache(this,$headers),cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this),$headers.click((function(e){$this.trigger("sortStart");var totalRows=$this[0].tBodies[0]&&$this[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&totalRows>0){$(this);var i=this.column;if(this.order=this.count++%2,e[config.sortMultiSortKey])if(isValueInArray(i,config.sortList))for(j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];s[0]==i&&(o.count=s[1],o.count++,s[1]=o.count%2)}else config.sortList.push([i,this.order]);else{if(config.sortList=[],null!=config.sortForce)for(var a=config.sortForce,j=0;j<a.length;j++)a[j][0]!=i&&config.sortList.push(a[j]);config.sortList.push([i,this.order])}return setTimeout((function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS),appendToTable($this[0],multisort($this[0],config.sortList,cache))}),1),!1}})).mousedown((function(){if(config.cancelSelection)return this.onselectstart=function(){return!1},!1})),$this.bind("update",(function(){this.config.parsers=buildParserCache(this,$headers),cache=buildCache(this)})).bind("sorton",(function(e,list){$(this).trigger("sortStart"),config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList),setHeadersCss(this,$headers,sortList,sortCSS),appendToTable(this,multisort(this,sortList,cache))})).bind("appendCache",(function(){appendToTable(this,cache)})).bind("applyWidgetId",(function(e,id){getWidgetById(id).format(this)})).bind("applyWidgets",(function(){applyWidget(this)})),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(config.sortList=$(this).metadata().sortlist),config.sortList.length>0&&$this.trigger("sorton",[config.sortList]),applyWidget(this)}}))},this.addParser=function(parser){for(var l=parsers.length,a=!0,i=0;i<l;i++)parsers[i].id.toLowerCase()==parser.id.toLowerCase()&&(a=!1);a&&parsers.push(parser)},this.addWidget=function(widget){widgets.push(widget)},this.formatFloat=function(s){var i=parseFloat(s);return isNaN(i)?0:i},this.formatInt=function(s){var i=parseInt(s);return isNaN(i)?0:i},this.isDigit=function(s,config){var DECIMAL="\\"+config.decimal;return RegExp("/(^[+]?0("+DECIMAL+"0+)?$)|(^([-+]?[1-9][0-9]*)$)|(^([-+]?((0?|[1-9][0-9]*)"+DECIMAL+"(0*[1-9][0-9]*)))$)|(^[-+]?[1-9]+[0-9]*"+DECIMAL+"0+$)/").test($.trim(s))},this.clearTableBody=function(table){if($.browser.msie){(function(){for(;this.firstChild;)this.removeChild(this.firstChild)}).apply(table.tBodies[0])}else table.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return!0},format:function(s){return $.trim(s.toLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"}),ts.addParser({id:"currency",is:function(s){return/^[Â£$â‚¬?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[^0-9.]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){for(var a=s.split("."),r="",l=a.length,i=0;i<l;i++){var item=a[i];2==item.length?r+="0"+item:r+=item}return $.tablesorter.formatFloat(r)},type:"numeric"}),ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat(""!=s?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;return s=s.replace(/\-/g,"/"),"us"==c.dateFormat?s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):"uk"==c.dateFormat?s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):"dd/mm/yy"!=c.dateFormat&&"dd-mm-yy"!=c.dateFormat||(s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(s){return!1},format:function(s,table,cell){var c=table.config,p=c.parserMetadataName?c.parserMetadataName:"sortValue";return $(cell).metadata()[p]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(table){if(table.config.debug)var time=new Date;$("tr:visible",table.tBodies[0]).filter(":even").removeClass(table.config.widgetZebra.css[1]).addClass(table.config.widgetZebra.css[0]).end().filter(":odd").removeClass(table.config.widgetZebra.css[0]).addClass(table.config.widgetZebra.css[1]),table.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",time)}})}(jQuery)},"startupjs/src/contrib/json2":function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(n){return n<10?"0"+n:n}var cx,escapable,gap,indent,meta,rep;function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,(function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;i<length;i+=1)"string"==typeof rep[i]&&(v=str(k=rep[i],value))&&partial.push(quote(k)+(gap?": ":":")+v);else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(void 0!==(v=walk(value,k))?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},"startupjs/src/contrib/script":function(module,exports){
/*!
  * $script.js Async loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz, Jacob Thornton 2011
  * License: MIT
  */
!function(name,definition){this.$script=function(){var scriptpath,win=this,doc=document,head=doc.getElementsByTagName("head")[0],validBase=/^https?:\/\//,old=win.$script,list={},ids={},delay={},scripts={};function every(ar,fn,i){for(i=0,j=ar.length;i<j;++i)if(!fn(ar[i]))return!1;return 1}function each(ar,fn){every(ar,(function(el){return!fn(el)}))}!doc.readyState&&doc.addEventListener&&(doc.addEventListener("DOMContentLoaded",(function fn(){doc.removeEventListener("DOMContentLoaded",fn,!1),doc.readyState="complete"}),!1),doc.readyState="loading");function $script(paths,idOrDone,optDone){paths=paths.push?paths:[paths];var idOrDoneIsDone=idOrDone&&idOrDone.call,done=idOrDoneIsDone?idOrDone:optDone,id=idOrDoneIsDone?paths.join(""):idOrDone,queue=paths.length;function loopFn(item){return item.call?item():list[item]}function callback(){if(!--queue)for(var dset in list[id]=1,done&&done(),delay)every(dset.split("|"),loopFn)&&!each(delay[dset],loopFn)&&(delay[dset]=[])}return setTimeout((function(){each(paths,(function(path){if(scripts[path])return id&&(ids[id]=1),2==scripts[path]&&callback();scripts[path]=1,id&&(ids[id]=1),create(!validBase.test(path)&&scriptpath?scriptpath+path+".js":path,callback)}))}),0),$script}function create(path,fn){var el=doc.createElement("script"),loaded=!1;el.onload=el.onerror=el.onreadystatechange=function(){el.readyState&&!/^c|loade/.test(el.readyState)||loaded||(el.onload=el.onreadystatechange=null,loaded=1,scripts[path]=2,fn())},el.async=1,el.src=path,head.insertBefore(el,head.firstChild)}return $script.get=create,$script.order=function(scripts,id,done){!function callback(s){s=scripts.shift(),scripts.length?$script(s,callback):$script(s,id,done)}()},$script.path=function(p){scriptpath=p},$script.ready=function(deps,ready,req){deps=deps.push?deps:[deps];var key,missing=[];return!each(deps,(function(dep){list[dep]||missing.push(dep)}))&&every(deps,(function(dep){return list[dep]}))?ready():(key=deps.join("|"),delay[key]=delay[key]||[],delay[key].push(ready),req&&req(missing)),$script},$script.noConflict=function(){return win.$script=old,this},$script}()}()},"startupjs/src/contrib/spin.min":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(e,t,n){function o(e,n){var i,r=t.createElement(e||"div");for(i in n)r[i]=n[i];return r}function u(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function f(e,t,n,r){var o=["opacity",t,~~(100*e),n,r].join("-"),u=.01+n/r*100,f=Math.max(1-(1-e)/t*(100-u),e),l=s.substring(0,s.indexOf("Animation")).toLowerCase(),c=l&&"-"+l+"-"||"";return i[o]||(a.insertRule("@"+c+"keyframes "+o+"{0%{opacity:"+f+"}"+u+"%{opacity:"+e+"}"+(u+.01)+"%{opacity:1}"+(u+t)%100+"%{opacity:"+e+"}100%{opacity:"+f+"}}",a.cssRules.length),i[o]=1),o}function l(e,t){var s,o,i=e.style;if(i[t]!==n)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),o=0;o<r.length;o++)if(i[s=r[o]+t]!==n)return s}function c(e,t){for(var n in t)e.style[l(e,n)||n]=t[n];return e}function h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]===n&&(e[i]=r[i])}return e}function p(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var s,r=["webkit","Moz","ms","O"],i={},a=function(){var e=o("style",{type:"text/css"});return u(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},v=function m(e){if(!this.spin)return new m(e);this.opts=h(e||{},m.defaults,d)};v.defaults={},h(v.prototype,{spin:function(e){this.stop();var u,a,t=this,n=t.opts,r=t.el=c(o(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),i=n.radius+n.length+n.width;if(e&&(e.insertBefore(r,e.firstChild||null),a=p(e),u=p(r),c(r,{left:("auto"==n.left?a.x-u.x+(e.offsetWidth>>1):parseInt(n.left,10)+i)+"px",top:("auto"==n.top?a.y-u.y+(e.offsetHeight>>1):parseInt(n.top,10)+i)+"px"})),r.setAttribute("aria-role","progressbar"),t.lines(r,t.opts),!s){var f=0,l=n.fps,h=l/n.speed,d=(1-n.opacity)/(h*n.trail/100),v=h/n.lines;!function m(){f++;for(var e=n.lines;e;e--){var i=Math.max(1-(f+e*v)%h*d,n.opacity);t.opacity(r,n.lines-e,i,n)}t.timeout=t.el&&setTimeout(m,~~(1e3/l))}()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function i(e,r){return c(o(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*n+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.corners*t.width>>1)+"px"})}for(var r,n=0;n<t.lines;n++)r=c(o(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:s&&f(t.opacity,t.trail,n,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&u(r,c(i("#000","0 0 4px #000"),{top:"2px"})),u(e,u(r,i(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),function(){function e(e,t){return o("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=c(o("group"),{behavior:"url(#default#VML)"});!l(t,"transform")&&t.adj?(a.addRule(".spin-vml","behavior:url(#default#VML)"),v.prototype.lines=function(t,n){function s(){return c(e("group",{coordsize:i+" "+i,coordorigin:-r+" "+-r}),{width:i,height:i})}function l(t,i,o){u(a,u(c(s(),{rotation:360/n.lines*t+"deg",left:~~i}),u(c(e("roundrect",{arcsize:n.corners}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:o}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var f,r=n.length+n.width,i=2*r,o=2*-(n.width+n.length)+"px",a=c(s(),{position:"absolute",top:o,left:o});if(n.shadow)for(f=1;f<=n.lines;f++)l(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=n.lines;f++)l(f);return u(t,a)},v.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&((i=(i=(i=i.childNodes[t+r])&&i.firstChild)&&i.firstChild)&&(i.opacity=n))}):s=l(t,"animation")}(),void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return v}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window,document)},"startupjs/src/contrib/splunk":function(module,exports,__webpack_require__){(function(process,Buffer){var queue,canPost,require;(require=function(file,cwd){var resolved=require.resolve(file,cwd||"/"),mod=require.modules[resolved];if(!mod)throw new Error("Failed to resolve module "+file+", tried "+resolved);return mod._cached?mod._cached:mod()}).paths=[],require.modules={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(x,cwd){if(cwd||(cwd="/"),require._core[x])return x;var path=require.modules.path(),y=(cwd=path.resolve("/",cwd))||"/";if(x.match(/^(?:\.\.?\/|\/)/)){var m=loadAsFileSync(path.resolve(y,x))||loadAsDirectorySync(path.resolve(y,x));if(m)return m}var n=function(x,start){for(var dirs=function(start){var parts;parts="/"===start?[""]:path.normalize(start).split("/");for(var dirs=[],i=parts.length-1;i>=0;i--)if("node_modules"!==parts[i]){var dir=parts.slice(0,i+1).join("/")+"/node_modules";dirs.push(dir)}return dirs}(start),i=0;i<dirs.length;i++){var dir=dirs[i];if(m=loadAsFileSync(dir+"/"+x))return m;var n=loadAsDirectorySync(dir+"/"+x);if(n)return n}var m;if(m=loadAsFileSync(x))return m}(x,y);if(n)return n;throw new Error("Cannot find module '"+x+"'");function loadAsFileSync(x){if(require.modules[x])return x;for(var i=0;i<require.extensions.length;i++){var ext=require.extensions[i];if(require.modules[x+ext])return x+ext}}function loadAsDirectorySync(x){var pkgfile=(x=x.replace(/\/+$/,""))+"/package.json";if(require.modules[pkgfile]){var pkg=require.modules[pkgfile](),b=pkg.browserify;if("object"==typeof b&&b.main){if(m=loadAsFileSync(path.resolve(x,b.main)))return m}else if("string"==typeof b){if(m=loadAsFileSync(path.resolve(x,b)))return m}else if(pkg.main){var m;if(m=loadAsFileSync(path.resolve(x,pkg.main)))return m}}return loadAsFileSync(x+"/index")}},require.alias=function(from,to){var path=require.modules.path(),res=null;try{res=require.resolve(from+"/package.json","/")}catch(err){res=require.resolve(from,"/")}for(var basedir=path.dirname(res),keys=(Object.keys||function(obj){var res=[];for(var key in obj)res.push(key);return res})(require.modules),i=0;i<keys.length;i++){var key=keys[i];if(key.slice(0,basedir.length+1)===basedir+"/"){var f=key.slice(basedir.length);require.modules[to+f]=require.modules[basedir+f]}else key===basedir&&(require.modules[to]=require.modules[basedir])}},require.define=function(filename,fn){var dirname=require._core[filename]?"":require.modules.path().dirname(filename),require_=function(file){return require(file,dirname)};require_.resolve=function(name){return require.resolve(name,dirname)},require_.modules=require.modules,require_.define=require.define;var module_={exports:{}};require.modules[filename]=function(){return require.modules[filename]._cached=module_.exports,fn.call(module_.exports,require_,module_,module_.exports,dirname,filename),require.modules[filename]._cached=module_.exports,module_.exports}},void 0===process&&(process={}),window.process=process,process.nextTick||(process.nextTick=(queue=[],(canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener)&&window.addEventListener("message",(function(ev){ev.source===window&&"browserify-tick"===ev.data&&(ev.stopPropagation(),queue.length>0&&queue.shift()())}),!0),function(fn){canPost?(queue.push(fn),window.postMessage("browserify-tick","*")):setTimeout(fn,0)})),process.title||(process.title="browser"),process.binding||(process.binding=function(name){if("evals"===name)return require("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),require.define("path",(function(require,module,exports,__dirname,__filename){function filter(xs,fn){for(var res=[],i=0;i<xs.length;i++)fn(xs[i],i,xs)&&res.push(xs[i]);return res}function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length;i>=0;i--){var last=parts[i];"."==last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}var splitPathRe=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();"string"==typeof path&&path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return(resolvedAbsolute?"/":"")+(resolvedPath=normalizeArray(filter(resolvedPath.split("/"),(function(p){return!!p})),!resolvedAbsolute).join("/"))||"."},exports.normalize=function(path){var isAbsolute="/"===path.charAt(0),trailingSlash="/"===path.slice(-1);return(path=normalizeArray(filter(path.split("/"),(function(p){return!!p})),!isAbsolute).join("/"))||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,(function(p,index){return p&&"string"==typeof p})).join("/"))},exports.dirname=function(path){var dir=splitPathRe.exec(path)[1]||"";return dir?1===dir.length?dir:dir.substring(0,dir.length-1):"."},exports.basename=function(path,ext){var f=splitPathRe.exec(path)[2]||"";return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPathRe.exec(path)[3]||""}})),require.define("/package.json",(function(require,module,exports,__dirname,__filename){module.exports={main:"index.js"}})),require.define("/index.js",(function(require,module,exports,__dirname,__filename){!function(){var root=exports||this;process.env=process.env||{},module.exports=root={Logger:require("./lib/log").Logger,Context:require("./lib/context"),Service:require("./lib/service"),Http:require("./lib/http"),Utils:require("./lib/utils"),Async:require("./lib/async"),Paths:require("./lib/paths").Paths,Class:require("./lib/jquery.class").Class,ModularInputs:require("./lib/modularinputs")},"undefined"==typeof window&&(root.NodeHttp=require("./lib/platform/node/node_http").NodeHttp)}()})),require.define("/lib/log.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var _log,_warn,_error,_info,utils=require("./utils"),levels={ALL:4,INFO:3,WARN:2,ERROR:1,NONE:0},setLevel=function(level){utils.isString(level)&&levels.hasOwnProperty(level)?process.env.LOG_LEVEL=levels[level]:!isNaN(parseInt(level,10))&&utils.keyOf(parseInt(level,10),levels)?process.env.LOG_LEVEL=level:process.env.LOG_LEVEL=levels.ERROR};if(process.env.LOG_LEVEL?setLevel(process.env.LOG_LEVEL):process.env.LOG_LEVEL=levels.ERROR,_log=_warn=_error=_info=function(){},"undefined"!=typeof console){var logAs=function(level){return function(str){try{console[level].apply(console,arguments)}catch(ex){console[level](str)}}};console.log&&(_log=logAs("log")),console.error&&(_error=logAs("error")),console.warn&&(_warn=logAs("warn")),console.info&&(_info=logAs("info"))}exports.Logger={log:function(){process.env.LOG_LEVEL>=levels.ALL&&_log.apply(null,arguments)},error:function(){process.env.LOG_LEVEL>=levels.ERROR&&_error.apply(null,arguments)},warn:function(){process.env.LOG_LEVEL>=levels.WARN&&_warn.apply(null,arguments)},info:function(){process.env.LOG_LEVEL>=levels.INFO&&_info.apply(null,arguments)},printMessages:function(allMessages){allMessages=allMessages||[];for(var i=0;i<allMessages.length;i++){var message=allMessages[i],type=message.type,msg="[SPLUNKD] "+message.text;switch(type){case"HTTP":case"FATAL":case"ERROR":this.error(msg);break;case"WARN":this.warn(msg);break;case"INFO":this.info(msg);break;case"HTTP":this.error(msg);break;default:this.info(msg)}}},setLevel:function(level){setLevel.apply(this,arguments)},
/*!*/
levels:levels}}()})),require.define("/lib/utils.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var fs=require("fs"),path=require("path"),root=exports||this;root.bind=function(me,fn){return function(){return fn.apply(me,arguments)}},root.trim=function(str){return str=str||"",String.prototype.trim?String.prototype.trim.call(str):str.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},root.indexOf=function(arr,search){for(var i=0;i<arr.length;i++)if(arr[i]===search)return i;return-1},root.contains=function(arr,obj){return arr=arr||[],root.indexOf(arr,obj)>=0},root.startsWith=function(original,prefix){var matches=original.match("^"+prefix);return matches&&matches.length>0&&matches[0]===prefix},root.endsWith=function(original,suffix){var matches=original.match(suffix+"$");return matches&&matches.length>0&&matches[0]===suffix};var toString=Object.prototype.toString;root.toArray=function(iterable){return Array.prototype.slice.call(iterable)},root.isArray=Array.isArray||function(obj){return"[object Array]"===toString.call(obj)},root.isFunction=function(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply)},root.isNumber=function(obj){return!!(0===obj||obj&&obj.toExponential&&obj.toFixed)},root.isString=function(obj){return!!(""===obj||obj&&obj.charCodeAt&&obj.substr)},root.isObject=function(obj){return obj===Object(obj)},root.isEmpty=function(obj){if(root.isArray(obj)||root.isString(obj))return 0===obj.length;for(var key in obj)if(this.hasOwnProperty.call(obj,key))return!1;return!0},root.forEach=function(obj,iterator,context){if(null!==obj)if(Array.prototype.forEach&&obj.forEach===Array.prototype.forEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++)if(i in obj&&iterator.call(context,obj[i],i,obj)==={})return}else for(var key in obj)if(obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj)==={})return},root.extend=function(obj){return root.forEach(Array.prototype.slice.call(arguments,1),(function(source){for(var prop in source)obj[prop]=source[prop]})),obj},root.clone=function(obj){return root.isObject(obj)?root.isArray(obj)?obj.slice():root.extend({},obj):obj},root.namespaceFromProperties=function(props){return root.isUndefined(props)||root.isUndefined(props.acl)?{owner:"",app:"",sharing:""}:{owner:props.acl.owner,app:props.acl.app,sharing:props.acl.sharing}},root.keyOf=function(val,obj){for(var k in obj)if(obj.hasOwnProperty(k)&&obj[k]===val)return k},root.getWithVersion=function(version,map){map=map||{};for(var currentVersion=version+""||"";""!==currentVersion;){if(map.hasOwnProperty(currentVersion))return map[currentVersion];currentVersion=currentVersion.slice(0,currentVersion.lastIndexOf("."))}return map.default},root.isUndefined=function(obj){return void 0===obj},root.readFile=function(filename,relativePath){return fs.readFileSync(path.resolve(filename,relativePath)).toString()}}()})),require.define("fs",(function(require,module,exports,__dirname,__filename){})),require.define("/lib/context.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var Paths=require("./paths").Paths,Class=require("./jquery.class").Class,Http=require("./http"),utils=require("./utils"),root=exports||this,prefixMap={5:"",4.3:"/services/json/v2",default:""};module.exports=root=Class.extend({init:function(http,params){if(http instanceof Http||params||(params=http,http=null),params=params||{},this.scheme=params.scheme||"https",this.host=params.host||"localhost",this.port=params.port||8089,this.username=params.username||null,this.password=params.password||null,this.owner=params.owner,this.app=params.app,this.sessionKey=params.sessionKey||"",this.authorization=params.authorization||"Splunk",this.paths=params.paths||Paths,this.version=params.version||"default",this.timeout=params.timeout||0,this.autologin=!0,params.hasOwnProperty("autologin")&&(this.autologin=params.autologin),!http){if("undefined"!=typeof window)throw new Error("Http instance required when creating a Context within a browser.");http=new(0,require("./platform/node/node_http").NodeHttp)}this.http=http,this.http._setSplunkVersion(this.version);var versionPrefix=utils.getWithVersion(this.version,prefixMap);this.prefix=this.scheme+"://"+this.host+":"+this.port+versionPrefix,this._headers=utils.bind(this,this._headers),this.fullpath=utils.bind(this,this.fullpath),this.urlify=utils.bind(this,this.urlify),this.get=utils.bind(this,this.get),this.del=utils.bind(this,this.del),this.post=utils.bind(this,this.post),this.login=utils.bind(this,this.login),this._shouldAutoLogin=utils.bind(this,this._shouldAutoLogin),this._requestWrapper=utils.bind(this,this._requestWrapper)},_headers:function(headers){return headers=headers||{},this.sessionKey&&(headers.Authorization=this.authorization+" "+this.sessionKey),headers},
/*!*/
_shouldAutoLogin:function(){return this.username&&this.password&&this.autologin},
/*!*/
_requestWrapper:function(task,callback){callback=callback||function(){};var that=this,req=null;return req=!this._shouldAutoLogin()||this.sessionKey?task((function(err){req.wasAborted||(err&&401===err.status&&that._shouldAutoLogin()?(that.sessionKey=null,that.login((function(err,success){req.wasAborted||(err?callback(err):task(callback))}))):callback.apply(null,arguments))})):this.login((function(err,success){req.wasAborted||(err?callback(err):task(callback))}))},fullpath:function(path,namespace){if(namespace=namespace||{},utils.startsWith(path,"/"))return path;if(!namespace.app&&!this.app&&namespace.sharing!==root.Sharing.SYSTEM)return"/services/"+path;var owner=namespace.owner||this.owner||"-",app=namespace.app||this.app||"-";return namespace.sharing=(namespace.sharing||"").toLowerCase(),namespace.sharing===root.Sharing.APP||namespace.sharing===root.Sharing.GLOBAL?owner="nobody":namespace.sharing===root.Sharing.SYSTEM&&(owner="nobody",app="system"),utils.trim("/servicesNS/"+encodeURIComponent(owner)+"/"+encodeURIComponent(app)+"/"+path)},urlify:function(path){return this.prefix+this.fullpath(path)},login:function(callback){var that=this,url=this.paths.login,params={username:this.username,password:this.password};return callback=callback||function(){},this.http.post(this.urlify(url),this._headers(),params,this.timeout,(function(err,response){var hasSessionKey=!(err||!response.data||!response.data.sessionKey);err||!hasSessionKey?callback(err||"No session key available",!1):(that.sessionKey=response.data.sessionKey,callback(null,!0))}))},get:function(path,params,callback){var that=this;return this._requestWrapper((function(callback){return that.http.get(that.urlify(path),that._headers(),params,that.timeout,callback)}),callback)},del:function(path,params,callback){var that=this;return this._requestWrapper((function(callback){return that.http.del(that.urlify(path),that._headers(),params,that.timeout,callback)}),callback)},post:function(path,params,callback){var that=this;return this._requestWrapper((function(callback){return that.http.post(that.urlify(path),that._headers(),params,that.timeout,callback)}),callback)},request:function(path,method,query,post,body,headers,callback){var that=this;return this._requestWrapper((function(callback){return that.http.request(that.urlify(path),{method:method,headers:that._headers(headers),query:query,post:post,body:body,timeout:that.timeout},callback)}),callback)},versionCompare:function(otherVersion){var thisVersion=this.version;"default"===thisVersion&&(thisVersion="5.0");for(var components1=thisVersion.split("."),components2=otherVersion.split("."),numComponents=Math.max(components1.length,components2.length),i=0;i<numComponents;i++){var c1=i<components1.length?parseInt(components1[i],10):0,c2=i<components2.length?parseInt(components2[i],10):0;if(c1<c2)return-1;if(c1>c2)return 1}return 0}}),
/*!*/
root.Sharing={USER:"user",APP:"app",GLOBAL:"global",SYSTEM:"system"}}()})),require.define("/lib/paths.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";(exports||this).Paths={apps:"/services/apps/local",capabilities:"authorization/capabilities",configurations:"configs",dataModels:"datamodel/model",deploymentClient:"deployment/client",deploymentServers:"deployment/server",deploymentServerClasses:"deployment/serverclass",deploymentTenants:"deployment/tenants",eventTypes:"saved/eventtypes",firedAlerts:"alerts/fired_alerts",indexes:"data/indexes",info:"/services/server/info",inputs:null,jobs:"search/jobs",licenseGroups:"licenser/groups",licenseMessages:"licenser/messages",licensePools:"licenser/pools",licenseSlaves:"licenser/slaves",licenseStacks:"licenser/stacks",licenses:"licenser/licenses",loggers:"server/logger",login:"/services/auth/login",messages:"messages",passwords:"admin/passwords",parser:"search/parser",pivot:"datamodel/pivot",properties:"properties",roles:"authorization/roles",savedSearches:"saved/searches",settings:"server/settings",storagePasswords:"storage/passwords",users:"/services/authentication/users",typeahead:"search/typeahead",views:"data/ui/views",currentUser:"/services/authentication/current-context",submitEvent:"/services/receivers/simple"}}()})),require.define("/lib/jquery.class.js",(function(require,module,exports,__dirname,__filename){
/*! Simple JavaScript Inheritance
 * By John Resig http://ejohn.org/
 * MIT Licensed.
 * Inspired by base2 and Prototype
 */
!function(){var root=exports||this,initializing=!1,fnTest=/xyz/.test((function(){return xyz}))?/\b_super\b/:/.*/;root.Class=function(){},root.Class.extend=function(prop){var _super=this.prototype;initializing=!0;var prototype=new this;for(var name in initializing=!1,prop)prototype[name]="function"==typeof prop[name]&&"function"==typeof _super[name]&&fnTest.test(prop[name])?function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);return this._super=tmp,ret}}(name,prop[name]):prop[name];function Class(){!initializing&&this.init&&this.init.apply(this,arguments)}return Class.prototype=prototype,Class.constructor=Class,Class.extend=arguments.callee,Class}}()})),require.define("/lib/http.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var Class=require("./jquery.class").Class,logger=require("./log").Logger,utils=require("./utils"),Http=null,queryBuilderMap={5:function(message){var query=message.query||{},post=message.post||{},outputMode=query.output_mode||post.output_mode||"json";return utils.startsWith(outputMode,"json")||(outputMode="json"),query.output_mode=outputMode,query},4:function(message){return message.query||{}},default:function(message){return queryBuilderMap[5](message)},none:function(message){return message.query||{}}};module.exports=Http=Class.extend({init:function(){this.get=utils.bind(this,this.get),this.del=utils.bind(this,this.del),this.post=utils.bind(this,this.post),this.request=utils.bind(this,this.request),this._buildResponse=utils.bind(this,this._buildResponse),this._setSplunkVersion("none")},
/*!*/
_setSplunkVersion:function(version){this.version=version},get:function(url,headers,params,timeout,callback){var message={method:"GET",headers:headers,timeout:timeout,query:params};return this.request(url,message,callback)},post:function(url,headers,params,timeout,callback){headers["Content-Type"]="application/x-www-form-urlencoded";var message={method:"POST",headers:headers,timeout:timeout,post:params};return this.request(url,message,callback)},del:function(url,headers,params,timeout,callback){var message={method:"DELETE",headers:headers,timeout:timeout,query:params};return this.request(url,message,callback)},request:function(url,message,callback){var query=utils.getWithVersion(this.version,queryBuilderMap)(message),post=message.post||{},encodedUrl=url+"?"+Http.encode(query),body=message.body?message.body:Http.encode(post),options={method:message.method,headers:message.headers,timeout:message.timeout,body:body};return this.makeRequest(encodedUrl,options,(function(response){callback=callback||function(){},response.status<400&&"abort"!==response.status?callback(null,response):callback(response)}))},makeRequest:function(url,message,callback){throw new Error("UNDEFINED FUNCTION - OVERRIDE REQUIRED")},parseJson:function(json){throw new Error("UNDEFINED FUNCTION - OVERRIDE REQUIRED")},_buildResponse:function(error,response,data){var json={},contentType=null;if(response&&response.headers&&(contentType=utils.trim(response.headers["content-type"]||response.headers["Content-Type"]||response.headers["Content-type"]||response.headers.contentType)),utils.startsWith(contentType,"application/json")&&data)try{json=this.parseJson(data)||{}}catch(e){logger.error("Error in parsing JSON:",data,e),json=data}else json=data;return json&&logger.printMessages(json.messages),{response:response,status:response?response.statusCode:0,data:json,error:error}}}),Http.encode=function(params){var encodedStr="";for(var key in params)if(params.hasOwnProperty(key)){encodedStr&&"&"!==encodedStr[encodedStr.length-1]&&(encodedStr+="&");var value=params[key];if(value instanceof Array)for(var i=0;i<value.length;i++)encodedStr=encodedStr+key+"="+encodeURIComponent(value[i])+"&";else if("object"==typeof value)for(var innerKey in value)value.hasOwnProperty(innerKey)&&(value[innerKey],encodedStr=encodedStr+key+"="+encodeURIComponent(value[innerKey])+"&");else encodedStr=encodedStr+key+"="+encodeURIComponent(value)}return"&"===encodedStr[encodedStr.length-1]&&(encodedStr=encodedStr.substr(0,encodedStr.length-1)),encodedStr}}()})),require.define("/lib/service.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var Context=require("./context"),Async=(require("./http"),require("./async")),Paths=require("./paths").Paths,Class=require("./jquery.class").Class,utils=require("./utils"),root=exports||this,Service=null,BaseService=Context.extend({init:function(){this._super.apply(this,arguments)}});module.exports=root=Service=BaseService.extend({init:function(){this._super.apply(this,arguments),this.specialize=utils.bind(this,this.specialize),this.apps=utils.bind(this,this.apps),this.configurations=utils.bind(this,this.configurations),this.indexes=utils.bind(this,this.indexes),this.savedSearches=utils.bind(this,this.savedSearches),this.jobs=utils.bind(this,this.jobs),this.users=utils.bind(this,this.users),this.currentUser=utils.bind(this,this.currentUser),this.views=utils.bind(this,this.views),this.firedAlertGroups=utils.bind(this,this.firedAlertGroups),this.dataModels=utils.bind(this,this.dataModels)},specialize:function(owner,app){return new Service(this.http,{scheme:this.scheme,host:this.host,port:this.port,username:this.username,password:this.password,owner:owner,app:app,sessionKey:this.sessionKey,version:this.version})},apps:function(){return new root.Applications(this)},configurations:function(namespace){return new root.Configurations(this,namespace)},indexes:function(namespace){return new root.Indexes(this,namespace)},savedSearches:function(namespace){return new root.SavedSearches(this,namespace)},storagePasswords:function(namespace){return new root.StoragePasswords(this,namespace)},firedAlertGroups:function(namespace){return new root.FiredAlertGroupCollection(this,namespace)},jobs:function(namespace){return new root.Jobs(this,namespace)},dataModels:function(namespace){return new root.DataModels(this,namespace)},users:function(){return new root.Users(this)},views:function(namespace){return new root.Views(this,namespace)},search:function(query,params,namespace,callback){return!callback&&utils.isFunction(namespace)&&(callback=namespace,namespace=null),new root.Jobs(this,namespace).search(query,params,callback)},getJob:function(sid,namespace,callback){return!callback&&utils.isFunction(namespace)&&(callback=namespace,namespace=null),new root.Job(this,sid,namespace).fetch({},callback)},oneshotSearch:function(query,params,namespace,callback){return!callback&&utils.isFunction(namespace)&&(callback=namespace,namespace=null),new root.Jobs(this,namespace).oneshotSearch(query,params,callback)},currentUser:function(callback){callback=callback||function(){};var that=this,req=this.get(Paths.currentUser,{},(function(err,response){if(err)callback(err);else{var username=response.data.entry[0].content.username;new root.User(that,username).fetch((function(){req.wasAborted||callback.apply(null,arguments)}))}}));return req},serverInfo:function(callback){return callback=callback||function(){},new root.ServerInfo(this).fetch(callback)},parse:function(query,params,callback){return!callback&&utils.isFunction(params)&&(callback=params,params={}),callback=callback||function(){},(params=params||{}).q=query,this.get(Paths.parser,params,(function(err,response){err?callback(err):callback(null,response.data)}))},typeahead:function(prefix,count,callback){!callback&&utils.isFunction(count)&&(callback=count,count=10),callback=callback||function(){};var params={count:count||10,prefix:prefix};return this.get(Paths.typeahead,params,(function(err,response){if(err)callback(err);else{var results=(response.data||{}).results;callback(null,results||[])}}))},log:function(event,params,callback){!callback&&utils.isFunction(params)&&(callback=params,params={}),callback=callback||function(){},params=params||{},utils.isObject(event)&&(event=JSON.stringify(event));var path=this.paths.submitEvent,body=event,get=params;return this.request(path,"POST",get,{},body,{"Content-Type":"text/plain"},(function(err,response){err?callback(err):callback(null,response.data)}))}}),root.Endpoint=Class.extend({init:function(service,qualifiedPath){if(!service)throw new Error("Passed in a null Service.");if(!qualifiedPath)throw new Error("Passed in an empty path.");this.service=service,this.qualifiedPath=qualifiedPath,this.get=utils.bind(this,this.get),this.post=utils.bind(this,this.post),this.del=utils.bind(this,this.del)},get:function(relpath,params,callback){var url=this.qualifiedPath;return relpath&&(url=url+"/"+relpath),this.service.get(url,params,callback)},post:function(relpath,params,callback){var url=this.qualifiedPath;return relpath&&(url=url+"/"+relpath),this.service.post(url,params,callback)},del:function(relpath,params,callback){var url=this.qualifiedPath;return relpath&&(url=url+"/"+relpath),this.service.del(url,params,callback)}}),root.Resource=root.Endpoint.extend({init:function(service,path,namespace){var fullpath=service.fullpath(path,namespace);this._super(service,fullpath),this.namespace=namespace,this._properties={},this._state={},this._load=utils.bind(this,this._load),this.fetch=utils.bind(this,this.fetch),this.properties=utils.bind(this,this.properties),this.state=utils.bind(this,this.state),this.path=utils.bind(this,this.path)},path:function(){throw new Error("MUST BE OVERRIDDEN")},_load:function(properties){this._properties=properties||{},this._state=properties||{}},fetch:function(callback){throw new Error("MUST BE OVERRIDDEN")},properties:function(){return this._properties},state:function(){return this._state}}),root.Entity=root.Resource.extend({fetchOnUpdate:!1,init:function(service,path,namespace){this._super(service,path,namespace),this._load=utils.bind(this,this._load),this.fetch=utils.bind(this,this.fetch),this.remove=utils.bind(this,this.remove),this.update=utils.bind(this,this.update),this.fields=utils.bind(this,this.fields),this.links=utils.bind(this,this.links),this.acl=utils.bind(this,this.acl),this.author=utils.bind(this,this.author),this.updated=utils.bind(this,this.updated),this.published=utils.bind(this,this.published),this.enable=utils.bind(this,this.enable),this.disable=utils.bind(this,this.disable),this.reload=utils.bind(this,this.reload),this._properties={},this._fields={},this._acl={},this._links={}},_load:function(properties){properties=(properties=utils.isArray(properties)?properties[0]:properties)||{content:{},fields:{},acl:{},links:{}},this._super(properties),this._properties=properties.content||{},this._fields=properties.fields||this._fields||{},this._acl=properties.acl||{},this._links=properties.links||{},this._author=properties.author||null,this._updated=properties.updated||null,this._published=properties.published||null},fields:function(){return this._fields},acl:function(){return this._acl},links:function(){return this._links},author:function(){return this._author},updated:function(){return this._updated},published:function(){return this._published},fetch:function(options,callback){!callback&&utils.isFunction(options)&&(callback=options,options={}),callback=callback||function(){},options=options||{};var that=this;return this.get("",options,(function(err,response){err?callback(err):(that._load(response.data?response.data.entry:null),callback(null,that))}))},remove:function(callback){return callback=callback||function(){},this.del("",{},(function(err){callback(err)}))},update:function(props,callback){if(callback=callback||function(){},props.hasOwnProperty("name"))throw new Error("Cannot set 'name' field in 'update'");var that=this,req=this.post("",props,(function(err,response){err||that.fetchOnUpdate?!err&&that.fetchOnUpdate?that.fetch((function(){req.wasAborted||callback.apply(null,arguments)})):callback(err,that):(that._load(response.data.entry),callback(err,that))}));return req},disable:function(callback){callback=callback||function(){};var that=this;this.post("disable",{},(function(err,response){err?callback(err):callback(null,that)}))},enable:function(callback){callback=callback||function(){};var that=this;this.post("enable",{},(function(err,response){err?callback(err):callback(null,that)}))},reload:function(callback){callback=callback||function(){};var that=this;this.post("_reload",{},(function(err,response){err?callback(err):callback(null,that)}))}}),root.Collection=root.Resource.extend({fetchOnEntityCreation:!1,init:function(service,path,namespace){this._super(service,path,namespace),this._load=utils.bind(this,this._load),this.fetch=utils.bind(this,this.fetch),this.create=utils.bind(this,this.create),this.list=utils.bind(this,this.list),this.item=utils.bind(this,this.item),this.instantiateEntity=utils.bind(this,this.instantiateEntity),this._entities=[],this._entitiesByName={},this._properties={},this._paging={},this._links={}},instantiateEntity:function(props){throw new Error("MUST BE OVERRIDDEN")},_load:function(properties){this._super(properties);for(var entities=[],entitiesByName={},entityPropertyList=properties.entry||[],i=0;i<entityPropertyList.length;i++){var props=entityPropertyList[i],entity=this.instantiateEntity(props);entity._load(props),entities.push(entity),entitiesByName.hasOwnProperty(entity.name)?entitiesByName[entity.name].push(entity):entitiesByName[entity.name]=[entity]}this._entities=entities,this._entitiesByName=entitiesByName,this._paging=properties.paging||{},this._links=properties.links||{},this._updated=properties.updated||null},links:function(){return this._links},paging:function(){return this._paging},updated:function(){return this._updated},fetch:function(options,callback){!callback&&utils.isFunction(options)&&(callback=options,options={}),callback=callback||function(){},(options=options||{}).count||(options.count=0);var that=this;return that.get("",options,(function(err,response){err?callback(err):(that._load(response.data),callback(null,that))}))},item:function(id,namespace){if(utils.isEmpty(namespace)&&(namespace=null),!id)throw new Error("Must suply a non-empty name.");if(namespace&&("-"===namespace.app||"-"===namespace.owner))throw new Error("When searching for an entity, wildcards are not allowed in the namespace. Please refine your search.");var fullPath=null;if(!this._entitiesByName.hasOwnProperty(id))return null;var entities=this._entitiesByName[id];if(1===entities.length&&!namespace)return entities[0];if(1===entities.length&&namespace)return fullPath=this.service.fullpath(entities[0].path(),namespace),entities[0].qualifiedPath===fullPath?entities[0]:null;if(entities.length>1&&!namespace)throw new Error("Ambiguous match for name '"+id+"'");for(var i=0;i<entities.length;i++){var entity=entities[i];if(fullPath=this.service.fullpath(entities[i].path(),namespace),entity.qualifiedPath===fullPath)return entity}},create:function(params,callback){callback=callback||function(){};var that=this,req=this.post("",params,(function(err,response){if(err)callback(err);else{var props=response.data.entry;utils.isArray(props)&&(props=props[0]);var entity=that.instantiateEntity(props);entity._load(props),that.fetchOnEntityCreation?entity.fetch((function(){req.wasAborted||callback.apply(null,arguments)})):callback(null,entity)}}));return req},list:function(callback){return callback=callback||function(){},utils.clone(this._entities)}}),root.SavedSearch=root.Entity.extend({path:function(){return Paths.savedSearches+"/"+encodeURIComponent(this.name)},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace),this.acknowledge=utils.bind(this,this.acknowledge),this.dispatch=utils.bind(this,this.dispatch),this.history=utils.bind(this,this.history),this.suppressInfo=utils.bind(this,this.suppressInfo)},alertCount:function(){return parseInt(this.properties().triggered_alert_count,10)||0},acknowledge:function(callback){callback=callback||function(){};var that=this;return this.post("acknowledge",{},(function(err){callback(err,that)}))},dispatch:function(options,callback){!callback&&utils.isFunction(options)&&(callback=options,options={}),callback=callback||function(){},options=options||{};var that=this;return this.post("dispatch",options,(function(err,response){if(err)callback(err);else{var sid=response.data.sid,job=new root.Job(that.service,sid,that.namespace);callback(null,job,that)}}))},firedAlertGroup:function(){return new root.FiredAlertGroup(this.service,this.name)},history:function(callback){callback=callback||function(){};var that=this;return this.get("history",{},(function(err,response){if(err)callback(err);else{for(var jobs=[],data=response.data.entry||[],i=0;i<data.length;i++){var jobData=response.data.entry[i],namespace=utils.namespaceFromProperties(jobData),job=new root.Job(that.service,jobData.name,namespace);job._load(jobData),jobs.push(job)}callback(null,jobs,that)}}))},suppressInfo:function(callback){callback=callback||function(){};var that=this;return this.get("suppress",{},(function(err,response){callback(err,response.data.entry.content,that)}))},update:function(params,callback){if((params=params||{}).search)return this._super(params,callback);var update=this._super,req=this.fetch((function(err,search){err?callback(err):(params.search=search.properties().search,update.call(search,params,(function(){req.wasAborted||callback.apply(null,arguments)})))}));return req}}),root.SavedSearches=root.Collection.extend({path:function(){return Paths.savedSearches},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.SavedSearch(this.service,props.name,entityNamespace)},init:function(service,namespace){this._super(service,this.path(),namespace)}}),root.StoragePassword=root.Entity.extend({path:function(){return Paths.storagePasswords+"/"+encodeURIComponent(this.name)},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace)}}),root.StoragePasswords=root.Collection.extend({path:function(){return Paths.storagePasswords},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.StoragePassword(this.service,props.name,entityNamespace)},init:function(service,namespace){this._super(service,this.path(),namespace)}}),root.FiredAlert=root.Entity.extend({path:function(){return Paths.firedAlerts+"/"+encodeURIComponent(this.name)},actions:function(){return this.properties().actions||[]},alertType:function(){return this.properties().alert_type||null},isDigestMode:function(){return!!this.properties().digest_mode},expirationTime:function(){return this.properties().expiration_time_rendered||null},savedSearchName:function(){return this.properties().savedsearch_name||null},severity:function(){return parseInt(this.properties().severity,10)||-1},sid:function(){return this.properties().sid||null},triggerTime:function(){return this.properties().trigger_time||null},triggerTimeRendered:function(){return this.properties().trigger_time_rendered||null},triggeredAlertCount:function(){return parseInt(this.properties().triggered_alerts,10)||-1},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace)}}),root.FiredAlertGroup=root.Entity.extend({path:function(){return Paths.firedAlerts+"/"+encodeURIComponent(this.name)},count:function(){return parseInt(this.properties().triggered_alert_count,10)||0},list:function(options,callback){!callback&&utils.isFunction(options)&&(callback=options,options={}),callback=callback||function(){},options=options||{};var that=this;return this.get("",options,(function(err,response){if(err)callback(err);else{for(var firedAlerts=[],data=response.data.entry||[],i=0;i<data.length;i++){var firedAlertData=response.data.entry[i],namespace=utils.namespaceFromProperties(firedAlertData),firedAlert=new root.FiredAlert(that.service,firedAlertData.name,namespace);firedAlert._load(firedAlertData),firedAlerts.push(firedAlert)}callback(null,firedAlerts,that)}}))},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace),this.list=utils.bind(this,this.list)}}),root.FiredAlertGroupCollection=root.Collection.extend({path:function(){return Paths.firedAlerts},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.FiredAlertGroup(this.service,props.name,entityNamespace)},remove:function(){throw new Error("To remove an alert, remove the saved search with the same name.")},init:function(service,namespace){this._super(service,this.path(),namespace),this.instantiateEntity=utils.bind(this,this.instantiateEntity),this.remove=utils.bind(this,this.remove)}}),root.Application=root.Entity.extend({fetchOnUpdate:!0,path:function(){return Paths.apps+"/"+encodeURIComponent(this.name)},init:function(service,name){this.name=name,this._super(service,this.path(),{}),this.setupInfo=utils.bind(this,this.setupInfo),this.updateInfo=utils.bind(this,this.updateInfo)},setupInfo:function(callback){callback=callback||function(){};var that=this;return this.get("setup",{},(function(err,response){err?callback(err):callback(null,response.data.entry.content,that)}))},updateInfo:function(callback){callback=callback||function(){};var that=this;return this.get("update",{},(function(err,response){err?callback(err):callback(null,response.data.entry.content,that)}))}}),root.Applications=root.Collection.extend({fetchOnEntityCreation:!0,path:function(){return Paths.apps},instantiateEntity:function(props){return new root.Application(this.service,props.name,{})},init:function(service){this._super(service,this.path(),{})}}),root.ServerInfo=root.Entity.extend({path:function(){return Paths.info},init:function(service){this.name="server-info",this._super(service,this.path(),{})}}),root.User=root.Entity.extend({path:function(){return Paths.users+"/"+encodeURIComponent(this.name)},init:function(service,name){this.name=name,this._super(service,this.path(),{})}}),root.Users=root.Collection.extend({fetchOnEntityCreation:!0,path:function(){return Paths.users},instantiateEntity:function(props){return new root.User(this.service,props.name,{})},init:function(service){this._super(service,this.path(),{})},create:function(params,callback){callback=callback||function(){};var that=this,req=this.post("",params,(function(err,response){if(err)callback(err);else{var props={name:params.name};that.instantiateEntity(props).fetch((function(){req.wasAborted||callback.apply(null,arguments)}))}}));return req}}),root.View=root.Entity.extend({path:function(){return Paths.views+"/"+encodeURIComponent(this.name)},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace)}}),root.Views=root.Collection.extend({path:function(){return Paths.views},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.View(this.service,props.name,entityNamespace)},init:function(service,namespace){this._super(service,this.path(),namespace)}}),root.Index=root.Entity.extend({path:function(){return Paths.indexes+"/"+encodeURIComponent(this.name)},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace),this.submitEvent=utils.bind(this,this.submitEvent)},submitEvent:function(event,params,callback){!callback&&utils.isFunction(params)&&(callback=params,params={}),callback=callback||function(){},(params=params||{}).index=this.name;var that=this;return this.service.log(event,params,(function(err,result){callback(err,result,that)}))},remove:function(callback){if(this.service.versionCompare("5.0")<0)throw new Error("Indexes cannot be removed in Splunk 4.x");return this._super(callback)}}),root.Indexes=root.Collection.extend({path:function(){return Paths.indexes},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.Index(this.service,props.name,entityNamespace)},init:function(service,namespace){this._super(service,this.path(),namespace)},create:function(name,params,callback){return utils.isObject(name)&&utils.isFunction(params)&&!callback&&(callback=params,name=(params=name).name),(params=params||{}).name=name,this._super(params,callback)}}),root.ConfigurationStanza=root.Entity.extend({path:function(){var name="default"===this.name?"_new":this.name;return Paths.configurations+"/conf-"+encodeURIComponent(this.file)+"/"+encodeURIComponent(name)},init:function(service,file,name,namespace){this.name=name,this.file=file,this._super(service,this.path(),namespace)}}),root.ConfigurationFile=root.Collection.extend({path:function(){return Paths.configurations+"/conf-"+encodeURIComponent(this.name)},getDefaultStanza:function(){return new root.ConfigurationStanza(this.service,this.name,"default",this.namespace)},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.ConfigurationStanza(this.service,this.name,props.name,entityNamespace)},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace)},create:function(stanzaName,values,callback){return utils.isObject(stanzaName)&&utils.isFunction(values)&&!callback&&(callback=values,stanzaName=(values=stanzaName).name),utils.isFunction(values)&&!callback&&(callback=values,values={}),(values=values||{}).name=stanzaName,this._super(values,callback)}}),root.Configurations=root.Collection.extend({fetchOnEntityCreation:!0,path:function(){return Paths.properties},instantiateEntity:function(props){return new root.ConfigurationFile(this.service,props.name,this.namespace)},init:function(service,namespace){if(!namespace||"-"===namespace.owner||"-"===namespace.app)throw new Error("Configurations requires a non-wildcard owner/app");this._super(service,this.path(),namespace)},create:function(filename,callback){utils.isObject(filename)&&(filename=filename.__conf),callback=callback||function(){};var that=this,req=this.post("",{__conf:filename},(function(err,response){err?callback(err):new root.ConfigurationFile(that.service,filename).fetch((function(){req.wasAborted||callback.apply(null,arguments)}))}));return req}}),root.Job=root.Entity.extend({path:function(){return Paths.jobs+"/"+encodeURIComponent(this.name)},init:function(service,sid,namespace){this.name=sid,this._super(service,this.path(),namespace),this.sid=sid,this.cancel=utils.bind(this,this.cancel),this.disablePreview=utils.bind(this,this.disablePreview),this.enablePreview=utils.bind(this,this.enablePreview),this.events=utils.bind(this,this.events),this.finalize=utils.bind(this,this.finalize),this.pause=utils.bind(this,this.pause),this.preview=utils.bind(this,this.preview),this.results=utils.bind(this,this.results),this.searchlog=utils.bind(this,this.searchlog),this.setPriority=utils.bind(this,this.setPriority),this.setTTL=utils.bind(this,this.setTTL),this.summary=utils.bind(this,this.summary),this.timeline=utils.bind(this,this.timeline),this.touch=utils.bind(this,this.touch),this.unpause=utils.bind(this,this.unpause)},cancel:function(callback){return this.post("control",{action:"cancel"},callback)},disablePreview:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"disablepreview"},(function(err){callback(err,that)}))},enablePreview:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"enablepreview"},(function(err){callback(err,that)}))},events:function(params,callback){callback=callback||function(){},(params=params||{}).output_mode=params.output_mode||"json_rows";var that=this;return this.get("events",params,(function(err,response){err?callback(err):callback(null,response.data,that)}))},finalize:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"finalize"},(function(err){callback(err,that)}))},iterator:function(type,params){return new root.PaginatedEndpointIterator(this[type],params)},pause:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"pause"},(function(err){callback(err,that)}))},preview:function(params,callback){callback=callback||function(){},(params=params||{}).output_mode=params.output_mode||"json_rows";var that=this;return this.get("results_preview",params,(function(err,response){err?callback(err):callback(null,response.data,that)}))},results:function(params,callback){callback=callback||function(){},(params=params||{}).output_mode=params.output_mode||"json_rows";var that=this;return this.get("results",params,(function(err,response){err?callback(err):callback(null,response.data,that)}))},searchlog:function(callback){callback=callback||function(){};var that=this;return this.get("search.log",{},(function(err,response){err?callback(err):callback(null,response.data,that)}))},setPriority:function(value,callback){callback=callback||function(){};var that=this;return this.post("control",{action:"setpriority",priority:value},(function(err){callback(err,that)}))},setTTL:function(value,callback){callback=callback||function(){};var that=this;return this.post("control",{action:"setttl",ttl:value},(function(err){callback(err,that)}))},summary:function(params,callback){callback=callback||function(){};var that=this;return this.get("summary",params,(function(err,response){err?callback(err):callback(null,response.data,that)}))},timeline:function(params,callback){callback=callback||function(){};var that=this;return this.get("timeline",params,(function(err,response){err?callback(err):callback(null,response.data,that)}))},touch:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"touch"},(function(err){callback(err,that)}))},track:function(options,callbacks){var period=options.period||500;utils.isFunction(callbacks)&&(callbacks={done:callbacks});var noCallbacksAfterReady=!(callbacks.progress||callbacks.done||callbacks.failed||callbacks.error);callbacks.ready=callbacks.ready||function(){},callbacks.progress=callbacks.progress||function(){},callbacks.done=callbacks.done||function(){},callbacks.failed=callbacks.failed||function(){},callbacks.error=callbacks.error||function(){},callbacks._preready=callbacks._preready||function(){},callbacks._stoppedAfterReady=callbacks._stoppedAfterReady||function(){};var that=this,emittedReady=!1,doneLooping=!1;Async.whilst((function(){return!doneLooping}),(function(nextIteration){that.fetch((function(err,job){if(err)nextIteration(err);else{var dispatchState=job.properties().dispatchState;if("QUEUED"===dispatchState||"PARSING"===dispatchState)callbacks._preready(job);else{if(!emittedReady&&(callbacks.ready(job),emittedReady=!0,noCallbacksAfterReady))return callbacks._stoppedAfterReady(job),doneLooping=!0,void nextIteration();callbacks.progress(job);var props=job.properties();if("DONE"===dispatchState&&props.isDone)return callbacks.done(job),doneLooping=!0,void nextIteration();if("FAILED"===dispatchState&&props.isFailed)return callbacks.failed(job),doneLooping=!0,void nextIteration()}Async.sleep(period,nextIteration)}}))}),(function(err){err&&callbacks.error(err)}))},unpause:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"unpause"},(function(err){callback(err,that)}))}}),root.Jobs=root.Collection.extend({path:function(){return Paths.jobs},instantiateEntity:function(props){var sid=props.content.sid,entityNamespace=utils.namespaceFromProperties(props);return new root.Job(this.service,sid,entityNamespace)},init:function(service,namespace){this._super(service,this.path(),namespace),this.create=utils.bind(this,this.create)},create:function(query,params,callback){if(utils.isObject(query)&&utils.isFunction(params)&&!callback&&(callback=params,query=(params=query).search),callback=callback||function(){},(params=params||{}).search=query,"oneshot"===(params.exec_mode||"").toLowerCase())throw new Error("Please use splunkjs.Service.Jobs.oneshotSearch for exec_mode=oneshot");if(params.search){var that=this;return this.post("",params,(function(err,response){if(err)callback(err);else{var job=new root.Job(that.service,response.data.sid,that.namespace);callback(null,job)}}))}callback("Must provide a query to create a search job")},search:function(query,params,callback){return this.create(query,params,callback)},oneshotSearch:function(query,params,callback){utils.isObject(query)&&utils.isFunction(params)&&!callback&&(callback=params,query=(params=query).search),callback=callback||function(){},(params=params||{}).search=query,params.exec_mode="oneshot",params.search||callback("Must provide a query to create a search job");var outputMode=params.output_mode||"json_rows",path=this.qualifiedPath,post=params,get={output_mode:outputMode};return this.service.request(path,"POST",get,post,null,{},(function(err,response){err?callback(err):callback(null,response.data)}))}}),root.DataModelField=Class.extend({_types:["string","number","timestamp","objectCount","childCount","ipv4","boolean"],init:function(props){(props=props||{}).owner=props.owner||"",this.name=props.fieldName,this.displayName=props.displayName,this.type=props.type,this.multivalued=props.multivalue,this.required=props.required,this.hidden=props.hidden,this.editable=props.editable,this.comment=props.comment||null,this.fieldSearch=props.fieldSearch,this.lineage=props.owner.split("."),this.owner=this.lineage[this.lineage.length-1]},isString:function(){return"string"===this.type},isNumber:function(){return"number"===this.type},isTimestamp:function(){return"timestamp"===this.type},isObjectcount:function(){return"objectCount"===this.type},isChildcount:function(){return"childCount"===this.type},isIPv4:function(){return"ipv4"===this.type},isBoolean:function(){return"boolean"===this.type}}),root.DataModelConstraint=Class.extend({init:function(props){(props=props||{}).owner=props.owner||"",this.query=props.search,this.lineage=props.owner.split("."),this.owner=this.lineage[this.lineage.length-1]}}),root.DataModelCalculation=Class.extend({_types:["Lookup","Eval","GeoIP","Rex"],init:function(props){(props=props||{}).owner=props.owner||"",this.id=props.calculationID,this.type=props.calculationType,this.comment=props.comment||null,this.editable=props.editable,this.lineage=props.owner.split("."),this.owner=this.lineage[this.lineage.length-1],this.outputFields=[];for(var i=0;i<props.outputFields.length;i++)this.outputFields[props.outputFields[i].fieldName]=new root.DataModelField(props.outputFields[i]);"Eval"!==this.type&&"Rex"!==this.type||(this.expression=props.expression),"GeoIP"!==this.type&&"Rex"!==this.type||(this.inputField=props.inputField),"Lookup"===this.type&&(this.lookupName=props.lookupName,this.inputFieldMappings=props.lookupInputs[0])},outputFieldNames:function(){return Object.keys(this.outputFields)},isEditable:function(){return!!this.editable},isLookup:function(){return"Lookup"===this.type},isEval:function(){return"Eval"===this.type},isRex:function(){return"Rex"===this.type},isGeoIP:function(){return"GeoIP"===this.type}}),root.Pivot=Class.extend({init:function(service,props){this.service=service,this.search=props.search,this.drilldownSearch=props.drilldown_search,this.prettyQuery=this.openInSearch=props.open_in_search,this.pivotSearch=props.pivot_search,this.tstatsSearch=props.tstats_search||null,this.run=utils.bind(this,this.run)},run:function(args,callback){utils.isUndefined(callback)&&(callback=args,args={}),args&&0!==Object.keys(args).length||(args={}),this.service.search(this.tstatsSearch||this.pivotSearch,args,callback)}}),root.PivotSpecification=Class.extend({_comparisons:{boolean:["=","is","isNull","isNotNull"],string:["=","is","isNull","isNotNull","contains","doesNotContain","startsWith","endsWith","regex"],number:["=","!=","<",">","<=",">=","is","isNull","isNotNull"],ipv4:["is","isNull","isNotNull","contains","doesNotContain","startsWith"]},_binning:["auto","year","month","day","hour","minute","second"],_sortDirection:["ASCENDING","DESCENDING","DEFAULT"],_statsFunctions:["list","values","first","last","count","dc","sum","average","max","min","stdev","duration","earliest","latest"],init:function(dataModelObject){this.dataModelObject=dataModelObject,this.columns=[],this.rows=[],this.filters=[],this.cells=[],this.accelerationNamespace=dataModelObject.dataModel.isAccelerated()?dataModelObject.dataModel.name:null,this.run=utils.bind(this,this.run),this.pivot=utils.bind(this,this.pivot)},setAccelerationJob:function(sid){if(sid&&sid instanceof Service.Job&&(sid=sid.sid),!sid)throw new Error("Sid to use for acceleration must not be null.");return this.accelerationNamespace="sid="+sid,this},addFilter:function(fieldName,comparisonType,comparisonOp,compareTo){if(!this.dataModelObject.hasField(fieldName))throw new Error("Cannot add filter on a nonexistent field.");if(comparisonType!==this.dataModelObject.fieldByName(fieldName).type)throw new Error("Cannot add "+comparisonType+" filter on "+fieldName+" because it is of type "+this.dataModelObject.fieldByName(fieldName).type);if(!utils.contains(this._comparisons[comparisonType],comparisonOp))throw new Error("Cannot add "+comparisonType+" filter because "+comparisonOp+" is not a valid comparison operator");var ret={fieldName:fieldName,owner:this.dataModelObject.fieldByName(fieldName).lineage.join("."),type:comparisonType};return utils.contains(["boolean","string","ipv4","number"],ret.type)&&(ret.comparator=comparisonOp,ret.compareTo=compareTo),this.filters.push(ret),this},addLimitFilter:function(fieldName,sortAttribute,sortDirection,limit,statsFunction){if(!this.dataModelObject.hasField(fieldName))throw new Error("Cannot add limit filter on a nonexistent field.");var f=this.dataModelObject.fieldByName(fieldName);if(!utils.contains(["string","number","objectCount"],f.type))throw new Error("Cannot add limit filter on "+fieldName+" because it is of type "+f.type);if("string"===f.type&&!utils.contains(["count","dc"],statsFunction))throw new Error("Stats function for fields of type string must be COUNT or DISTINCT_COUNT; found "+statsFunction);if("number"===f.type&&!utils.contains(["count","dc","average","sum"],statsFunction))throw new Error("Stats function for fields of type number must be one of COUNT, DISTINCT_COUNT, SUM, or AVERAGE; found "+statsFunction);if("objectCount"===f.type&&!utils.contains(["count"],statsFunction))throw new Error("Stats function for fields of type object count must be COUNT; found "+statsFunction);var filter={fieldName:fieldName,owner:f.lineage.join("."),type:f.type,attributeName:sortAttribute,attributeOwner:this.dataModelObject.fieldByName(sortAttribute).lineage.join("."),sortDirection:sortDirection,limitAmount:limit,statsFn:statsFunction};return filter.limitType="ASCENDING"===sortDirection?"lowest":"highest",this.filters.push(filter),this},addRowSplit:function(fieldName,label){if(!this.dataModelObject.hasField(fieldName))throw new Error("Did not find field "+fieldName);var f=this.dataModelObject.fieldByName(fieldName);if(!utils.contains(["number","string"],f.type))throw new Error("Field was of type "+f.type+", expected number or string.");var row={fieldName:fieldName,owner:f.owner,type:f.type,label:label};return"number"===f.type&&(row.display="all"),this.rows.push(row),this},addRangeRowSplit:function(field,label,ranges){if(!this.dataModelObject.hasField(field))throw new Error("Did not find field "+field);var f=this.dataModelObject.fieldByName(field);if("number"!==f.type)throw new Error("Field was of type "+f.type+", expected number.");var updateRanges={};return utils.isUndefined(ranges.start)||null===ranges.start||(updateRanges.start=ranges.start),utils.isUndefined(ranges.end)||null===ranges.end||(updateRanges.end=ranges.end),utils.isUndefined(ranges.step)||null===ranges.step||(updateRanges.size=ranges.step),utils.isUndefined(ranges.limit)||null===ranges.limit||(updateRanges.maxNumberOf=ranges.limit),this.rows.push({fieldName:field,owner:f.owner,type:f.type,label:label,display:"ranges",ranges:updateRanges}),this},addBooleanRowSplit:function(field,label,trueDisplayValue,falseDisplayValue){if(!this.dataModelObject.fieldByName(field))throw new Error("Did not find field "+field);var f=this.dataModelObject.fieldByName(field);if("boolean"!==f.type)throw new Error("Field was of type "+f.type+", expected boolean.");return this.rows.push({fieldName:field,owner:f.owner,type:f.type,label:label,trueLabel:trueDisplayValue,falseLabel:falseDisplayValue}),this},addTimestampRowSplit:function(field,label,binning){if(!this.dataModelObject.hasField(field))throw new Error("Did not find field "+field);var f=this.dataModelObject.fieldByName(field);if("timestamp"!==f.type)throw new Error("Field was of type "+f.type+", expected timestamp.");if(!utils.contains(this._binning,binning))throw new Error("Invalid binning "+binning+" found. Valid values are: "+this._binning.join(", "));return this.rows.push({fieldName:field,owner:f.owner,type:f.type,label:label,period:binning}),this},addColumnSplit:function(fieldName){if(!this.dataModelObject.hasField(fieldName))throw new Error("Did not find field "+fieldName);var f=this.dataModelObject.fieldByName(fieldName);if(!utils.contains(["number","string"],f.type))throw new Error("Field was of type "+f.type+", expected number or string.");var col={fieldName:fieldName,owner:f.owner,type:f.type};return"number"===f.type&&(col.display="all"),this.columns.push(col),this},addRangeColumnSplit:function(fieldName,ranges){if(!this.dataModelObject.hasField(fieldName))throw new Error("Did not find field "+fieldName);var f=this.dataModelObject.fieldByName(fieldName);if("number"!==f.type)throw new Error("Field was of type "+f.type+", expected number.");var updatedRanges={};return utils.isUndefined(ranges.start)||null===ranges.start||(updatedRanges.start=ranges.start),utils.isUndefined(ranges.end)||null===ranges.end||(updatedRanges.end=ranges.end),utils.isUndefined(ranges.step)||null===ranges.step||(updatedRanges.size=ranges.step),utils.isUndefined(ranges.limit)||null===ranges.limit||(updatedRanges.maxNumberOf=ranges.limit),this.columns.push({fieldName:fieldName,owner:f.owner,type:f.type,display:"ranges",ranges:updatedRanges}),this},addBooleanColumnSplit:function(fieldName,trueDisplayValue,falseDisplayValue){if(!this.dataModelObject.fieldByName(fieldName))throw new Error("Did not find field "+fieldName);var f=this.dataModelObject.fieldByName(fieldName);if("boolean"!==f.type)throw new Error("Field was of type "+f.type+", expected boolean.");return this.columns.push({fieldName:fieldName,owner:f.owner,type:f.type,trueLabel:trueDisplayValue,falseLabel:falseDisplayValue}),this},addTimestampColumnSplit:function(field,binning){if(!this.dataModelObject.hasField(field))throw new Error("Did not find field "+field);var f=this.dataModelObject.fieldByName(field);if("timestamp"!==f.type)throw new Error("Field was of type "+f.type+", expected timestamp.");if(!utils.contains(this._binning,binning))throw new Error("Invalid binning "+binning+" found. Valid values are: "+this._binning.join(", "));return this.columns.push({fieldName:field,owner:f.owner,type:f.type,period:binning}),this},addCellValue:function(fieldName,label,statsFunction){if(!this.dataModelObject.hasField(fieldName))throw new Error("Did not find field "+fieldName);var f=this.dataModelObject.fieldByName(fieldName);if(utils.contains(["string","ipv4"],f.type)&&!utils.contains(["list","values","first","last","count","dc"],statsFunction))throw new Error("Stats function on string and IPv4 fields must be one of: list, distinct_values, first, last, count, or distinct_count; found "+statsFunction);if("number"===f.type&&!utils.contains(["sum","count","average","min","max","stdev","list","values"],statsFunction))throw new Error("Stats function on number field must be must be one of: sum, count, average, max, min, stdev, list, or distinct_values; found "+statsFunction);if("timestamp"===f.type&&!utils.contains(["duration","earliest","latest","list","values"],statsFunction))throw new Error("Stats function on timestamp field must be one of: duration, earliest, latest, list, or distinct values; found "+statsFunction);if(utils.contains(["objectCount","childCount"],f.type)&&"count"!==statsFunction)throw new Error("Stats function on childcount and objectcount fields must be count; found "+statsFunction);if("boolean"===f.type)throw new Error("Cannot use boolean valued fields as cell values.");return this.cells.push({fieldName:fieldName,owner:f.lineage.join("."),type:f.type,label:label,sparkline:!1,value:statsFunction}),this},toJsonObject:function(){return{dataModel:this.dataModelObject.dataModel.name,baseClass:this.dataModelObject.name,rows:this.rows,columns:this.columns,cells:this.cells,filters:this.filters}},pivot:function(callback){var svc=this.dataModelObject.dataModel.service,args={pivot_json:JSON.stringify(this.toJsonObject())};return utils.isUndefined(this.accelerationNamespace)||(args.namespace=this.accelerationNamespace),svc.get(Paths.pivot+"/"+encodeURIComponent(this.dataModelObject.dataModel.name),args,(function(err,response){err?callback(new Error(err.data.messages[0].text),response):response.data.entry&&response.data.entry[0]?callback(null,new root.Pivot(svc,response.data.entry[0].content)):callback(new Error("Didn't get a Pivot report back from Splunk"),response)}))},run:function(args,callback){callback||(callback=args,args={}),args=args||{},this.pivot((function(err,pivot){err?callback(err,null,null):pivot.run(args,Async.augment(callback,pivot))}))}}),root.DataModelObject=Class.extend({init:function(props,parentDataModel){(props=props||{}).owner=props.owner||"",this.dataModel=parentDataModel,this.name=props.objectName,this.displayName=props.displayName,this.parentName=props.parentName,this.lineage=props.lineage.split("."),props.hasOwnProperty("groupByFields")&&(this.groupByFields=props.groupByFields),props.hasOwnProperty("objectsToGroup")&&(this.objectsToGroup=props.objectsToGroup),props.hasOwnProperty("transactionMaxTimeSpan")&&(this.maxSpan=props.transactionMaxTimeSpan),props.hasOwnProperty("transactionMaxPause")&&(this.maxPause=props.transactionMaxPause),props.hasOwnProperty("baseSearch")&&(this.baseSearch=props.baseSearch),this.fields={};for(var i=0;i<props.fields.length;i++)this.fields[props.fields[i].fieldName]=new root.DataModelField(props.fields[i]);this.constraints=[];for(var j=0;j<props.constraints.length;j++)this.constraints.push(new root.DataModelConstraint(props.constraints[j]));this.calculations=[];for(var k=0;k<props.calculations.length;k++)this.calculations[props.calculations[k].calculationID]=new root.DataModelCalculation(props.calculations[k])},isBaseSearch:function(){return!utils.isUndefined(this.baseSearch)},isBaseTransaction:function(){return!utils.isUndefined(this.maxSpan)},fieldNames:function(){return Object.keys(this.fields)},fieldByName:function(name){return this.calculatedFields()[name]||this.fields[name]||null},allFields:function(){var combinedFields=[];for(var f in this.fields)this.fields.hasOwnProperty(f)&&(combinedFields[f]=this.fields[f]);var calculatedFields=this.calculatedFields();for(var cf in calculatedFields)calculatedFields.hasOwnProperty(cf)&&(combinedFields[cf]=calculatedFields[cf]);return combinedFields},allFieldNames:function(){return Object.keys(this.allFields())},calculatedFields:function(){for(var fields={},keys=this.calculationIDs(),calculations=this.calculations,i=0;i<keys.length;i++)for(var calculation=calculations[keys[i]],f=0;f<calculation.outputFieldNames().length;f++)fields[calculation.outputFieldNames()[f]]=calculation.outputFields[calculation.outputFieldNames()[f]];return fields},calculatedFieldNames:function(){return Object.keys(this.calculatedFields())},hasField:function(fieldName){return utils.contains(this.allFieldNames(),fieldName)},calculationIDs:function(){return Object.keys(this.calculations)},createLocalAccelerationJob:function(earliestTime,callback){!callback&&utils.isFunction(earliestTime)&&(callback=earliestTime,earliestTime=void 0);var query='| datamodel "'+this.dataModel.name+'" '+this.name+" search | tscollect",args=earliestTime?{earliest_time:earliestTime}:{};this.dataModel.service.search(query,args,callback)},startSearch:function(params,querySuffix,callback){var query="| datamodel "+this.dataModel.name+" "+this.name+" search";querySuffix=querySuffix?" "+querySuffix:"",this.dataModel.service.search(query+querySuffix,params,callback)},parent:function(){return this.dataModel.objectByName(this.parentName)},createPivotSpecification:function(){return new root.PivotSpecification(this)}}),root.DataModel=Service.Entity.extend({path:function(){return Paths.dataModels+"/"+encodeURIComponent(this.name)},init:function(service,name,namespace,props){props||(props=namespace,namespace={}),this.name=name,this._super(service,this.path(),namespace),this.acceleration=JSON.parse(props.content.acceleration)||{},this.acceleration.hasOwnProperty("enabled")&&(this.acceleration.enabled=!!this.acceleration.enabled),props.hasOwnProperty("concise")&&!utils.isUndefined(props.concise)||(this.concise="0");var dataModelDefinition=JSON.parse(props.content.description);this.objectNames=dataModelDefinition.objectNameList,this.displayName=dataModelDefinition.displayName,this.description=dataModelDefinition.description;var objs=dataModelDefinition.objects;this.objects=[];for(var i=0;i<objs.length;i++)this.objects.push(new root.DataModelObject(objs[i],this));this.remove=utils.bind(this,this.remove),this.update=utils.bind(this,this.update)},isAccelerated:function(){return!!this.acceleration.enabled},objectByName:function(name){for(var i=0;i<this.objects.length;i++)if(this.objects[i].name===name)return this.objects[i];return null},hasObject:function(name){return utils.contains(this.objectNames,name)},update:function(props,callback){if(utils.isUndefined(callback)&&(callback=props,props={}),callback=callback||function(){},props){if(!props.hasOwnProperty("name")){var updatedProps={acceleration:JSON.stringify({enabled:props.accceleration&&props.acceleration.enabled||this.acceleration.enabled,earliest_time:props.accceleration&&props.acceleration.earliestTime||this.acceleration.earliestTime,cron_schedule:props.accceleration&&props.acceleration.cronSchedule||this.acceleration.cronSchedule})},that=this;return this.post("",updatedProps,(function(err,response){if(err)callback(err,that);else{var dataModelNamespace=utils.namespaceFromProperties(response.data.entry[0]);callback(null,new root.DataModel(that.service,response.data.entry[0].name,dataModelNamespace,response.data.entry[0]))}}))}callback(new Error("Cannot set 'name' field in 'update'"),this)}else callback(new Error("Must specify a props argument to update a data model."))}}),root.DataModels=Service.Collection.extend({path:function(){return Paths.dataModels},init:function(service,namespace){namespace=namespace||{},this._super(service,this.path(),namespace),this.create=utils.bind(this,this.create)},create:function(name,params,callback){utils.isFunction(params)&&!callback&&(callback=params,params={}),params=params||{},callback=callback||function(){},name=name.replace(/ /g,"_");var that=this;return this.post("",{name:name,description:JSON.stringify(params)},(function(err,response){if(err)callback(err);else{var dataModel=new root.DataModel(that.service,response.data.entry[0].name,that.namespace,response.data.entry[0]);callback(null,dataModel)}}))},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.DataModel(this.service,props.name,entityNamespace,props)}}),
/*!*/
root.PaginatedEndpointIterator=Class.extend({init:function(endpoint,params){params=params||{},this._endpoint=endpoint,this._pagesize=params.pagesize||0,this._offset=0},next:function(callback){callback=callback||function(){};var that=this,params={count:this._pagesize,offset:this._offset};return this._endpoint(params,(function(err,results){if(err)callback(err);else{var numResults=results.rows?results.rows.length:0;that._offset+=numResults,callback(null,results,numResults>0)}}))}})}()})),require.define("/lib/async.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var utils=require("./utils"),root=exports||this;root.whilst=function(condition,body,callback){body=body||function(done){done()},callback=callback||function(){},(condition=condition||function(){return!1})()?body((function(err){err?callback(err):root.whilst(condition,body,callback)})):callback(null)},root.parallel=function(tasks,callback){if(arguments.length>1&&utils.isFunction(arguments[0])){var args=utils.toArray(arguments);tasks=args.slice(0,args.length-1),callback=args[args.length-1]}callback=callback||function(){},0===(tasks=tasks||[]).length&&callback();for(var tasksLeft=tasks.length,results=[],doneCallback=function(idx){return function(err){if(err)callback&&callback(err),callback=null;else{var args=utils.toArray(arguments);args.shift(),1===args.length&&(args=args[0]),results[idx]=args,0==--tasksLeft&&(results.unshift(null),callback&&callback.apply(null,results))}}},i=0;i<tasks.length;i++){var task=tasks[i];task(doneCallback(i))}},root.series=function(tasks,callback){if(arguments.length>1&&utils.isFunction(arguments[0])){var args=utils.toArray(arguments);tasks=args.slice(0,args.length-1),callback=args[args.length-1]}callback=callback||function(){};var innerSeries=function(task,restOfTasks,resultsSoFar,callback){if(!task)return resultsSoFar.unshift(null),void callback.apply(null,resultsSoFar);task((function(err){if(err)callback&&callback(err),callback=null;else{var args=utils.toArray(arguments);args.shift(),1===args.length&&(args=args[0]),resultsSoFar.push(args),innerSeries(restOfTasks[0],restOfTasks.slice(1),resultsSoFar,callback)}}))};innerSeries((tasks=tasks||[])[0],tasks.slice(1),[],callback)},root.parallelMap=function(vals,fn,callback){vals=vals||[],callback=callback||function(){};for(var tasks=[],createTask=function(val,idx){return function(done){fn(val,idx,done)}},i=0;i<vals.length;i++)tasks.push(createTask(vals[i],i));root.parallel(tasks,(function(err){if(err)callback&&callback(err),callback=null;else{var args=utils.toArray(arguments);args.shift(),callback(null,args)}}))},root.seriesMap=function(vals,fn,callback){vals=vals||[],callback=callback||function(){};for(var tasks=[],createTask=function(val,idx){return function(done){fn(val,idx,done)}},i=0;i<vals.length;i++)tasks.push(createTask(vals[i],i));root.series(tasks,(function(err){if(err)callback&&callback(err);else{var args=utils.toArray(arguments);args.shift(),callback(null,args)}}))},root.parallelEach=function(vals,fn,callback){vals=vals||[],callback=callback||function(){},root.parallelMap(vals,fn,(function(err,result){callback(err)}))},root.seriesEach=function(vals,fn,callback){vals=vals||[],callback=callback||function(){},root.seriesMap(vals,fn,(function(err,result){callback(err)}))},root.chain=function(tasks,callback){if(arguments.length>1&&utils.isFunction(arguments[0])){var args=utils.toArray(arguments);tasks=args.slice(0,args.length-1),callback=args[args.length-1]}if(callback=callback||function(){},(tasks=tasks||[]).length){var innerChain=function(task,restOfTasks,result){var args=result;restOfTasks.length?args.push((function(err){if(err)callback(err),callback=function(){};else{var args=utils.toArray(arguments);args.shift(),innerChain(restOfTasks[0],restOfTasks.slice(1),args)}})):args.push(callback),task.apply(null,args)};innerChain(tasks[0],tasks.slice(1),[])}else callback()},root.sleep=function(timeout,callback){setTimeout((function(){callback()}),timeout)},root.augment=function(callback){var args=Array.prototype.slice.call(arguments,1);return function(){for(var augmentedArgs=Array.prototype.slice.call(arguments),i=0;i<args.length;i++)augmentedArgs.push(args[i]);callback.apply(null,augmentedArgs)}}}()})),require.define("/lib/modularinputs/index.js",(function(require,module,exports,__dirname,__filename){var Async=require("../async"),ModularInputs={utils:require("./utils"),ValidationDefinition:require("./validationdefinition"),InputDefinition:require("./inputdefinition"),Event:require("./event"),EventWriter:require("./eventwriter"),Argument:require("./argument"),Scheme:require("./scheme"),ModularInput:require("./modularinput"),Logger:require("./logger"),execute:function(exports,module){if(require.main===module){var args=process.argv;("node"===args[0]||ModularInputs.utils.contains(args[0],"node.exe"))&&(args=args.slice(1,args.length)),exports.setup=exports.setup||ModularInputs.ModularInput.prototype.setup,exports.start=exports.start||ModularInputs.ModularInput.prototype.start,exports.end=exports.end||ModularInputs.ModularInput.prototype.end,exports.teardown=exports.teardown||ModularInputs.ModularInput.prototype.teardown,exports._inputDefinition=exports._inputDefinition||null,exports._service=exports._service||null;var scriptStatus,ew=new this.EventWriter;Async.chain([function(done){exports.setup(done)},function(done){ModularInputs.ModularInput.runScript(exports,args,ew,process.stdin,done)},function(status,done){scriptStatus=status,exports.teardown(done)}],(function(err){err&&ModularInputs.Logger.error("",err,ew._err),process.stdout.once("drain",(function(){process.exit(scriptStatus||err?1:0)}))}))}}};module.exports=ModularInputs})),require.define("/lib/modularinputs/utils.js",(function(require,module,exports,__dirname,__filename){
/*!*/
var utils=require("../utils");utils.parseParameters=function(paramNode){switch(paramNode.tag){case"param":return paramNode.text;case"param_list":for(var parameters=[],paramChildren=paramNode.getchildren(),i=0;i<paramChildren.length;i++){var mvp=paramChildren[i];parameters.push(mvp.text)}return parameters;default:throw new Error("Invalid configuration scheme, <"+paramNode.tag+"> tag unexpected.")}},utils.parseXMLData=function(parentNode,childNodeTag){for(var data={},children=parentNode.getchildren(),i=0;i<children.length;i++){var child=children[i];if(child.tag===childNodeTag){if("stanza"===childNodeTag){data[child.get("name")]={};for(var stanzaChildren=child.getchildren(),p=0;p<stanzaChildren.length;p++){var param=stanzaChildren[p];data[child.get("name")][param.get("name")]=utils.parseParameters(param)}}}else"item"===parentNode.tag&&(data[child.get("name")]=utils.parseParameters(child))}return data},module.exports=utils})),require.define("/lib/modularinputs/validationdefinition.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils");function ValidationDefinition(){this.metadata={},this.parameters={}}ValidationDefinition.parse=function(str){for(var definition=new ValidationDefinition,rootChildren=ET.parse(str).getroot().getchildren(),i=0;i<rootChildren.length;i++){var node=rootChildren[i];"item"===node.tag?(definition.metadata.name=node.get("name"),definition.parameters=utils.parseXMLData(node,"")):definition.metadata[node.tag]=node.text}return definition},module.exports=ValidationDefinition}()})),require.define("/node_modules/elementtree/package.json",(function(require,module,exports,__dirname,__filename){module.exports={main:"lib/elementtree.js"}})),require.define("/node_modules/elementtree/lib/elementtree.js",(function(require,module,exports,__dirname,__filename){var sprintf=require("./sprintf").sprintf,utils=require("./utils"),ElementPath=require("./elementpath"),TreeBuilder=require("./treebuilder").TreeBuilder,get_parser=require("./parser").get_parser,constants=require("./constants"),element_ids=0;function Element(tag,attrib){this._id=element_ids++,this.tag=tag,this.attrib={},this.text=null,this.tail=null,this._children=[],attrib&&(this.attrib=utils.merge(this.attrib,attrib))}function Comment(text){var element=new Element(Comment);return text&&(element.text=text),element}function CData(text){var element=new Element(CData);return text&&(element.text=text),element}function ProcessingInstruction(target,text){var element=new Element(ProcessingInstruction);return element.text=target,text&&(element.text=element.text+" "+text),element}function QName(text_or_uri,tag){tag&&(text_or_uri=sprintf("{%s}%s",text_or_uri,tag)),this.text=text_or_uri}function ElementTree(element){this._root=element}Element.prototype.toString=function(){return sprintf("<Element %s at %s>",this.tag,this._id)},Element.prototype.makeelement=function(tag,attrib){return new Element(tag,attrib)},Element.prototype.len=function(){return this._children.length},Element.prototype.getItem=function(index){return this._children[index]},Element.prototype.setItem=function(index,element){this._children[index]=element},Element.prototype.delItem=function(index){this._children.splice(index,1)},Element.prototype.getSlice=function(start,stop){return this._children.slice(start,stop)},Element.prototype.setSlice=function(start,stop,elements){var i,k=0;for(i=start;i<stop;i++,k++)this._children[i]=elements[k]},Element.prototype.delSlice=function(start,stop){this._children.splice(start,stop-start)},Element.prototype.append=function(element){this._children.push(element)},Element.prototype.extend=function(elements){this._children.concat(elements)},Element.prototype.insert=function(index,element){this._children[index]=element},Element.prototype.remove=function(element){this._children=this._children.filter((function(e){return e._id!==element._id}))},Element.prototype.getchildren=function(){return this._children},Element.prototype.find=function(path){return ElementPath.find(this,path)},Element.prototype.findtext=function(path,defvalue){return ElementPath.findtext(this,path,defvalue)},Element.prototype.findall=function(path,defvalue){return ElementPath.findall(this,path,defvalue)},Element.prototype.clear=function(){this.attrib={},this._children=[],this.text=null,this.tail=null},Element.prototype.get=function(key,defvalue){return void 0!==this.attrib[key]?this.attrib[key]:defvalue},Element.prototype.set=function(key,value){this.attrib[key]=value},Element.prototype.keys=function(){return Object.keys(this.attrib)},Element.prototype.items=function(){return utils.items(this.attrib)},Element.prototype.iter=function(tag,callback){var i;for("*"===tag&&(tag=null),null!==tag&&this.tag!==tag||callback(this),i=0;i<this._children.length;i++)this._children[i].iter(tag,(function(e){callback(e)}))},Element.prototype.itertext=function(callback){this.iter(null,(function(e){e.text&&callback(e.text),e.tail&&callback(e.tail)}))},QName.prototype.toString=function(){return this.text},ElementTree.prototype.getroot=function(){return this._root},ElementTree.prototype._setroot=function(element){this._root=element},ElementTree.prototype.parse=function(source,parser){return parser||(parser=new((parser=get_parser(constants.DEFAULT_PARSER)).XMLParser)(new TreeBuilder)),parser.feed(source),this._root=parser.close(),this._root},ElementTree.prototype.iter=function(tag,callback){this._root.iter(tag,callback)},ElementTree.prototype.find=function(path){return this._root.find(path)},ElementTree.prototype.findtext=function(path,defvalue){return this._root.findtext(path,defvalue)},ElementTree.prototype.findall=function(path){return this._root.findall(path)},ElementTree.prototype.write=function(options){var sb=[];if(!1!==(options=utils.merge({encoding:"utf-8",xml_declaration:null,default_namespace:null,method:"xml"},options)).xml_declaration&&sb.push("<?xml version='1.0' encoding='"+options.encoding+"'?>\n"),"text"===options.method)_serialize_text(sb,self._root,encoding);else{var qnames,namespaces,indent,indent_string,x=function(elem,encoding,default_namespace){var qnames={},namespaces={};function add_qname(qname){if("{"===qname[0]){var tmp=qname.substring(1).split("}",2),uri=tmp[0],tag=tmp[1],prefix=namespaces[uri];void 0===prefix&&(void 0===(prefix=_namespace_map[uri])&&(prefix="ns"+Object.keys(namespaces).length),"xml"!==prefix&&(namespaces[uri]=prefix)),qnames[qname]=prefix?sprintf("%s:%s",prefix,tag):tag}else{if(default_namespace)throw new Error("cannot use non-qualified names with default_namespace option");qnames[qname]=qname}}return default_namespace&&(namespaces[default_namespace]=""),elem.iter(null,(function(e){var tag=e.tag,text=e.text,items=e.items();if(tag instanceof QName&&void 0===qnames[tag.text])add_qname(tag.text);else if("string"==typeof tag)add_qname(tag);else if(null!==tag&&tag!==Comment&&tag!==CData&&tag!==ProcessingInstruction)throw new Error("Invalid tag type for serialization: "+tag);text instanceof QName&&void 0===qnames[text.text]&&add_qname(text.text),items.forEach((function(item){var key=item[0],value=item[1];key instanceof QName&&(key=key.text),void 0===qnames[key]&&add_qname(key),value instanceof QName&&void 0===qnames[value.text]&&add_qname(value.text)}))})),[qnames,namespaces]}(this._root,options.encoding,options.default_namespace);if(qnames=x[0],namespaces=x[1],options.hasOwnProperty("indent")?(indent=0,indent_string=new Array(options.indent+1).join(" ")):indent=!1,"xml"!==options.method)throw new Error("unknown serialization method "+options.method);!function _serialize_xml(write,elem,encoding,qnames,namespaces,indent,indent_string){var items,tag=elem.tag,text=elem.text,newlines=indent||0===indent;write(Array(indent+1).join(indent_string)),tag===Comment?write(sprintf("\x3c!--%s--\x3e",_escape_cdata(text))):tag===ProcessingInstruction?write(sprintf("<?%s?>",_escape_cdata(text))):tag===CData?write(sprintf("<![CDATA[%s]]>",text=text||"")):void 0===(tag=qnames[tag])?(text&&write(_escape_text(text)),elem.iter((function(e){_serialize_xml(write,e,encoding,qnames,null,!!newlines&&indent+1,indent_string)}))):(write("<"+tag),((items=elem.items())||namespaces)&&(items.sort(),items.forEach((function(item){var k=item[0],v=item[1];k instanceof QName&&(k=k.text),v=v instanceof QName?qnames[v.text]:_escape_attrib(v),write(sprintf(' %s="%s"',qnames[k],v))})),namespaces&&((items=utils.items(namespaces)).sort((function(a,b){return a[1]<b[1]})),items.forEach((function(item){var k=item[1],v=item[0];k&&(k=":"+k),write(sprintf(' xmlns%s="%s"',k,_escape_attrib(v)))})))),text||elem.len()?(text&&text.toString().match(/^\s*$/)&&(text=null),write(">"),!text&&newlines&&write("\n"),text&&write(_escape_text(text)),elem._children.forEach((function(e){_serialize_xml(write,e,encoding,qnames,null,!!newlines&&indent+1,indent_string)})),!text&&indent&&write(Array(indent+1).join(indent_string)),write("</"+tag+">")):write(" />")),newlines&&write("\n")}((function(data){sb.push(data)}),this._root,options.encoding,qnames,namespaces,indent,indent_string)}return sb.join("")};var _namespace_map={"http://www.w3.org/XML/1998/namespace":"xml","http://www.w3.org/1999/xhtml":"html","http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://schemas.xmlsoap.org/wsdl/":"wsdl","http://www.w3.org/2001/XMLSchema":"xs","http://www.w3.org/2001/XMLSchema-instance":"xsi","http://purl.org/dc/elements/1.1/":"dc"};function _escape(text,encoding,isAttribute,isText){return text&&(text=(text=(text=(text=text.toString()).replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),isText||(text=(text=text.replace(/\n/g,"&#xA;")).replace(/\r/g,"&#xD;")),isAttribute&&(text=text.replace(/"/g,"&quot;"))),text}function _escape_attrib(text,encoding){return _escape(text,0,!0)}function _escape_cdata(text,encoding){return _escape(text,0,!1)}function _escape_text(text,encoding){return _escape(text,0,!1,!0)}exports.PI=ProcessingInstruction,exports.Comment=Comment,exports.CData=CData,exports.ProcessingInstruction=ProcessingInstruction,exports.SubElement=function(parent,tag,attrib){var element=parent.makeelement(tag,attrib);return parent.append(element),element},exports.QName=QName,exports.ElementTree=ElementTree,exports.ElementPath=ElementPath,exports.Element=function(tag,attrib){return new Element(tag,attrib)},exports.XML=function(data){return(new ElementTree).parse(data)},exports.parse=function(source,parser){var tree=new ElementTree;return tree.parse(source,parser),tree},exports.register_namespace=function(prefix,uri){if(/ns\d+$/.test(prefix))throw new Error("Prefix format reserved for internal use");_namespace_map.hasOwnProperty(uri)&&_namespace_map[uri]===prefix&&delete _namespace_map[uri],_namespace_map[uri]=prefix},exports.tostring=function(element,options){return new ElementTree(element).write(options)}})),require.define("/node_modules/elementtree/lib/sprintf.js",(function(require,module,exports,__dirname,__filename){var cache={},TO_ESCAPE={"'":"\\'","\n":"\\n"};function populate(formatter){var i,key=formatter,prev=0,arg=1,builder="return '";for(i=0;i<formatter.length;i++)if("%"===formatter[i])switch(formatter[i+1]){case"s":builder+=formatter.slice(prev,i)+"' + arguments["+arg+"] + '",prev=i+2,arg++;break;case"j":builder+=formatter.slice(prev,i)+"' + JSON.stringify(arguments["+arg+"]) + '",prev=i+2,arg++;break;case"%":builder+=formatter.slice(prev,i+1),prev=i+2,i++}else TO_ESCAPE[formatter[i]]&&(builder+=formatter.slice(prev,i)+TO_ESCAPE[formatter[i]],prev=i+1);builder+=formatter.slice(prev)+"';",cache[key]=new Function(builder)}exports.sprintf=function(formatter,var_args){return cache[formatter]||populate(formatter),cache[formatter].apply(null,arguments)}})),require.define("/node_modules/elementtree/lib/utils.js",(function(require,module,exports,__dirname,__filename){exports.items=function(hash,ignored){ignored=ignored||null;var k,key,rv=[];for(k in hash)!hash.hasOwnProperty(k)||(key=ignored,ignored&&0!==ignored.length&&ignored.indexOf(key))||rv.push([k,hash[k]]);return rv},exports.findall=function(re,str){for(var match,matches=[];match=re.exec(str);)matches.push(match);return matches},exports.merge=function(a,b){var attrname,c={};for(attrname in a)a.hasOwnProperty(attrname)&&(c[attrname]=a[attrname]);for(attrname in b)b.hasOwnProperty(attrname)&&(c[attrname]=b[attrname]);return c}})),require.define("/node_modules/elementtree/lib/elementpath.js",(function(require,module,exports,__dirname,__filename){var sprintf=require("./sprintf").sprintf,utils=require("./utils"),SyntaxError=require("./errors").SyntaxError,_cache={},RE=new RegExp("('[^']*'|\"[^\"]*\"|::|//?|\\.\\.|\\(\\)|[/.*:\\[\\]\\(\\)@=])|((?:\\{[^}]+\\})?[^/\\[\\]\\(\\)@=\\s]+)|\\s+","g"),xpath_tokenizer=utils.findall.bind(null,RE),ops={"":function(next,token){var tag=token[0];return function(context,result){var i,len,rv=[];for(i=0,len=result.length;i<len;i++)result[i]._children.forEach((function(e){e.tag===tag&&rv.push(e)}));return rv}},"*":function(next,token){return function(context,result){var i,len,rv=[];for(i=0,len=result.length;i<len;i++)result[i]._children.forEach((function(e){rv.push(e)}));return rv}},".":function(next,token){return function(context,result){var i,len,elem,rv=[];for(i=0,len=result.length;i<len;i++)elem=result[i],rv.push(elem);return rv}},"..":function(next,token){return function(context,result){var i,len,elem,rv=[],parent_map=context.parent_map;for(parent_map||(context.parent_map=parent_map={},context.root.iter(null,(function(p){p._children.forEach((function(e){parent_map[e]=p}))}))),i=0,len=result.length;i<len;i++)elem=result[i],parent_map.hasOwnProperty(elem)&&rv.push(parent_map[elem]);return rv}},"//":function(next,token){var tag;if("*"===(token=next())[1])tag="*";else{if(token[1])throw new SyntaxError(token);tag=token[0]||""}return function(context,result){var i,len,elem,rv=[];for(i=0,len=result.length;i<len;i++)(elem=result[i]).iter(tag,(function(e){e!==elem&&rv.push(e)}));return rv}},"[":function(next,token){var tag,key,value,select;if("@"===(token=next())[1]){if((token=next())[1])throw new SyntaxError(token,"Invalid attribute predicate");if(key=token[0],"]"===(token=next())[1])select=function(context,result){var i,len,elem,rv=[];for(i=0,len=result.length;i<len;i++)(elem=result[i]).get(key)&&rv.push(elem);return rv};else if("="===token[1]){if('"'!==(value=next()[1])[0]&&"'"!==value[value.length-1])throw new SyntaxError(token,"Ivalid comparison target");value=value.slice(1,value.length-1),token=next(),select=function(context,result){var i,len,elem,rv=[];for(i=0,len=result.length;i<len;i++)(elem=result[i]).get(key)===value&&rv.push(elem);return rv}}if("]"!==token[1])throw new SyntaxError(token,"Invalid attribute predicate")}else{if(token[1])throw new SyntaxError(null,"Invalid predicate");if(tag=token[0]||"","]"!==(token=next())[1])throw new SyntaxError(token,"Invalid node predicate");select=function(context,result){var i,len,elem,rv=[];for(i=0,len=result.length;i<len;i++)(elem=result[i]).find(tag)&&rv.push(elem);return rv}}return select}};function _SelectorContext(root){this.parent_map=null,this.root=root}function findall(elem,path){var selector,result,i,len,token,value,select,context;if(_cache.hasOwnProperty(path))selector=_cache[path];else{if(Object.keys(_cache).length>100&&(_cache={}),"/"===path.charAt(0))throw new SyntaxError(null,"Cannot use absolute path on element");function getToken(){return result.shift()}for(result=xpath_tokenizer(path),selector=[],token=getToken();;){var c=token[1]||"";if(!(value=ops[c](getToken,token)))throw new SyntaxError(null,sprintf("Invalid path: %s",path));if(selector.push(value),!(token=getToken()))break;if("/"===token[1]&&(token=getToken()),!token)break}_cache[path]=selector}for(result=[elem],context=new _SelectorContext(elem),i=0,len=selector.length;i<len;i++)select=selector[i],result=select(context,result);return result||[]}exports.find=function(element,path){var resultElements=findall(element,path);return resultElements&&resultElements.length>0?resultElements[0]:null},exports.findall=findall,exports.findtext=function(element,path,defvalue){var resultElements=findall(element,path);return resultElements&&resultElements.length>0?resultElements[0].text:defvalue}})),require.define("/node_modules/elementtree/lib/errors.js",(function(require,module,exports,__dirname,__filename){var util=require("util"),sprintf=require("./sprintf").sprintf;function SyntaxError(token,msg){msg=msg||sprintf("Syntax Error at token %s",token.toString()),this.token=token,this.message=msg,Error.call(this,msg)}util.inherits(SyntaxError,Error),exports.SyntaxError=SyntaxError})),require.define("util",(function(require,module,exports,__dirname,__filename){function isArray(ar){return ar instanceof Array||Array.isArray(ar)||ar&&ar!==Object.prototype&&isArray(ar.__proto__)}function isRegExp(re){return re instanceof RegExp||"object"==typeof re&&"[object RegExp]"===Object.prototype.toString.call(re)}function isDate(d){if(d instanceof Date)return!0;if("object"!=typeof d)return!1;var properties=Date.prototype&&Object_getOwnPropertyNames(Date.prototype),proto=d.__proto__&&Object_getOwnPropertyNames(d.__proto__);return JSON.stringify(proto)===JSON.stringify(properties)}require("events"),exports.print=function(){},exports.puts=function(){},exports.debug=function(){},exports.inspect=function(obj,showHidden,depth,colors){var seen=[],stylize=function(str,styleType){var styles={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},style={special:"cyan",number:"blue",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}[styleType];return style?"["+styles[style][0]+"m"+str+"["+styles[style][1]+"m":str};return colors||(stylize=function(str,styleType){return str}),function format(value,recurseTimes){if(value&&"function"==typeof value.inspect&&value!==exports&&(!value.constructor||value.constructor.prototype!==value))return value.inspect(recurseTimes);switch(typeof value){case"undefined":return stylize("undefined","undefined");case"string":var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return stylize(simple,"string");case"number":return stylize(""+value,"number");case"boolean":return stylize(""+value,"boolean")}if(null===value)return stylize("null","null");var base,type,braces,visible_keys=Object_keys(value),keys=showHidden?Object_getOwnPropertyNames(value):visible_keys;if("function"==typeof value&&0===keys.length){if(isRegExp(value))return stylize(""+value,"regexp");var name=value.name?": "+value.name:"";return stylize("[Function"+name+"]","special")}if(isDate(value)&&0===keys.length)return stylize(value.toUTCString(),"date");if(isArray(value)?(type="Array",braces=["[","]"]):(type="Object",braces=["{","}"]),"function"==typeof value){var n=value.name?": "+value.name:"";base=isRegExp(value)?" "+value:" [Function"+n+"]"}else base="";if(isDate(value)&&(base=" "+value.toUTCString()),0===keys.length)return braces[0]+base+braces[1];if(recurseTimes<0)return isRegExp(value)?stylize(""+value,"regexp"):stylize("[Object]","special");seen.push(value);var output=keys.map((function(key){var name,str;if(value.__lookupGetter__&&(value.__lookupGetter__(key)?str=value.__lookupSetter__(key)?stylize("[Getter/Setter]","special"):stylize("[Getter]","special"):value.__lookupSetter__(key)&&(str=stylize("[Setter]","special"))),visible_keys.indexOf(key)<0&&(name="["+key+"]"),str||(seen.indexOf(value[key])<0?(str=null===recurseTimes?format(value[key]):format(value[key],recurseTimes-1)).indexOf("\n")>-1&&(str=isArray(value)?str.split("\n").map((function(line){return"  "+line})).join("\n").substr(2):"\n"+str.split("\n").map((function(line){return"   "+line})).join("\n")):str=stylize("[Circular]","special")),void 0===name){if("Array"===type&&key.match(/^\d+$/))return str;(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=stylize(name,"string"))}return name+": "+str}));seen.pop();var length=output.reduce((function(prev,cur){return cur.indexOf("\n"),prev+cur.length+1}),0);return output=length>50?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}(obj,void 0===depth?2:depth)},exports.log=function(msg){},exports.pump=null;var Object_keys=Object.keys||function(obj){var res=[];for(var key in obj)res.push(key);return res},Object_getOwnPropertyNames=Object.getOwnPropertyNames||function(obj){var res=[];for(var key in obj)Object.hasOwnProperty.call(obj,key)&&res.push(key);return res},Object_create=Object.create||function(prototype,properties){var object;if(null===prototype)object={__proto__:null};else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != 'object'");var Type=function(){};Type.prototype=prototype,(object=new Type).__proto__=prototype}return void 0!==properties&&Object.defineProperties&&Object.defineProperties(object,properties),object};exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object_create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}})),require.define("events",(function(require,module,exports,__dirname,__filename){process.EventEmitter||(process.EventEmitter=function(){});var EventEmitter=exports.EventEmitter=process.EventEmitter,isArray="function"==typeof Array.isArray?Array.isArray:function(xs){return"[object Array]"===Object.toString.call(xs)};EventEmitter.prototype.setMaxListeners=function(n){this._events||(this._events={}),this._events.maxListeners=n},EventEmitter.prototype.emit=function(type){if("error"===type&&(!this._events||!this._events.error||isArray(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var handler=this._events[type];if(!handler)return!1;if("function"==typeof handler){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:var args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}return!0}if(isArray(handler)){args=Array.prototype.slice.call(arguments,1);for(var listeners=handler.slice(),i=0,l=listeners.length;i<l;i++)listeners[i].apply(this,args);return!0}return!1},EventEmitter.prototype.addListener=function(type,listener){if("function"!=typeof listener)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",type,listener),this._events[type])if(isArray(this._events[type])){var m;this._events[type].warned||(m=void 0!==this._events.maxListeners?this._events.maxListeners:10)&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace()),this._events[type].push(listener)}else this._events[type]=[this._events[type],listener];else this._events[type]=listener;return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){var self=this;return self.on(type,(function g(){self.removeListener(type,g),listener.apply(this,arguments)})),this},EventEmitter.prototype.removeListener=function(type,listener){if("function"!=typeof listener)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[type])return this;var list=this._events[type];if(isArray(list)){var i=list.indexOf(listener);if(i<0)return this;list.splice(i,1),0==list.length&&delete this._events[type]}else this._events[type]===listener&&delete this._events[type];return this},EventEmitter.prototype.removeAllListeners=function(type){return type&&this._events&&this._events[type]&&(this._events[type]=null),this},EventEmitter.prototype.listeners=function(type){return this._events||(this._events={}),this._events[type]||(this._events[type]=[]),isArray(this._events[type])||(this._events[type]=[this._events[type]]),this._events[type]}})),require.define("/node_modules/elementtree/lib/treebuilder.js",(function(require,module,exports,__dirname,__filename){function TreeBuilder(element_factory){this._data=[],this._elem=[],this._last=null,this._tail=null,element_factory||(element_factory=require("./elementtree").Element),this._factory=element_factory}TreeBuilder.prototype.close=function(){return this._last},TreeBuilder.prototype._flush=function(){if(this._data){if(null!==this._last){var text=this._data.join("");this._tail?this._last.tail=text:this._last.text=text}this._data=[]}},TreeBuilder.prototype.data=function(data){this._data.push(data)},TreeBuilder.prototype.start=function(tag,attrs){this._flush();var elem=this._factory(tag,attrs);this._last=elem,this._elem.length&&this._elem[this._elem.length-1].append(elem),this._elem.push(elem),this._tail=null},TreeBuilder.prototype.end=function(tag){if(this._flush(),this._last=this._elem.pop(),this._last.tag!==tag)throw new Error("end tag mismatch");return this._tail=1,this._last},exports.TreeBuilder=TreeBuilder})),require.define("/node_modules/elementtree/lib/parser.js",(function(require,module,exports,__dirname,__filename){require("util");var parsers=require("./parsers/index");exports.get_parser=function(name){if("sax"===name)return parsers.sax;throw new Error("Invalid parser: "+name)}})),require.define("/node_modules/elementtree/lib/parsers/index.js",(function(require,module,exports,__dirname,__filename){exports.sax=require("./sax")})),require.define("/node_modules/elementtree/lib/parsers/sax.js",(function(require,module,exports,__dirname,__filename){require("util");var sax=require("sax"),TreeBuilder=require("./../treebuilder").TreeBuilder;function XMLParser(target){this.parser=sax.parser(!0),this.target=target||new TreeBuilder,this.parser.onopentag=this._handleOpenTag.bind(this),this.parser.ontext=this._handleText.bind(this),this.parser.oncdata=this._handleCdata.bind(this),this.parser.ondoctype=this._handleDoctype.bind(this),this.parser.oncomment=this._handleComment.bind(this),this.parser.onclosetag=this._handleCloseTag.bind(this),this.parser.onerror=this._handleError.bind(this)}XMLParser.prototype._handleOpenTag=function(tag){this.target.start(tag.name,tag.attributes)},XMLParser.prototype._handleText=function(text){this.target.data(text)},XMLParser.prototype._handleCdata=function(text){this.target.data(text)},XMLParser.prototype._handleDoctype=function(text){},XMLParser.prototype._handleComment=function(comment){},XMLParser.prototype._handleCloseTag=function(tag){this.target.end(tag)},XMLParser.prototype._handleError=function(err){throw err},XMLParser.prototype.feed=function(chunk){this.parser.write(chunk)},XMLParser.prototype.close=function(){return this.parser.close(),this.target.close()},exports.XMLParser=XMLParser})),require.define("/node_modules/elementtree/node_modules/sax/package.json",(function(require,module,exports,__dirname,__filename){module.exports={main:"lib/sax.js"}})),require.define("/node_modules/elementtree/node_modules/sax/lib/sax.js",(function(require,module,exports,__dirname,__filename){!function(sax){sax.parser=function(strict,opt){return new SAXParser(strict,opt)},sax.SAXParser=SAXParser,sax.SAXStream=SAXStream,sax.createStream=function(strict,opt){return new SAXStream(strict,opt)},sax.MAX_BUFFER_LENGTH=65536;var buffers=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function SAXParser(strict,opt){if(!(this instanceof SAXParser))return new SAXParser(strict,opt);!function(parser){for(var i=0,l=buffers.length;i<l;i++)parser[buffers[i]]=""}(this),this.q=this.c="",this.bufferCheckPosition=sax.MAX_BUFFER_LENGTH,this.opt=opt||{},this.tagCase=this.opt.lowercasetags?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!strict,this.noscript=!(!strict&&!this.opt.noscript),this.state=S.BEGIN,this.ENTITIES=Object.create(sax.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(rootNS)),this.position=this.line=this.column=0,emit(this,"onready")}sax.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(o){function f(){this.__proto__=o}return f.prototype=o,new f}),Object.getPrototypeOf||(Object.getPrototypeOf=function(o){return o.__proto__}),Object.keys||(Object.keys=function(o){var a=[];for(var i in o)o.hasOwnProperty(i)&&a.push(i);return a}),SAXParser.prototype={end:function(){end(this)},write:function(chunk){if(this.error)throw this.error;if(this.closed)return error(this,"Cannot write after close. Assign an onready handler.");if(null===chunk)return end(this);for(var i=0,c="";this.c=c=chunk.charAt(i++);)switch(this.position++,"\n"===c?(this.line++,this.column=0):this.column++,this.state){case S.BEGIN:"<"===c?this.state=S.OPEN_WAKA:not(whitespace,c)&&(strictFail(this,"Non-whitespace before first tag."),this.textNode=c,this.state=S.TEXT);continue;case S.TEXT:if(this.sawRoot&&!this.closedRoot){for(var starti=i-1;c&&"<"!==c&&"&"!==c;)(c=chunk.charAt(i++))&&(this.position++,"\n"===c?(this.line++,this.column=0):this.column++);this.textNode+=chunk.substring(starti,i-1)}"<"===c?this.state=S.OPEN_WAKA:(!not(whitespace,c)||this.sawRoot&&!this.closedRoot||strictFail("Text data outside of root node."),"&"===c?this.state=S.TEXT_ENTITY:this.textNode+=c);continue;case S.SCRIPT:"<"===c?this.state=S.SCRIPT_ENDING:this.script+=c;continue;case S.SCRIPT_ENDING:"/"===c?(emitNode(this,"onscript",this.script),this.state=S.CLOSE_TAG,this.script="",this.tagName=""):(this.script+="<"+c,this.state=S.SCRIPT);continue;case S.OPEN_WAKA:"!"===c?(this.state=S.SGML_DECL,this.sgmlDecl=""):is(whitespace,c)||(is(nameStart,c)?(this.startTagPosition=this.position-1,this.state=S.OPEN_TAG,this.tagName=c):"/"===c?(this.startTagPosition=this.position-1,this.state=S.CLOSE_TAG,this.tagName=""):"?"===c?(this.state=S.PROC_INST,this.procInstName=this.procInstBody=""):(strictFail(this,"Unencoded <"),this.textNode+="<"+c,this.state=S.TEXT));continue;case S.SGML_DECL:"[CDATA["===(this.sgmlDecl+c).toUpperCase()?(emitNode(this,"onopencdata"),this.state=S.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+c==="--"?(this.state=S.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+c).toUpperCase()?(this.state=S.DOCTYPE,(this.doctype||this.sawRoot)&&strictFail(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===c?(emitNode(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=S.TEXT):is(quote,c)?(this.state=S.SGML_DECL_QUOTED,this.sgmlDecl+=c):this.sgmlDecl+=c;continue;case S.SGML_DECL_QUOTED:c===this.q&&(this.state=S.SGML_DECL,this.q=""),this.sgmlDecl+=c;continue;case S.DOCTYPE:">"===c?(this.state=S.TEXT,emitNode(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=c,"["===c?this.state=S.DOCTYPE_DTD:is(quote,c)&&(this.state=S.DOCTYPE_QUOTED,this.q=c));continue;case S.DOCTYPE_QUOTED:this.doctype+=c,c===this.q&&(this.q="",this.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:this.doctype+=c,"]"===c?this.state=S.DOCTYPE:is(quote,c)&&(this.state=S.DOCTYPE_DTD_QUOTED,this.q=c);continue;case S.DOCTYPE_DTD_QUOTED:this.doctype+=c,c===this.q&&(this.state=S.DOCTYPE_DTD,this.q="");continue;case S.COMMENT:"-"===c?this.state=S.COMMENT_ENDING:this.comment+=c;continue;case S.COMMENT_ENDING:"-"===c?(this.state=S.COMMENT_ENDED,this.comment=textopts(this.opt,this.comment),this.comment&&emitNode(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+c,this.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==c?(strictFail(this,"Malformed comment"),this.comment+="--"+c,this.state=S.COMMENT):this.state=S.TEXT;continue;case S.CDATA:"]"===c?this.state=S.CDATA_ENDING:this.cdata+=c;continue;case S.CDATA_ENDING:"]"===c?this.state=S.CDATA_ENDING_2:(this.cdata+="]"+c,this.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===c?(this.cdata&&emitNode(this,"oncdata",this.cdata),emitNode(this,"onclosecdata"),this.cdata="",this.state=S.TEXT):"]"===c?this.cdata+="]":(this.cdata+="]]"+c,this.state=S.CDATA);continue;case S.PROC_INST:"?"===c?this.state=S.PROC_INST_ENDING:is(whitespace,c)?this.state=S.PROC_INST_BODY:this.procInstName+=c;continue;case S.PROC_INST_BODY:if(!this.procInstBody&&is(whitespace,c))continue;"?"===c?this.state=S.PROC_INST_ENDING:is(quote,c)?(this.state=S.PROC_INST_QUOTED,this.q=c,this.procInstBody+=c):this.procInstBody+=c;continue;case S.PROC_INST_ENDING:">"===c?(emitNode(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=S.TEXT):(this.procInstBody+="?"+c,this.state=S.PROC_INST_BODY);continue;case S.PROC_INST_QUOTED:this.procInstBody+=c,c===this.q&&(this.state=S.PROC_INST_BODY,this.q="");continue;case S.OPEN_TAG:is(nameBody,c)?this.tagName+=c:(newTag(this),">"===c?openTag(this):"/"===c?this.state=S.OPEN_TAG_SLASH:(not(whitespace,c)&&strictFail(this,"Invalid character in tag name"),this.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===c?(openTag(this,!0),closeTag(this)):(strictFail(this,"Forward-slash in opening tag not followed by >"),this.state=S.ATTRIB);continue;case S.ATTRIB:if(is(whitespace,c))continue;">"===c?openTag(this):"/"===c?this.state=S.OPEN_TAG_SLASH:is(nameStart,c)?(this.attribName=c,this.attribValue="",this.state=S.ATTRIB_NAME):strictFail(this,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===c?this.state=S.ATTRIB_VALUE:is(whitespace,c)?this.state=S.ATTRIB_NAME_SAW_WHITE:is(nameBody,c)?this.attribName+=c:strictFail(this,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===c)this.state=S.ATTRIB_VALUE;else{if(is(whitespace,c))continue;strictFail(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",emitNode(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===c?openTag(this):is(nameStart,c)?(this.attribName=c,this.state=S.ATTRIB_NAME):(strictFail(this,"Invalid attribute name"),this.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(is(whitespace,c))continue;is(quote,c)?(this.q=c,this.state=S.ATTRIB_VALUE_QUOTED):(strictFail(this,"Unquoted attribute value"),this.state=S.ATTRIB_VALUE_UNQUOTED,this.attribValue=c);continue;case S.ATTRIB_VALUE_QUOTED:if(c!==this.q){"&"===c?this.state=S.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=c;continue}attrib(this),this.q="",this.state=S.ATTRIB;continue;case S.ATTRIB_VALUE_UNQUOTED:if(not(attribEnd,c)){"&"===c?this.state=S.ATTRIB_VALUE_ENTITY_U:this.attribValue+=c;continue}attrib(this),">"===c?openTag(this):this.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(this.tagName)">"===c?closeTag(this):is(nameBody,c)?this.tagName+=c:(not(whitespace,c)&&strictFail(this,"Invalid tagname in closing tag"),this.state=S.CLOSE_TAG_SAW_WHITE);else{if(is(whitespace,c))continue;not(nameStart,c)?strictFail(this,"Invalid tagname in closing tag."):this.tagName=c}continue;case S.CLOSE_TAG_SAW_WHITE:if(is(whitespace,c))continue;">"===c?closeTag(this):strictFail("Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:switch(this.state){case S.TEXT_ENTITY:var returnState=S.TEXT,buffer="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:returnState=S.ATTRIB_VALUE_QUOTED,buffer="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:returnState=S.ATTRIB_VALUE_UNQUOTED,buffer="attribValue"}";"===c?(this[buffer]+=parseEntity(this),this.entity="",this.state=returnState):is(entity,c)?this.entity+=c:(strictFail("Invalid character entity"),this[buffer]+="&"+this.entity+c,this.entity="",this.state=returnState);continue;default:throw new Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(parser){for(var maxAllowed=Math.max(sax.MAX_BUFFER_LENGTH,10),maxActual=0,i=0,l=buffers.length;i<l;i++){var len=parser[buffers[i]].length;if(len>maxAllowed)switch(buffers[i]){case"textNode":closeText(parser);break;case"cdata":emitNode(parser,"oncdata",parser.cdata),parser.cdata="";break;case"script":emitNode(parser,"onscript",parser.script),parser.script="";break;default:error(parser,"Max buffer length exceeded: "+buffers[i])}maxActual=Math.max(maxActual,len)}parser.bufferCheckPosition=sax.MAX_BUFFER_LENGTH-maxActual+parser.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},end:function(){return this.write(null)}};try{var Stream=require("stream").Stream}catch(ex){Stream=function(){}}var streamWraps=sax.EVENTS.filter((function(ev){return"error"!==ev&&"end"!==ev}));function SAXStream(strict,opt){if(!(this instanceof SAXStream))return new SAXStream(strict,opt);Stream.apply(me),this._parser=new SAXParser(strict,opt),this.writable=!0,this.readable=!0;var me=this;this._parser.onend=function(){me.emit("end")},this._parser.onerror=function(er){me.emit("error",er),me._parser.error=null},streamWraps.forEach((function(ev){Object.defineProperty(me,"on"+ev,{get:function(){return me._parser["on"+ev]},set:function(h){if(!h)return me.removeAllListeners(ev),me._parser["on"+ev]=h;me.on(ev,h)},enumerable:!0,configurable:!1})}))}SAXStream.prototype=Object.create(Stream.prototype,{constructor:{value:SAXStream}}),SAXStream.prototype.write=function(data){return this._parser.write(data.toString()),this.emit("data",data),!0},SAXStream.prototype.end=function(chunk){return chunk&&chunk.length&&this._parser.write(chunk.toString()),this._parser.end(),!0},SAXStream.prototype.on=function(ev,handler){var me=this;return me._parser["on"+ev]||-1===streamWraps.indexOf(ev)||(me._parser["on"+ev]=function(){var args=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);args.splice(0,0,ev),me.emit.apply(me,args)}),Stream.prototype.on.call(me,ev,handler)};var whitespace="\r\n\t ",number="0124356789",letter="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",nameStart=letter+"_:",nameBody=nameStart+number+"-.",quote="'\"",entity=number+letter+"#",attribEnd=whitespace+">",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",rootNS={xml:XML_NAMESPACE,xmlns:"http://www.w3.org/2000/xmlns/"};function charClass(str){return str.split("").reduce((function(s,c){return s[c]=!0,s}),{})}function is(charclass,c){return charclass[c]}function not(charclass,c){return!charclass[c]}whitespace=charClass(whitespace),number=charClass(number),letter=charClass(letter),nameStart=charClass(nameStart),nameBody=charClass(nameBody),quote=charClass(quote),entity=charClass(entity),attribEnd=charClass(attribEnd);var S=0;for(var S in sax.STATE={BEGIN:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_QUOTED:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},sax.ENTITIES={apos:"'",quot:'"',amp:"&",gt:">",lt:"<"},sax.STATE)sax.STATE[sax.STATE[S]]=S;function emit(parser,event,data){parser[event]&&parser[event](data)}function emitNode(parser,nodeType,data){parser.textNode&&closeText(parser),emit(parser,nodeType,data)}function closeText(parser){parser.textNode=textopts(parser.opt,parser.textNode),parser.textNode&&emit(parser,"ontext",parser.textNode),parser.textNode=""}function textopts(opt,text){return opt.trim&&(text=text.trim()),opt.normalize&&(text=text.replace(/\s+/g," ")),text}function error(parser,er){return closeText(parser),er+="\nLine: "+parser.line+"\nColumn: "+parser.column+"\nChar: "+parser.c,er=new Error(er),parser.error=er,emit(parser,"onerror",er),parser}function end(parser){return parser.state!==S.TEXT&&error(parser,"Unexpected end"),closeText(parser),parser.c="",parser.closed=!0,emit(parser,"onend"),SAXParser.call(parser,parser.strict,parser.opt),parser}function strictFail(parser,message){parser.strict&&error(parser,message)}function newTag(parser){parser.strict||(parser.tagName=parser.tagName[parser.tagCase]());var parent=parser.tags[parser.tags.length-1]||parser,tag=parser.tag={name:parser.tagName,attributes:{}};parser.opt.xmlns&&(tag.ns=parent.ns),parser.attribList.length=0}function qname(name){var qualName=name.indexOf(":")<0?["",name]:name.split(":"),prefix=qualName[0],local=qualName[1];return"xmlns"===name&&(prefix="xmlns",local=""),{prefix:prefix,local:local}}function attrib(parser){if(parser.opt.xmlns){var qn=qname(parser.attribName),prefix=qn.prefix,local=qn.local;if("xmlns"===prefix)if("xml"===local&&parser.attribValue!==XML_NAMESPACE)strictFail(parser,"xml: prefix must be bound to "+XML_NAMESPACE+"\nActual: "+parser.attribValue);else if("xmlns"===local&&"http://www.w3.org/2000/xmlns/"!==parser.attribValue)strictFail(parser,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+parser.attribValue);else{var tag=parser.tag,parent=parser.tags[parser.tags.length-1]||parser;tag.ns===parent.ns&&(tag.ns=Object.create(parent.ns)),tag.ns[local]=parser.attribValue}parser.attribList.push([parser.attribName,parser.attribValue])}else parser.tag.attributes[parser.attribName]=parser.attribValue,emitNode(parser,"onattribute",{name:parser.attribName,value:parser.attribValue});parser.attribName=parser.attribValue=""}function openTag(parser,selfClosing){if(parser.opt.xmlns){var tag=parser.tag,qn=qname(parser.tagName);tag.prefix=qn.prefix,tag.local=qn.local,tag.uri=tag.ns[qn.prefix]||qn.prefix,tag.prefix&&!tag.uri&&strictFail(parser,"Unbound namespace prefix: "+JSON.stringify(parser.tagName));var parent=parser.tags[parser.tags.length-1]||parser;tag.ns&&parent.ns!==tag.ns&&Object.keys(tag.ns).forEach((function(p){emitNode(parser,"onopennamespace",{prefix:p,uri:tag.ns[p]})}));for(var i=0,l=parser.attribList.length;i<l;i++){var nv=parser.attribList[i],name=nv[0],value=nv[1],qualName=qname(name),prefix=qualName.prefix,local=qualName.local,uri=tag.ns[prefix]||"",a={name:name,value:value,prefix:prefix,local:local,uri:uri};prefix&&"xmlns"!=prefix&&!uri&&(strictFail(parser,"Unbound namespace prefix: "+JSON.stringify(prefix)),a.uri=prefix),parser.tag.attributes[name]=a,emitNode(parser,"onattribute",a)}parser.attribList.length=0}parser.sawRoot=!0,parser.tags.push(parser.tag),emitNode(parser,"onopentag",parser.tag),selfClosing||(parser.noscript||"script"!==parser.tagName.toLowerCase()?parser.state=S.TEXT:parser.state=S.SCRIPT,parser.tag=null,parser.tagName=""),parser.attribName=parser.attribValue="",parser.attribList.length=0}function closeTag(parser){if(!parser.tagName)return strictFail(parser,"Weird empty close tag."),parser.textNode+="</>",void(parser.state=S.TEXT);var t=parser.tags.length,tagName=parser.tagName;parser.strict||(tagName=tagName[parser.tagCase]());for(var closeTo=tagName;t--&&parser.tags[t].name!==closeTo;)strictFail(parser,"Unexpected close tag");if(t<0)return strictFail(parser,"Unmatched closing tag: "+parser.tagName),parser.textNode+="</"+parser.tagName+">",void(parser.state=S.TEXT);parser.tagName=tagName;for(var s=parser.tags.length;s-- >t;){var tag=parser.tag=parser.tags.pop();parser.tagName=parser.tag.name,emitNode(parser,"onclosetag",parser.tagName);var x={};for(var i in tag.ns)x[i]=tag.ns[i];var parent=parser.tags[parser.tags.length-1]||parser;parser.opt.xmlns&&tag.ns!==parent.ns&&Object.keys(tag.ns).forEach((function(p){var n=tag.ns[p];emitNode(parser,"onclosenamespace",{prefix:p,uri:n})}))}0===t&&(parser.closedRoot=!0),parser.tagName=parser.attribValue=parser.attribName="",parser.attribList.length=0,parser.state=S.TEXT}function parseEntity(parser){var num,entity=parser.entity.toLowerCase(),numStr="";return parser.ENTITIES[entity]?parser.ENTITIES[entity]:("#"===entity.charAt(0)&&("x"===entity.charAt(1)?(entity=entity.slice(2),numStr=(num=parseInt(entity,16)).toString(16)):(entity=entity.slice(1),numStr=(num=parseInt(entity,10)).toString(10))),entity=entity.replace(/^0+/,""),numStr.toLowerCase()!==entity?(strictFail(parser,"Invalid character entity"),"&"+parser.entity+";"):String.fromCharCode(num))}S=sax.STATE}(void 0===exports?sax={}:exports)})),require.define("stream",(function(require,module,exports,__dirname,__filename){var events=require("events");function Stream(){events.EventEmitter.call(this)}require("util").inherits(Stream,events.EventEmitter),module.exports=Stream,Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&!1===options.end||(dest._pipeCount=dest._pipeCount||0,dest._pipeCount++,source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest._pipeCount--,cleanup(),dest._pipeCount>0||dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,dest._pipeCount--,cleanup(),dest._pipeCount>0||dest.destroy())}function onerror(er){if(cleanup(),0===this.listeners("error").length)throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("end",cleanup),dest.removeListener("close",cleanup)}return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("end",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}})),require.define("/node_modules/elementtree/lib/constants.js",(function(require,module,exports,__dirname,__filename){exports.DEFAULT_PARSER="sax"})),require.define("/lib/modularinputs/inputdefinition.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils");function InputDefinition(){this.metadata={},this.inputs={}}InputDefinition.parse=function(str){for(var definition=new InputDefinition,rootChildren=ET.parse(str).getroot().getchildren(),i=0;i<rootChildren.length;i++){var node=rootChildren[i];"configuration"===node.tag?definition.inputs=utils.parseXMLData(node,"stanza"):definition.metadata[node.tag]=node.text}return definition},module.exports=InputDefinition}()})),require.define("/lib/modularinputs/event.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils");function Event(eventConfig){eventConfig=utils.isUndefined(eventConfig)?{}:eventConfig,this.data=utils.isUndefined(eventConfig.data)?null:eventConfig.data,this.done=!!utils.isUndefined(eventConfig.done)||eventConfig.done,this.host=utils.isUndefined(eventConfig.host)?null:eventConfig.host,this.index=utils.isUndefined(eventConfig.index)?null:eventConfig.index,this.source=utils.isUndefined(eventConfig.source)?null:eventConfig.source,this.sourcetype=utils.isUndefined(eventConfig.sourcetype)?null:eventConfig.sourcetype,this.stanza=utils.isUndefined(eventConfig.stanza)?null:eventConfig.stanza,this.unbroken=!!utils.isUndefined(eventConfig.unbroken)||eventConfig.unbroken,this.time=utils.isUndefined(eventConfig.time)?null:eventConfig.time}Event.formatTime=function(time){return time instanceof Date&&(time=time.valueOf()),time&&null!==time?-1!==time.toString().indexOf(".")?(time=parseFloat(time).toFixed(3)).toString().indexOf(".")>=10?parseFloat(time.toString().substring(0,14)).toFixed(3):time.toString().length<=13||time.toString().indexOf(".")<10?parseFloat(time).toFixed(3):(parseFloat(time.toString().substring(0,14))/1e3).toFixed(3):13===time.toString().length?(parseFloat(time)/1e3).toFixed(3):time.toString().length<=12?parseFloat(time).toFixed(3):parseFloat(time.toString().substring(0,13)/1e3).toFixed(3):null},Event.prototype._writeTo=function(stream){if(!this.data)throw new Error("Events must have at least the data field set to be written to XML.");var xmlEvent=ET.Element("event");this.stanza&&xmlEvent.set("stanza",this.stanza),xmlEvent.set("unbroken",(+this.unbroken).toString()),utils.isUndefined(this.time)||null===this.time||(ET.SubElement(xmlEvent,"time").text=Event.formatTime(this.time).toString()),"object"==typeof this.data&&(this.data=JSON.stringify(this.data));for(var subElements=[{tag:"source",text:this.source},{tag:"sourcetype",text:this.sourcetype},{tag:"index",text:this.index},{tag:"host",text:this.host},{tag:"data",text:this.data}],i=0;i<subElements.length;i++){var node=subElements[i];node.text&&(ET.SubElement(xmlEvent,node.tag).text=node.text)}!this.done&&utils.isUndefined(this.done)||ET.SubElement(xmlEvent,"done");var eventString=ET.tostring(xmlEvent,{xml_declaration:!1});stream.write(eventString)},module.exports=Event}()})),require.define("/lib/modularinputs/eventwriter.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils"),Logger=require("./logger");function EventWriter(output,error){this._out=utils.isUndefined(output)?process.stdout:output,this._err=utils.isUndefined(error)?process.stderr:error,this._headerWritten=!1}require("stream"),require("../async"),EventWriter.prototype.writeEvent=function(event){this._headerWritten||(this._out.write("<stream>"),this._headerWritten=!0);try{event._writeTo(this._out)}catch(e){if("Events must have at least the data field set to be written to XML."===e.message)throw Logger.warn("",e.message,this._err),e;throw Logger.error("",e.message,this._err),e}},EventWriter.prototype.writeXMLDocument=function(xmlDocument){var xmlString=ET.tostring(xmlDocument,{xml_declaration:!1});this._out.write(xmlString)},EventWriter.prototype.close=function(){this._out.write("</stream>")},module.exports=EventWriter}()})),require.define("/lib/modularinputs/logger.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";require("./utils");var root=exports||this;root.DEBUG="DEBUG",root.INFO="INFO",root.WARN="WARN",root.ERROR="ERROR",root.FATAL="FATAL",root._log=function(severity,name,message,logStream){logStream=logStream||process.stderr,name&&name.length>0&&(name+=" ");var msg=severity+" Modular input "+name+message+"\n";logStream.write(msg)},root.debug=function(name,message,stream){try{root._log(root.DEBUG,name,message,stream)}catch(e){throw e}},root.info=function(name,message,stream){try{root._log(root.INFO,name,message,stream)}catch(e){throw e}},root.warn=function(name,message,stream){try{root._log(root.WARN,name,message,stream)}catch(e){throw e}},root.error=function(name,message,stream){try{root._log(root.ERROR,name,message,stream)}catch(e){throw e}},root.fatal=function(name,message,stream){try{root._log(root.FATAL,name,message,stream)}catch(e){throw e}},module.exports=root}()})),require.define("/lib/modularinputs/argument.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils");function Argument(argumentConfig){argumentConfig||(argumentConfig={}),this.name=utils.isUndefined(argumentConfig.name)?"":argumentConfig.name,this.description=utils.isUndefined(argumentConfig.description)?null:argumentConfig.description,this.validation=utils.isUndefined(argumentConfig.validation)?null:argumentConfig.validation,this.dataType=utils.isUndefined(argumentConfig.dataType)?Argument.dataTypeString:argumentConfig.dataType,this.requiredOnEdit=!utils.isUndefined(argumentConfig.requiredOnEdit)&&argumentConfig.requiredOnEdit,this.requiredOnCreate=!utils.isUndefined(argumentConfig.requiredOnCreate)&&argumentConfig.requiredOnCreate}Argument.dataTypeBoolean="BOOLEAN",Argument.dataTypeNumber="NUMBER",Argument.dataTypeString="STRING",Argument.prototype.addToDocument=function(parent){var arg=ET.SubElement(parent,"arg");arg.set("name",this.name),this.description&&(ET.SubElement(arg,"description").text=this.description),this.validation&&(ET.SubElement(arg,"validation").text=this.validation);for(var subElements=[{tag:"data_type",value:this.dataType},{tag:"required_on_edit",value:this.requiredOnEdit},{tag:"required_on_create",value:this.requiredOnCreate}],i=0;i<subElements.length;i++)ET.SubElement(arg,subElements[i].tag).text=subElements[i].value.toString().toLowerCase();return arg},module.exports=Argument}()})),require.define("/lib/modularinputs/scheme.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils");function Scheme(title){this.title=utils.isUndefined(title)?"":title,this.description=null,this.useExternalValidation=!0,this.useSingleInstance=!1,this.streamingMode=Scheme.streamingModeXML,this.args=[]}require("./argument"),Scheme.streamingModeSimple="SIMPLE",Scheme.streamingModeXML="XML",Scheme.prototype.addArgument=function(arg){arg&&this.args.push(arg)},Scheme.prototype.toXML=function(){var root=ET.Element("scheme");ET.SubElement(root,"title").text=this.title,this.description&&(ET.SubElement(root,"description").text=this.description);for(var subElements=[{tag:"use_external_validation",value:this.useExternalValidation},{tag:"use_single_instance",value:this.useSingleInstance},{tag:"streaming_mode",value:this.streamingMode}],i=0;i<subElements.length;i++)ET.SubElement(root,subElements[i].tag).text=subElements[i].value.toString().toLowerCase();for(var argsElement=ET.SubElement(ET.SubElement(root,"endpoint"),"args"),j=0;j<this.args.length;j++)this.args[j].addToDocument(argsElement);return root},module.exports=Scheme}()})),require.define("/lib/modularinputs/modularinput.js",(function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),url=require("url"),utils=require("./utils"),Async=require("../async"),ValidationDefinition=require("./validationdefinition"),InputDefinition=require("./inputdefinition"),Service=(require("./eventwriter"),require("./scheme"),require("../service")),Logger=require("./logger");function ModularInput(){this._inputDefinition=null,this._service=null}ModularInput.runScript=function(exports,args,eventWriter,inputStream,callback){exports.setup=exports.setup||ModularInput.prototype.setup,exports.start=exports.start||ModularInput.prototype.start,exports.end=exports.end||ModularInput.prototype.end,exports.teardown=exports.teardown||ModularInput.prototype.teardown;var that=this;inputStream.resume&&inputStream.resume();var bigBuff=new Buffer(0);if(1===args.length){var inputDefintionsReceivedTimer=setTimeout((function(){callback(new Error("Receiving input definitions prior to streaming timed out."),1)}),30500);inputStream.on("data",(function(chunk){var bufferString=(bigBuff=Buffer.concat([bigBuff,chunk])).toString("utf8",0,bigBuff.length).trim();if(utils.endsWith(bufferString,"</input>")){clearTimeout(inputDefintionsReceivedTimer);var found=InputDefinition.parse(bufferString);exports._inputDefinition=found,that._inputDefinition=found,Async.chain([function(done){Async.parallelEach(Object.keys(exports._inputDefinition.inputs),(function(name,index,doneEach){var input=exports._inputDefinition.inputs[name];Async.chain([function(innerDone){exports.start(name,input,innerDone)},function(innerDone){exports.streamEvents(name,input,eventWriter,innerDone)},function(innerDone){exports.end(name,input,innerDone)}],(function(innerErr){doneEach(innerErr,innerErr?1:0)}))}),(function(streamErr){done(streamErr,streamErr?1:0)}))}],(function(err){eventWriter._headerWritten&&eventWriter.close(),callback(err,err?1:0)}))}}))}else if(args.length>=2&&"--scheme"===args[1].toString().toLowerCase()){var scheme=exports.getScheme();if(scheme)try{eventWriter.writeXMLDocument(scheme.toXML()),callback(null,0)}catch(e){Logger.fatal("","script could not return the scheme, error: "+e,eventWriter._err),callback(e,1)}else Logger.fatal("","script returned a null scheme.",eventWriter._err),callback(null,1)}else if(args.length>=2&&"--validate-arguments"===args[1].toString().toLowerCase()){var validationDefintionReceivedTimer=setTimeout((function(){callback(new Error("Receiving validation definition prior to validating timed out."),1)}),30500);inputStream.on("data",(function(chunk){var bufferString=(bigBuff=Buffer.concat([bigBuff,chunk])).toString("utf8",0,bigBuff.length).trim();utils.endsWith(bufferString,"</items>")&&(clearTimeout(validationDefintionReceivedTimer),Async.chain([function(done){try{if(utils.isUndefined(exports.validateInput))done();else{var definition=ValidationDefinition.parse(bigBuff.toString("utf8",0,bigBuff.length));exports.validateInput(definition,done)}}catch(e){done(e)}}],(function(err){if(err){Logger.error("",err.message),Logger.error("","Stack trace for a modular input error: "+err.stack);try{var errorRoot=ET.Element("error");ET.SubElement(errorRoot,"message").text=err.message,eventWriter.writeXMLDocument(errorRoot),callback(err,1)}catch(e){callback(e,1)}}else callback(null,0)})))}))}else{var msg="Invalid arguments to modular input script: "+args.join()+"\n";Logger.error("",msg,eventWriter._err),callback(msg,1)}},ModularInput.service=function(){if(this._service)return this._service;if(!this._inputDefinition)return null;var splunkdURI=this._inputDefinition.metadata.server_uri,sessionKey=this._inputDefinition.metadata.session_key,urlParts=url.parse(splunkdURI),scheme=urlParts.protocol.replace(":",""),splunkdHost=urlParts.hostname,splunkdPort=urlParts.port;return this._service=new Service({scheme:scheme,host:splunkdHost,port:splunkdPort,token:sessionKey}),this._service},ModularInput.prototype.setup=function(done){done()},ModularInput.prototype.start=function(name,definition,done){done()},ModularInput.prototype.end=function(name,definition,done){done()},ModularInput.prototype.teardown=function(done){done()},module.exports=ModularInput}()})),require.define("url",(function(require,module,exports,__dirname,__filename){var punycode_encode=function(s){return s};exports.parse=urlParse,exports.resolve=function(source,relative){return urlFormat(urlResolveObject(source,relative))},exports.resolveObject=urlResolveObject,exports.format=urlFormat;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]+$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","~","[","]","`"].concat(delims),autoEscape=["'"],nonHostChars=["%","/","?",";","#"].concat(unwise).concat(autoEscape),nonAuthChars=["/","@","?","#"].concat(delims),hostnamePartPattern=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,hostnamePartStart=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&"object"==typeof url&&url.href)return url;if("string"!=typeof url)throw new TypeError("Parameter 'url' must be a string, not "+typeof url);for(var out={},rest=url,i=0,l=rest.length;i<l&&-1!==delims.indexOf(rest.charAt(i));i++);0!==i&&(rest=rest.substr(i));var proto=protocolPattern.exec(rest);if(proto){var lowerProto=(proto=proto[0]).toLowerCase();out.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),out.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var atSign=rest.indexOf("@");if(-1!==atSign){var hasAuth=!0;for(i=0,l=nonAuthChars.length;i<l;i++)if(-1!==(index=rest.indexOf(nonAuthChars[i]))&&index<atSign){hasAuth=!1;break}hasAuth&&(out.auth=rest.substr(0,atSign),rest=rest.substr(atSign+1))}var firstNonHost=-1;for(i=0,l=nonHostChars.length;i<l;i++){var index;-1!==(index=rest.indexOf(nonHostChars[i]))&&(firstNonHost<0||index<firstNonHost)&&(firstNonHost=index)}-1!==firstNonHost?(out.host=rest.substr(0,firstNonHost),rest=rest.substr(firstNonHost)):(out.host=rest,rest="");var p=function(host){var out={},port=portPattern.exec(host);return port&&(port=port[0],out.port=port.substr(1),host=host.substr(0,host.length-port.length)),host&&(out.hostname=host),out}(out.host),keys=Object.keys(p);for(i=0,l=keys.length;i<l;i++){var key=keys[i];out[key]=p[key]}if(out.hostname=out.hostname||"",out.hostname.length>255)out.hostname="";else{var hostparts=out.hostname.split(/\./);for(i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),out.hostname=validParts.join(".");break}}}}out.hostname=out.hostname.toLowerCase();var domainArray=out.hostname.split("."),newOut=[];for(i=0;i<domainArray.length;++i){var s=domainArray[i];newOut.push(s.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode_encode(s):s)}out.hostname=newOut.join("."),out.host=(out.hostname||"")+(out.port?":"+out.port:""),out.href+=out.host}if(!unsafeProtocol[lowerProto]){for(i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i],esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}var chop=rest.length;for(i=0,l=delims.length;i<l;i++){var c=rest.indexOf(delims[i]);-1!==c&&(chop=Math.min(c,chop))}rest=rest.substr(0,chop)}var hash=rest.indexOf("#");-1!==hash&&(out.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");return-1!==qm?(out.search=rest.substr(qm),out.query=rest.substr(qm+1),parseQueryString&&(out.query=querystring.parse(out.query)),rest=rest.slice(0,qm)):parseQueryString&&(out.search="",out.query={}),rest&&(out.pathname=rest),slashedProtocol[proto]&&out.hostname&&!out.pathname&&(out.pathname="/"),(out.pathname||out.search)&&(out.path=(out.pathname?out.pathname:"")+(out.search?out.search:"")),out.href=urlFormat(out),out}function urlFormat(obj){"string"==typeof obj&&(obj=urlParse(obj));var auth=obj.auth||"";if(auth){auth=auth.split("@").join("%40");for(var i=0,l=nonAuthChars.length;i<l;i++){var nAC=nonAuthChars[i];auth=auth.split(nAC).join(encodeURIComponent(nAC))}auth+="@"}var protocol=obj.protocol||"",host=void 0!==obj.host?auth+obj.host:void 0!==obj.hostname&&auth+obj.hostname+(obj.port?":"+obj.port:""),pathname=obj.pathname||"",query=obj.query&&("object"==typeof obj.query&&Object.keys(obj.query).length?querystring.stringify(obj.query):"")||"",search=obj.search||query&&"?"+query||"",hash=obj.hash||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),obj.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+pathname+search+hash}function urlResolveObject(source,relative){if(!source)return relative;if(source=urlParse(urlFormat(source),!1,!0),relative=urlParse(urlFormat(relative),!1,!0),source.hash=relative.hash,""===relative.href)return source.href=urlFormat(source),source;if(relative.slashes&&!relative.protocol)return relative.protocol=source.protocol,slashedProtocol[relative.protocol]&&relative.hostname&&!relative.pathname&&(relative.path=relative.pathname="/"),relative.href=urlFormat(relative),relative;if(relative.protocol&&relative.protocol!==source.protocol){if(!slashedProtocol[relative.protocol])return relative.href=urlFormat(relative),relative;if(source.protocol=relative.protocol,!relative.host&&!hostlessProtocol[relative.protocol]){for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),relative.pathname=relPath.join("/")}return source.pathname=relative.pathname,source.search=relative.search,source.query=relative.query,source.host=relative.host||"",source.auth=relative.auth,source.hostname=relative.hostname||relative.host,source.port=relative.port,void 0===source.pathname&&void 0===source.search||(source.path=(source.pathname?source.pathname:"")+(source.search?source.search:"")),source.slashes=source.slashes||relative.slashes,source.href=urlFormat(source),source}var isSourceAbs=source.pathname&&"/"===source.pathname.charAt(0),isRelAbs=void 0!==relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||source.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=source.pathname&&source.pathname.split("/")||[],psychotic=(relPath=relative.pathname&&relative.pathname.split("/")||[],source.protocol&&!slashedProtocol[source.protocol]);if(psychotic&&(delete source.hostname,delete source.port,source.host&&(""===srcPath[0]?srcPath[0]=source.host:srcPath.unshift(source.host)),delete source.host,relative.protocol&&(delete relative.hostname,delete relative.port,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),delete relative.host),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)source.host=relative.host||""===relative.host?relative.host:source.host,source.hostname=relative.hostname||""===relative.hostname?relative.hostname:source.hostname,source.search=relative.search,source.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),source.search=relative.search,source.query=relative.query;else if("search"in relative)return psychotic&&(source.hostname=source.host=srcPath.shift(),(authInHost=!!(source.host&&source.host.indexOf("@")>0)&&source.host.split("@"))&&(source.auth=authInHost.shift(),source.host=source.hostname=authInHost.shift())),source.search=relative.search,source.query=relative.query,void 0===source.pathname&&void 0===source.search||(source.path=(source.pathname?source.pathname:"")+(source.search?source.search:"")),source.href=urlFormat(source),source;if(!srcPath.length)return delete source.pathname,source.search?delete source.path:source.path="/"+source.search,source.href=urlFormat(source),source;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(source.host||relative.host)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)"."==(last=srcPath[i])?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var authInHost,isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);return psychotic&&(source.hostname=source.host=isAbsolute?"":srcPath.length?srcPath.shift():"",(authInHost=!!(source.host&&source.host.indexOf("@")>0)&&source.host.split("@"))&&(source.auth=authInHost.shift(),source.host=source.hostname=authInHost.shift())),(mustEndAbs=mustEndAbs||source.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),source.pathname=srcPath.join("/"),void 0===source.pathname&&void 0===source.search||(source.path=(source.pathname?source.pathname:"")+(source.search?source.search:"")),source.auth=relative.auth||source.auth,source.slashes=source.slashes||relative.slashes,source.href=urlFormat(source),source}})),require.define("querystring",(function(require,module,exports,__dirname,__filename){var isArray="function"==typeof Array.isArray?Array.isArray:function(xs){return"[object Array]"===Object.toString.call(xs)};
/*!
 * querystring
 * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>
 * MIT Licensed
 */exports.version="0.3.1";var toString=Object.prototype.toString,notint=/[^0-9]/;exports.parse=function(str){if(null==str||""==str)return{};function promote(parent,key){if(0==parent[key].length)return parent[key]={};var t={};for(var i in parent[key])t[i]=parent[key][i];return parent[key]=t,t}return String(str).split("&").reduce((function(ret,pair){try{pair=decodeURIComponent(pair.replace(/\+/g," "))}catch(e){}var eql=pair.indexOf("="),brace=function(str){for(var brace,c,len=str.length,i=0;i<len;++i)if("]"==(c=str[i])&&(brace=!1),"["==c&&(brace=!0),"="==c&&!brace)return i}(pair),key=pair.substr(0,brace||eql),val=(val=pair.substr(brace||eql,pair.length)).substr(val.indexOf("=")+1,val.length),parent=ret;if(""==key&&(key=pair,val=""),~key.indexOf("]")){var parts=key.split("[");parts.length,function parse(parts,parent,key){var part=parts.shift();part?(obj=parent[key]=parent[key]||[],"]"==part?isArray(obj)?""!=val&&obj.push(val):"object"==typeof obj?obj[Object.keys(obj).length]=val:obj=parent[key]=[parent[key],val]:~part.indexOf("]")?(part=part.substr(0,part.length-1),notint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part)):(notint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part))):isArray(parent[key])?parent[key].push(val):"object"==typeof parent[key]||void 0===parent[key]?parent[key]=val:parent[key]=[parent[key],val]}(parts,parent,"base")}else{if(notint.test(key)&&isArray(parent.base)){var t={};for(var k in parent.base)t[k]=parent.base[k];parent.base=t}!function(obj,key,val){var v=obj[key];void 0===v?obj[key]=val:isArray(v)?v.push(val):obj[key]=[v,val]}(parent.base,key,val)}return ret}),{base:{}}).base};var stringify=exports.stringify=function(obj,prefix){return isArray(obj)?function(arr,prefix){var ret=[];if(!prefix)throw new TypeError("stringify expects an object");for(var i=0;i<arr.length;i++)ret.push(stringify(arr[i],prefix+"[]"));return ret.join("&")}(obj,prefix):"[object Object]"==toString.call(obj)?function(obj,prefix){for(var key,ret=[],keys=Object.keys(obj),i=0,len=keys.length;i<len;++i)key=keys[i],ret.push(stringify(obj[key],prefix?prefix+"["+encodeURIComponent(key)+"]":encodeURIComponent(key)));return ret.join("&")}(obj,prefix):"string"==typeof obj?function(str,prefix){if(!prefix)throw new TypeError("stringify expects an object");return prefix+"="+encodeURIComponent(str)}(obj,prefix):prefix}})),require.define("/lib/platform/client/jquery_http.js",(function(require,module,exports,__dirname,__filename){!function(){var Http=require("../../http"),utils=require("../../utils"),getHeaders=function(headersString){for(var headers={},headerLines=headersString.split("\n"),i=0;i<headerLines.length;i++)if(""!==utils.trim(headerLines[i])){var headerParts=headerLines[i].split(": ");headers[headerParts[0]]=headerParts[1]}return headers};(exports||this).JQueryHttp=Http.extend({init:function(isSplunk){this._super(isSplunk)},makeRequest:function(url,message,callback){var that=this,params={url:url,type:message.method,headers:message.headers,data:message.body||"",timeout:message.timeout||0,dataType:"json",success:utils.bind(this,(function(data,error,res){var response={statusCode:res.status,headers:getHeaders(res.getAllResponseHeaders())},complete_response=this._buildResponse(error,response,data);callback(complete_response)})),error:function(res,data,error){var response={statusCode:res.status,headers:getHeaders(res.getAllResponseHeaders())};"abort"===data&&(response.statusCode="abort",res.responseText="{}");var json=JSON.parse(res.responseText),complete_response=that._buildResponse(error,response,json);callback(complete_response)}};return $.ajax(params)},parseJson:function(json){return json}})}()})),require.define("/lib/platform/client/proxy_http.js",(function(require,module,exports,__dirname,__filename){!function(){var Http=require("../../http"),utils=require("../../utils"),root=exports||this,getHeaders=function(headersString){for(var headers={},headerLines=headersString.split("\n"),i=0;i<headerLines.length;i++)if(""!==utils.trim(headerLines[i])){var headerParts=headerLines[i].split(": ");headers[headerParts[0]]=headerParts[1]}return headers};function parseUri(str){for(var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;i--;)uri[o.key[i]]=m[i]||"";return uri[o.q.name]={},uri[o.key[12]].replace(o.q.parser,(function($0,$1,$2){$1&&(uri[o.q.name][$1]=$2)})),uri}parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var specials=/[.*+?|()\[\]{}\\$\^]/g;root.ProxyHttp=Http.extend({init:function(prefix){this.prefix=prefix,this._super()},makeRequest:function(url,message,callback){message.headers["X-ProxyDestination"]=url;var parsed=parseUri(url),prefixToRemove=(parsed.protocol?parsed.protocol:"")+"://"+parsed.authority;url=url.replace(new RegExp(function(str){return(str=str||"").replace(specials,"\\$&")}(prefixToRemove),"i"),""),url=this.prefix+url;var that=this,params={url:url,type:message.method,headers:message.headers,data:message.body||"",timeout:message.timeout||0,dataType:"text",success:function(data,error,res){if(!req.wasAborted){var response={statusCode:res.status,headers:getHeaders(res.getAllResponseHeaders())},complete_response=that._buildResponse(error,response,data);callback(complete_response)}},error:function(res,data,error){if(!req.wasAborted){var response={statusCode:res.status,headers:getHeaders(res.getAllResponseHeaders())};"abort"===data&&(response.statusCode="abort",res.responseText="{}");var json=res.responseText,complete_response=that._buildResponse(error,response,json);callback(complete_response),"abort"===data&&(req.wasAborted=!0)}}},req=$.ajax(params);return req},parseJson:function(json){return JSON.parse(json)}}),root.SplunkWebHttp=root.ProxyHttp.extend({init:function(){this._super("/en-US/splunkd/__raw")}})}()})),require.define("/lib/entries/browser.ui.entry.js",(function(require,module,exports,__dirname,__filename){!function(exportName){var $script=require("../../contrib/script");window.splunkjs||(window.splunkjs={}),window.splunkjs.UI||(window.splunkjs.UI={});var UI=window.splunkjs.UI,token=0,loadComponent=function(path,token,callback){if(!path)throw new Error("Must specify a path to load from.");$script(path,token,callback=callback||function(){})};UI.loadTimeline=function(path,callback){var timelineToken="timeline"+token++;return loadComponent(path,timelineToken,callback),timelineToken},UI.loadCharting=function(path,callback){var chartToken="charting"+token++;return loadComponent(path,chartToken,callback),chartToken},UI.load=function(paths,callback){if(!paths)throw new Error("Must specify paths to load components from");callback=callback||function(){};var token="all"+token++;return $script(paths,token,(function(){callback()})),token},UI.ready=function(token,callback){callback=callback||function(){},$script.ready(token,callback)}}()})),require.define("/contrib/script.js",(function(require,module,exports,__dirname,__filename){
/*!
  * $script.js Async loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz, Jacob Thornton 2011
  * License: MIT
  */
!function(a,b){void 0!==module?module.exports=b():this.$script=b()}(0,(function(){function s(a,b,c){for(c=0,j=a.length;c<j;++c)if(!b(a[c]))return m;return 1}function t(a,b){s(a,(function(a){return!b(a)}))}function u(a,b,c){function o(a){return a.call?a():f[a]}function p(){if(!--m)for(var a in f[l]=1,j&&j(),h)s(a.split("|"),o)&&!t(h[a],o)&&(h[a]=[])}a=a[n]?a:[a];var e=b&&b.call,j=e?b:c,l=e?a.join(""):b,m=a.length;return setTimeout((function(){t(a,(function(a){if(k[a])return l&&(g[l]=1),2==k[a]&&p();k[a]=1,l&&(g[l]=1),v(!d.test(a)&&i?i+a+".js":a,p)}))}),0),u}function v(a,d){var e=b.createElement("script"),f=m;e.onload=e.onerror=e[r]=function(){e[p]&&!/^c|loade/.test(e[p])||f||(e.onload=e[r]=null,f=1,k[a]=2,d())},e.async=1,e.src=a,c.insertBefore(e,c.firstChild)}var i,a=this,b=document,c=b.getElementsByTagName("head")[0],d=/^https?:\/\//,e=a.$script,f={},g={},h={},k={},m=!1,n="push",o="DOMContentLoaded",p="readyState",q="addEventListener",r="onreadystatechange";return!b[p]&&b[q]&&(b[q](o,(function w(){b.removeEventListener(o,w,m),b[p]="complete"}),m),b[p]="loading"),u.get=v,u.order=function(a,b,c){!function d(e){e=a.shift(),a.length?u(e,d):u(e,b,c)}()},u.path=function(a){i=a},u.ready=function(a,b,c){a=a[n]?a:[a];var d=[];return!t(a,(function(a){f[a]||d[n](a)}))&&s(a,(function(a){return f[a]}))?b():function(a){h[a]=h[a]||[],h[a][n](b),c&&c(d)}(a.join("|")),u},u.noConflict=function(){return a.$script=e,this},u}))})),require.define("/browser.entry.js",(function(require,module,exports,__dirname,__filename){var previousSplunk,ourSplunk,jqueryHttp,proxyHttps,proxyHttp,splunkwebHttp;previousSplunk=window.splunkjs,ourSplunk=require("../../index"),jqueryHttp=require("../../lib/platform/client/jquery_http").JQueryHttp,proxyHttps=require("../../lib/platform/client/proxy_http"),proxyHttp=proxyHttps.ProxyHttp,splunkwebHttp=proxyHttps.SplunkWebHttp,window.splunkjs=ourSplunk,window.splunkjs.ProxyHttp=proxyHttp,window.splunkjs.JQueryHttp=jqueryHttp,window.splunkjs.SplunkWebHttp=splunkwebHttp,window.splunkjs.noConflict=function(name){return window.splunkjs=previousSplunk,ourSplunk},require("../../lib/entries/browser.ui.entry")})),require("/browser.entry.js")}).call(this,__webpack_require__(1),__webpack_require__(2).Buffer)},"startupjs/src/contrib/ui.spinner":function(module,exports){!function($){var hover="ui-state-hover",active="ui-state-active",uiSpinnerClasses="ui-spinner ui-state-default ui-widget ui-widget-content ui-corner-all ";$.widget("ui.spinner",{_init:function(){this._initOptions(),this.value(this._parse(this.element.val()||this.options.value)),this._draw(),this._mousewheel(),"show"!==this.options.buttons&&this.buttons.hide(),this._aria()},_initOptions:function(){var options=this.options,precision=parseInt(options.precision,10);if(-1!=this._step().toString().indexOf(".")&&0===precision){var s=this._step().toString();precision=s.slice(s.indexOf(".")+1,s.length).length}options.currency&&(precision=2,options.radix=10,options.groupSeparator=options.groupSeparator||(","===options.radixPoint?"":",")),options.precision=precision},_draw:function(){var self=this,options=self.options,uiSpinner=self.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(self._uiSpinnerHtml()).parent().append(self._buttonHtml()).hover((function(){options.disabled||$(this).addClass(hover),self.hovered=!0,self._hide(!1)}),(function(){$(this).removeClass(hover),self.hovered=!1,self._hide(!0)}));!$.support.opacity&&"inline-block"==uiSpinner.css("display")&&$.browser.version<8&&uiSpinner.css("display","inline"),this.element.attr("id",(function(){this.id&&uiSpinner.attr("id","ui-spinner-"+this.id)})).bind("keydown.spinner",(function(event){return!!self._start(event)&&self._keydown(event)})).bind("keyup.spinner",(function(event){self.spinning&&(self._stop(event),self._change(event))})).bind("focus.spinner",(function(){uiSpinner.addClass(active),self.focused=!0})).bind("blur.spinner",(function(event){self._value(self.element.val()),self.hovered||uiSpinner.removeClass(active),self.focused=!1})),options.width&&this.element.width(options.width),options.disabled&&this.disable(),this.buttons=uiSpinner.find(".ui-spinner-button").bind("mousedown",(function(event){if(!1===self._start(event))return!1;self._repeat(null,$(this).hasClass("ui-spinner-up")?1:-1,event),self.options.disabled||($(this).addClass(active),uiSpinner.addClass(active))})).bind("mouseup",(function(event){1==self.counter&&self._spin(($(this).hasClass("ui-spinner-up")?1:-1)*self._step(),event),self.spinning&&(self._stop(event),self._change(event)),$(this).removeClass(active)})).hover((function(){self.options.disabled||$(this).addClass(hover)}),(function(event){$(this).removeClass(active+" "+hover),self.timer&&self.spinning&&(self._stop(event),self._change(event))})),self.uiSpinner=uiSpinner},_uiSpinnerHtml:function(){return'<div role="spinbutton" class="'+uiSpinnerClasses+(this.options.spinnerClass||"")+" ui-spinner-"+this.options.dir+'"></div>'},_buttonHtml:function(){return'<a class="ui-spinner-button ui-spinner-up ui-state-default ui-corner-t'+this.options.dir.substr(-1,1)+'"><span class="ui-icon ui-icon-triangle-1-n">&#9650;</span></a><a class="ui-spinner-button ui-spinner-down ui-state-default ui-corner-b'+this.options.dir.substr(-1,1)+'"><span class="ui-icon ui-icon-triangle-1-s">&#9660;</span></a>'},_start:function(event){return!this.spinning&&!1!==this._trigger("start",event,{value:this.value()})&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_spin:function(step,event){if(!this.options.disabled){this.counter||(this.counter=1);var newVal=this._value()+step*(this.options.incremental&&this.counter>100?this.counter>200?100:10:1);!1!==this._trigger("spin",event,{value:newVal})&&(this._value(newVal),this.counter++)}},_stop:function(event){this.counter=0,this.timer&&window.clearInterval(this.timer),this.element[0].focus(),this.spinning=!1,this._trigger("stop",event)},_change:function(event){this._trigger("change",event)},_repeat:function(i,steps,event){var self=this;i=i||100,this.timer&&window.clearInterval(this.timer),this.timer=window.setInterval((function(){self._repeat(self.options.incremental&&self.counter>20?20:i,steps,event)}),i),self._spin(steps*self._step(),event)},_keydown:function(event){var o=this.options,KEYS=$.ui.keyCode;switch(event.keyCode){case KEYS.UP:this._repeat(null,event.shiftKey?o.page:1,event);break;case KEYS.DOWN:this._repeat(null,event.shiftKey?-o.page:-1,event);break;case KEYS.PAGE_UP:this._repeat(null,o.page,event);break;case KEYS.PAGE_DOWN:this._repeat(null,-o.page,event);break;case KEYS.HOME:this._value(this._min());break;case KEYS.END:this._value(this._max());break;case KEYS.TAB:case KEYS.BACKSPACE:case KEYS.LEFT:case KEYS.RIGHT:case KEYS.PERIOD:case KEYS.NUMPAD_DECIMAL:case KEYS.NUMPAD_SUBTRACT:return!0;case KEYS.ENTER:return this.value(this.element.val()),!0;default:if(event.keyCode>=96&&event.keyCode<=105||new RegExp("["+this._validChars()+"]","i").test(String.fromCharCode(event.keyCode)))return!0}return!1},_mousewheel:function(){var self=this;$.fn.mousewheel&&self.options.mouseWheel&&this.element.mousewheel((function(event,delta){if(delta=$.browser.opera?-delta/Math.abs(delta):delta,!self._start(event))return!1;self._spin((delta>0?1:-1)*self._step(),event),self.timeout&&window.clearTimeout(self.timeout),self.timeout=window.setTimeout((function(){self.spinning&&(self._stop(event),self._change(event))}),400),event.preventDefault()}))},_value:function(newVal){if(!arguments.length)return this._parse(this.element.val());this._setData("value",newVal)},_getData:function(key){switch(key){case"min":case"max":case"step":return this["_"+key]()}return $.widget.prototype._getData.call(this,key)},_setData:function(key,value){switch(key){case"value":(value=this._parse(value))<this._min()&&(value=this._min()),value>this._max()&&(value=this._max());break;case"spinnerClass":this.uiSpinner.removeClass(this.options.spinnerClass).addClass(uiSpinnerClasses+value)}$.widget.prototype._setData.call(this,key,value),this._afterSetData(key,value),this._aria()},_afterSetData:function(key,value){switch(key){case"buttons":this._hide("hide");break;case"max":case"min":case"step":null!=value&&this.element.attr(key)&&this.element.attr(key,value);break;case"width":this.element.width(value);break;case"precision":case"value":this._format(this._parse(this.options.value))}},_aria:function(){this.uiSpinner&&this.uiSpinner.attr("aria-valuemin",this._min()).attr("aria-valuemax",this._max()).attr("aria-valuenow",this.value())},_validChars:function(){var radix=parseInt(this.options.radix);return"\\-\\"+this.options.radixPoint+(this.options.groupSeparator?"\\"+this.options.groupSeparator:"")+(radix<10?"0-"+radix:"0-9"+(radix>10?"a-"+String.fromCharCode("a".charCodeAt(0)+radix-11):""))},_parse:function(val){return"string"==typeof val&&(this.options.groupSeparator&&(val=val.replace(new RegExp("\\"+this.options.groupSeparator,"g"),"")),val=val.replace(new RegExp("[^"+this._validChars()+"]","gi"),"").split(this.options.radixPoint),result=parseInt("-"==val[0]?0:val[0]||0,this.options.radix),val.length>1&&(result+=parseInt(val[1],this.options.radix)/Math.pow(this.options.radix,val[1].length)*("-"==val[0].substr(0,1)?-1:1)),val=result),isNaN(val)?null:val},_format:function(num){var regex=/(\d+)(\d{3})/,options=this.options,sym=options.currency||"",dec=options.precision,radix=options.radix,group=options.groupSeparator,pt=options.radixPoint,neg=num<0?"-":"";for(num=(isNaN(num)?options.value:10===radix?parseFloat(num,radix).toFixed(dec):parseInt(num,radix)).toString(radix).replace(".",pt);regex.test(num)&&group;num=num.replace(regex,"$1"+group+"$2"));for(result=num.replace("-","");options.padding&&result.length<options.padding;)result="0"+result;this.element.val(neg+sym+result)},_hide:function(hide){if("show"!==this.options.buttons)if("hide"!==this.options.buttons){var self=this,speed="auto"===this.options.buttons?400:this.options.buttons;this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){self.buttons.animate({opacity:hide?"hide":"show"},speed)}),200)}else this.buttons.hide();else this.buttons.show()},_getOption:function(key,defaultValue){return this._parse(null!==this.options[key]?this.options[key]:this.element.attr(key)?this.element.attr(key):defaultValue)},_step:function(newVal){if(!arguments.length)return this._getOption("step",1);this._setData("step",newVal)},_min:function(newVal){if(!arguments.length)return this._getOption("min",-Number.MAX_VALUE);this._setData("min",newVal)},_max:function(newVal){if(!arguments.length)return this._getOption("max",Number.MAX_VALUE);this._setData("max",newVal)},destroy:function(){if($.fn.mousewheel&&this.element.unmousewheel(),this.element.removeClass("ui-spinner-input").removeAttr("disabled").removeAttr("autocomplete").removeData("spinner").unbind(".spinner"),this.uiSpinner){if(null==this.uiSpinner.parent()[0])return this.element.clone(!0);this.uiSpinner.replaceWith(this.element)}},enable:function(){this.element.removeAttr("disabled").siblings().removeAttr("disabled").parent().removeClass("ui-spinner-disabled ui-state-disabled"),this.options.disabled=!1},disable:function(){this.element.attr("disabled",!0).siblings().attr("disabled",!0).parent().addClass("ui-spinner-disabled ui-state-disabled"),this.options.disabled=!0},value:function(newVal){if(!arguments.length)return this._value();this._value(newVal)},stepUp:function(steps){return this._spin((steps||1)*this._step(),null),this},stepDown:function(steps){return this._spin((steps||1)*-this._step(),null),this},pageUp:function(pages){return this.stepUp((pages||1)*this.options.page)},pageDown:function(pages){return this.stepDown((pages||1)*this.options.page)}}),$.extend($.ui.spinner,{version:"@VERSION",eventPrefix:"spin",defaults:{buttons:"show",currency:!1,dir:"ltr",groupSeparator:"",incremental:!0,max:null,min:null,mouseWheel:!0,padding:0,page:5,precision:0,radix:10,radixPoint:".",spinnerClass:null,step:null,value:0,width:!1}})}(jQuery)},"startupjs/src/dashboard":function(module,exports){Splunk.DashboardManager=$.klass({dateDict:{},NOW_REFRESHED_TIME:_("<b>real-time</b>"),TODAY_REFRESHED_TIME:_("today at %(timeText)s."),GENERIC_REFRESHED_TIME:_("<b>%(dateText)s ago</b>"),FULL_REFRESHED_TIME:_("refreshed: %(dateText)s"),DISPLAY_REFLOW_EVENT:"Splunk.Events.REDRAW",PANEL_DROP_EVENT:"Splunk.Events.PANEL_DROP",windowWidth:$(window).width(),initialize:function(){$(document).bind("jobResurrected",this.onJobExists.bind(this)),$(document).bind("jobDispatched",this.onJobExists.bind(this)),$(document).bind("jobProgress",this.onJobProgress.bind(this));var that=this;this.titleHeaders=$(".layoutCell .splHeader h2"),this.handlePanelResize();var timeoutID=null;$(window).bind("resize",(function(){$(window).width()!=that.windowWidth&&(that.windowWidth=$(window).width(),timeoutID&&window.clearTimeout(that.timeoutID),timeoutID=window.setTimeout((function(){$(window).trigger("real_resize")}),100))})),$(window).bind("real_resize",this.handlePanelResize.bind(this)),$(document).bind("allModulesLoaded",this.handlePanelResize.bind(this)),$(document).bind("jobDone",function(){this.editMode||setTimeout(this.equalizeHeights,500)}.bind(this)),$(document).bind("ChartManualResize",this.handlePanelResize.bind(this)),$(document).bind("RefreshPage",this.softRefresh.bind(this)),$(document).bind("PrintStart",this.insertPageBreakers.bind(this)),$(document).bind("PrintEnd",this.removePageBreakers.bind(this)),this.searchIdToGroupNames={},this.panelRowsSelector='div.layoutRow[class*="panel_row"]',this.$panelRows=$(this.panelRowsSelector),this.equalizeHeights();this.editMode=!1,$(document).bind("Splunk.Module.DashboardTitleBar.editMode",function(event,enabled){var $paneledit=$(".paneledit");enabled?$paneledit.show():$paneledit.hide()}.bind(this)),that.panelEditInit(),this.messenger=Splunk.Messenger.System.getInstance()},softRefresh:function(excludeGimpId){for(var frag={},gimps=$(".Gimp"),i=0;i<gimps.length;i++){var gimpId=gimps[i].id;if(gimpId!=excludeGimpId){var gimpModule=Splunk.Globals.ModuleLoader.getModuleInstanceById(gimpId),search=gimpModule.getContext().get("search");if(search&&search.job){var sid=search.job.getSearchId();if(sid)frag["panel_"+gimpModule.container.closest(".dashboardCell").find(".paneledit").attr("data-sequence")+".sid"]=sid,search.job.setAsAutoCancellable(!1)}}}frag.edit=1,window.location.hash=Splunk.util.propToQueryString(frag),window.location.reload()},menusGC:function(orig){var that=this;$(".paneledit").each((function(){this!=orig&&that.hideMenu(this.actionsMenu)}))},hideMenu:function(menu){menu&&(menu.getMenu().remove(),menu=null)},panelEditInit:function(){var that=this;$(".paneledit").click((function(event){if(that.menusGC(this),this.actionsMenu&&this.actionsMenu.getMenu().is(":visible"))return that.hideMenu(this.actionsMenu),event.stopImmediatePropagation(),!1;that.hideMenu(this.actionsMenu);var meta=$(this),sequence=meta.attr("data-sequence"),intersectX=meta.attr("data-intersect-x"),intersectY=meta.attr("data-intersect-y"),dashboardId=meta.attr("data-dashboard-id"),app=meta.attr("data-app"),panelType=meta.attr("data-paneltype"),id=$($(".Gimp")[sequence]).attr("id"),gimpModule=Splunk.Globals.ModuleLoader.getModuleInstanceById(id),panelSettings=gimpModule.getPanelSettings(panelType,"options.");panelSettings.id=dashboardId,panelSettings.panelType=panelType,panelSettings.enable_fragment_id=0,panelSettings.enable_controls=1;var context=null,search=null,job=null;(context=gimpModule.getContext())&&(search=context.get("search")),search&&(job=search.job),!job||job.areResultsTransformed()?panelSettings.is_transforming=!0:panelSettings.is_transforming=!1;var editVisualizationHref=Splunk.util.make_url("paneleditor",app,"edit",intersectX,intersectY)+"?"+Splunk.util.propToQueryString(panelSettings),menuDict=[{label:_("Edit search"),uri:Splunk.util.make_url("paneleditor",app,"searchedit",intersectX,intersectY)+"?id="+encodeURIComponent(dashboardId),callback:function(event){$(document).trigger("SessionTimeout.Jobber"),that.showExpose(id);var options={onBeforeDestroy:function(){$(document).trigger("SessionStart.Jobber"),$(".dashboardCellEditable").removeClass("dashboardCellActive"),that.hideExpose()},onFrameLoad:function(popup,iframe){$(document).bind("panelsave",(function(){popup.destroyPopup(),that.softRefresh(id)}))},isModal:!1,pclass:"panelEditorPopup"};return Splunk.Popup.IFramer(event.target.href,_("Edit search"),options),!1}},{label:_("Edit visualization"),uri:editVisualizationHref,callback:function(event){$(document).trigger("SessionTimeout.Jobber");var id=$($(".Gimp")[sequence]).attr("id");that.showExpose(id);var options={onBeforeDestroy:function(){$(document).trigger("SessionStart.Jobber"),$(".dashboardCellEditable").removeClass("dashboardCellActive"),that.hideExpose()},onFrameLoad:function(popup,iframe){$(document).bind("panelsave",(function(){popup.destroyPopup(),that.softRefresh(id)}))},isModal:!1,pclass:"panelEditorPopup"};return Splunk.Popup.IFramer(event.target.href,_("Edit visualization"),options),!1}},{label:_("Delete"),uri:"",callback:function(event){return that.showExpose(id),setTimeout((function(){var deletePanel=confirm(_("Are you sure you would like to delete this panel?"));if(that.hideExpose(),deletePanel){var url=Splunk.util.make_url("paneleditor",app,"delete",intersectX,intersectY)+"?"+Splunk.util.propToQueryString({id:dashboardId});$.ajax({url:url,type:"POST",timeout:1e4,complete:function(jqXHR,textStatus){204==jqXHR.status?(meta.closest(".layoutCell").remove(),that.resetSequence(),that.softRefresh(id)):alert(_("Sorry, the specified panel could not be deleted."))}})}}),600),!1}}];return this.actionsMenu=new Splunk.MenuBuilder({menuDict:menuDict,activator:meta,menuClasses:"splMenu-primary"}),this.actionsMenu.showMenu(),!1}))},panelRowsAddOverlayLayers:function(doBind){var that=this;function doAddOverlays(e){if(that.isDNDEditMode){var start=DebugUtils.getCurrfentTime(),mySelection=$(that.panelRowsSelector);mySelection.find(".vmPanelDropPlaceholderOverlay").remove(),mySelection.find(".layoutCellInner").each((function(){var overlayNode=$(document.createElement("div")).addClass("layoutCellInner vmPanelDropPlaceholderOverlay");$(this).after(overlayNode);var height=$(this).parent().height();height+="px";!function(element,width,height,top){element.css({width:width,height:height,"z-index":2,top:top}).bind({mouseover:function(){$(this).parent().children().first().find(".dashboardContent, .splHeader").css("opacity","0.6")},mouseout:function(){that.dragAndDropMouseOut($(this).parent().children().first())}})}(overlayNode,$(this).parent().width()-15+"px",height,"0")})),DebugUtils.trace("doAddOverlays",start)}}that.isDNDEditMode=doBind,doBind&&($(window).unbind("real_resize",doAddOverlays),$(window).bind("real_resize",doAddOverlays),doAddOverlays())},dragAndDropMouseOut:function(selection){selection?selection.find(".dashboardContent, .splHeader").css("opacity","1.0"):this.dragAndDropMouseOut($(this.panelRowsSelector).find(".layoutCellInner"))},dragAndDropControllerInit:function(){var that=this,sortableParameters={connectWith:that.panelRowsSelector,placeholder:"vmPanelDropPlaceholder",opacity:.7,tolerance:"pointer",cursor:"move",delay:100,cursorAt:{top:125},handle:".vmPanelDropPlaceholderOverlay"};$(".splLastRefreshed").hide(),$(that.panelRowsSelector).fadeOut("fast",(function(){$(this).fadeIn("fast")})),$(".editmode > .splButton-tertiary.move").hide(),_removeEmptyRows();var selector=$(that.panelRowsSelector);function _sortableStart(event,ui){$(".vmPanelDropPlaceholder").css("height",Math.floor($(ui.item).height()-15)+"px"),$(".vmPanelDropPlaceholder").css("width",Math.floor($(ui.item).width()-25)+"px")}function _sortableActivate(event,ui){this!==ui.item.parent()[0]?$(this).children().length>2&&($(this).sortable("disable"),_sortableRefresh()):2==$(this).children().length&&($(this).next().sortable("disable"),$(this).prev().sortable("disable"),_sortableRefresh())}function _sortableOver(event,ui){that.equalizeWidths(event,ui);var numItems=$(this).children().length;$(ui.sender).context===$(this).context&&numItems--;var width=Math.floor(96/numItems)+"%";$(".vmPanelDropPlaceholder").css("width",width)}function _sortableStop(event,ui){var output,start=DebugUtils.getCurrfentTime();that.dragAndDropMouseOut(),that.menusGC(),DebugUtils.trace("_sortableStop invoked"),$(that.panelRowsSelector).sortable("destroy"),_removeEmptyRows(),that.equalizeWidths(event,ui,!0),$.post(Splunk.util.make_url(["viewmaster",Splunk.util.getCurrentApp(),Splunk.ViewConfig.view.id].join("/")),{action:"edit",view_json:JSON.stringify((output={new_panel_sequence:[]},$(that.panelRowsSelector).each((function(){var rowSet=[];$(".paneledit",this).each((function(){var s=parseInt($(this).attr("data-sequence"),10);isNaN(s)||rowSet.push(s)})),output.new_panel_sequence.push(rowSet)})),output))},(function(jsonObject){if(jsonObject.success)that.resetSequence();else for(var i=0,L=jsonObject.messages.length;i<L;i++)alert("dashboard failed in updating: "+jsonObject.messages[i].message)}),"json"),that.changeChartFlow(),$(".vmPanelDropPlaceholderOverlay",$(that.panelRowsSelector)).remove(),_generateEmptyRows(!0),that.panelRowsAddOverlayLayers(!0),$(document).trigger(that.PANEL_DROP_EVENT,{droppedElement:ui.item[0]}),DebugUtils.trace("_sortableStop end",start)}function _sortableInit(setParams){var sortable,myRowSelection,start=DebugUtils.getCurrfentTime();return(sortable=setParams?$(that.panelRowsSelector).sortable(sortableParameters):$(that.panelRowsSelector).sortable()).disableSelection(),(myRowSelection=$(that.panelRowsSelector)).unbind("sortstart"),myRowSelection.unbind("sortactivate"),myRowSelection.unbind("sortover"),myRowSelection.unbind("sortstop"),myRowSelection.bind("sortstart",_sortableStart),myRowSelection.bind("sortactivate",_sortableActivate),myRowSelection.bind("sortover",_sortableOver),myRowSelection.bind("sortstop",_sortableStop),DebugUtils.trace("_sortableInit ("+setParams+") ",start),sortable}function _sortableRefresh(setParams){var start=DebugUtils.getCurrfentTime(),sortable=_sortableInit(setParams).sortable("refresh");return DebugUtils.trace("_sortableRefresh",start),sortable}function _generateEmptyRows(doRefresh){function _addEmptyRow(element,where,rowHeight){var start=DebugUtils.getCurrfentTime();rowHeight=rowHeight||20;var newElement=$(document.createElement("div")).addClass("layoutRow equalHeightRow splClearfix panel_row1_col").css("min-height",rowHeight+"px");"after"==where?element.after(newElement):element.before(newElement),DebugUtils.trace("_addEmptyRow",start)}$(that.panelRowsSelector).each((function(){_addEmptyRow($(this),"before")})),_addEmptyRow($(that.panelRowsSelector).last(),"after",100),$(".layoutRow").fadeTo(0,1),doRefresh?_sortableRefresh(!0):_sortableInit(!0)}function _removeEmptyRows(){var start=DebugUtils.getCurrfentTime();$(that.panelRowsSelector).each((function(){0==$(this).children().length&&$(this).remove()})),DebugUtils.trace("_removeEmptyRows",start)}selector.find(".layoutCell").css({"max-height":"250px"}),selector.find(".layoutCellInner").css({"min-height":"0","max-height":"240px",overflow:"hidden"}),selector.find(".dashboardContent").css({"max-height":"190px",overflow:"hidden"}),that.panelRowsAddOverlayLayers(!0),_generateEmptyRows(!1),that.changeChartFlow()},resetSequence:function(){var sequence=0,x=0;$(this.panelRowsSelector).each((function(){if(0!=$(this).children().length){var y=0;$(".paneledit",this).each((function(){$(this).attr("data-sequence",sequence++),$(this).attr("data-intersect-y",y++),$(this).attr("data-intersect-x",x)})),x++}}))},equalizeWidths:function(event,ui,fullSize){var start=DebugUtils.getCurrfentTime();$(this.panelRowsSelector).each((function(index,value){var children=$(this).children(),numPanels=children.length;if(event&&$(ui.sender).context===$(this).context&&numPanels--,0!=numPanels){fullSize=!event||fullSize;var width=Math.floor((fullSize?100:96)/numPanels)+"%";children.css("width",width),fullSize&&3==numPanels&&children.last().css("width","34%"),1==numPanels?$(this).removeClass("twoColRow threeColRow").addClass("oneColRow"):2==numPanels?$(this).removeClass("oneColRow threeColRow").addClass("twoColRow"):3==numPanels&&$(this).removeClass("oneColRow twoColRow").addClass("threeColRow"),$(".vmPanelDropPlaceholderOverlay",children).each((function(){$(this).css("width",$(this).parent().children().first().width()+"px")}))}})),DebugUtils.trace("equalizeWidths",start),this.changeChartFlow()},changeChartFlow:function(){var start=DebugUtils.getCurrfentTime();$(document).trigger(this.DISPLAY_REFLOW_EVENT),DebugUtils.trace("DISPLAY_REFLOW_EVENT",start)},dragAndDropControllerDestroy:function(){var theSelection=$(this.panelRowsSelector);theSelection.fadeOut("fast",(function(){$(this).fadeIn("fast")}));try{theSelection.sortable("destroy")}catch(e){}$(".vmPanelDropPlaceholderOverlay").remove(),$(".splLastRefreshed").show(),theSelection.find(".layoutCell").css({"max-height":"none",overflow:"none"}),theSelection.find(".layoutCellInner").css({"max-height":"none",overflow:"none"}),theSelection.find(".dashboardContent").css({"max-height":"none",overflow:"none"}),theSelection.each((function(){var children=$(this).children(),width=Math.floor(100/children.length)+"%";children.css("width",width),0==$(this).children().length&&$(this).remove()})),this.equalizeWidths(),this.equalizeHeights(),this.panelRowsAddOverlayLayers(!1),this.changeChartFlow()},showExpose:function(id){var that=this,gimpModule=Splunk.Globals.ModuleLoader.getModuleInstanceById(id),moduleContentEl=$($(gimpModule.container).attr("s:parentmodule"));moduleContentEl.hasClass("JSChart")||(moduleContentEl=$(moduleContentEl).children()[0]);var content=$(moduleContentEl).closest(".SplunkModule");content.addClass("dashboardVisActive"),content.addClass("dashboardCellExpose"),content.expose({color:"#000",closeOnClick:!1,opacity:.5,loadSpeed:0,closeSpeed:0,onLoad:function(e){$(".splIcon-close").click((function(){that.hideExpose()}))},onClose:function(e){content.removeClass("dashboardCellExpose")}}),content.expose().load()},hideExpose:function(){$.mask.close(),$(".dashboardVisActive").removeClass("dashboardVisActive")},dragndropInit:function(){var that=this;this.$panelRows.sortable({connectWith:this.panelRowsSelector,update:function(event,ui){var rows=[];that.isMoving=!1,that.$panelRows.each((function(){var row=[];$(".move a",this).each((function(){row.push(parseInt($(this).attr("data-sequence"),10))})),row.length&&rows.push(row)})),that.save(rows)}}).disableSelection()},save:function(rows){var params={url:Splunk.util.make_url("/paneleditor/"),type:"POST",timeout:5e4,data:JSON.stringify(rows),contentType:"application/json",complete:function(response){}};$.ajax(params)},getEarliestCreateTimeForGroup:function(group){for(var earliest=null,i=0,l=this.dateDict[group].length;i<l;i++)earliest?this.dateDict[group][i]<earliest&&(earliest=this.dateDict[group][i]):earliest=this.dateDict[group][i];return earliest},linkSearchIdToGroup:function(job,group){var sid=job.getSearchId();this.searchIdToGroupNames.hasOwnProperty(sid)?this.searchIdToGroupNames[sid].push(group):this.searchIdToGroupNames[sid]=[group]},getGroupNamesForSearchId:function(sid){return this.searchIdToGroupNames.hasOwnProperty(sid)?$.extend([],this.searchIdToGroupNames[sid]):[]},onJobExists:function(event,job,group){this.linkSearchIdToGroup(job,group),this.dateDict[group]=[],this.updateRefreshedTimeForGroup(event,job,group)},onJobProgress:function(event,job){var group=this.getGroupNamesForSearchId(job.getSearchId());job.isRealTimeSearch()&&this.updateRefreshedTimeForGroup(event,job,group)},updateRefreshedTimeForGroup:function(event,job,group){if(group)if(job.isRealTimeSearch()){var now=new Date;this.dateDict[group]=[now],this.setLastRefreshedHeaderText(group,this.NOW_REFRESHED_TIME)}else if(job.getCreateTime()){this.dateDict.hasOwnProperty(group)||(this.dateDict[group]=[]),this.dateDict[group].push(job.getCreateTime());var dateText,earliest=this.getEarliestCreateTimeForGroup(group),diff=Math.max(((new Date).getTime()-earliest.getTime())/1e3,0);dateText=0===diff?"1s":diff<60?"&lt; 1m":diff<3600?Math.ceil(diff/60)+"m":diff<86400?Math.ceil(diff/3600)+"h":Math.ceil(diff/86400)+"d",this.setLastRefreshedHeaderText(group,dateText,format_time(earliest,"medium")),this.intSet=this.intSet||[];var that=this;this.intSet[job.getSearchId()]||(setInterval((function(){that.updateRefreshedTimeForGroup(event,job,group)}),6e4),that.intSet[job.getSearchId()]=!0)}},setLastRefreshedHeaderText:function(group,shortDateText,longDateText){var lastRefreshedSpan=$("<span>");lastRefreshedSpan.addClass("splLastRefreshed"),lastRefreshedSpan.attr("title",sprintf(this.FULL_REFRESHED_TIME,{dateText:longDateText})),shortDateText===this.NOW_REFRESHED_TIME?lastRefreshedSpan.html(sprintf(this.NOW_REFRESHED_TIME)):lastRefreshedSpan.html(sprintf(this.GENERIC_REFRESHED_TIME,{dateText:shortDateText})),$('h2[title="'+group+'"]').closest(".layoutCell").find(".meta").attr("title",group),$('.meta[title="'+group+'"]').find("span.splLastRefreshed").remove(),$('.meta[title="'+group+'"]').prepend(lastRefreshedSpan)},handlePanelResize:function(){this.titleHeaders.each((function(){if($(this).attr("title"))parseInt(Math.pow($(this).parent().width()/12-15,1.15),10)})),this.editMode||this.equalizeHeights()},showDashboardPrompts:function(){var view_config=Splunk.util.getCurrentViewConfig();if(view_config.hasOwnProperty("view")&&"SimpleDashboard"!=view_config.view.objectMode)return!1;if(0==$(".dashboardCell").length)$(_('<p class="dashboardPromptMessage">This dashboard is empty. <a href="#">Edit the dashboard</a> to add a panel.</p>')).bind("click",(function(){return Splunk.Globals.Viewmaster.openDashEditForm(Splunk.util.getCurrentView()),!1})).appendTo($(".layoutRow.firstRow"))},equalizeHeights:function(){var start=DebugUtils.getCurrfentTime();$(".equalHeightRow").each((function(){$(this).find(".layoutCellInner").css({"min-height":0});var max=0;$(this).find(".layoutCellInner").each((function(i){$(this).height()>max&&(max=$(this).height())})),$(this).find(".layoutCellInner").css({"min-height":max})})),DebugUtils.trace("equalizeHeights",start)},insertPageBreakers:function(){if(!/msie|trident/i.test(navigator.userAgent)){var $row,rowHeight,currentHeight=0,$pageBreaker=$('<div class="page-breaker"></div>');$(".equalHeightRow").each((function(i,row){$row=$(row),rowHeight=$row.is(":empty")?0:$row.outerHeight(!0),0!=i&&rowHeight>0&&currentHeight+rowHeight>=900?($pageBreaker.clone().insertBefore($row),currentHeight=rowHeight):currentHeight+=rowHeight}))}},removePageBreakers:function(){/msie|trident/i.test(navigator.userAgent)||$(".page-breaker").remove()}});var DebugUtils=window.DebugUtils={traceEnabled:!1,getCurrfentTime:function(){if(this.traceEnabled)return(new Date).getTime()},trace:function(arg,start){if(this.traceEnabled&&window.console){var now=this.getCurrfentTime();arg=this._addSpaces(arg,30),start&&(arg+=["\t",now-start].join("")),console.log([now,"\t",arg].join(""))}},_addSpaces:function(str,len){for(var newStr=str;newStr.length<len;)newStr+=" ";return newStr}}},"startupjs/src/dev":function(module,exports){Splunk.Dev={init:function(){$.cookie("devToolbar")&&(Splunk.Dev.enable(),Splunk.Dev.logger=Splunk.Logger.getLogger("dev.js"))},enable:function(){var toolbar=$('<div id="splunkDevToolbar"><div id="devOpener">Dev</div></div>');toolbar.appendTo(document.body),$("#devOpener",toolbar).css("left",$(window).width()/2);var menu=[{label:"Toggle module info",callback:function(){Splunk.Dev.toggleModuleOverlay()}},{label:"Show view source",callback:function(){window.open(Splunk.util.make_url(sprintf("/app/%s/%s?showsource=1",Splunk.util.getCurrentApp(),Splunk.util.getCurrentView())))}},{label:"Commit snapshot",callback:function(){Splunk.Dev.commitCurrentSnapshot()}}];if($("#devOpener"))new Splunk.MenuBuilder({containerDiv:$("#splunkDevToolbar"),menuDict:menu,activator:$("#devOpener"),menuClasses:"whiteSplunkMenu"});else Splunk.Dev.logger.error("Splunk.Dev tried to enable, but failed for lack of an #devOpener element");$.cookie("devToolbar","on",{expires:1e3})},disable:function(){$.cookie("devToolbar",null),$("#splunkDevToolbar").remove(),Splunk.Dev.toggleModuleOverlay(!0)},toggleModuleOverlay:function(kill){kill||$(".devModuleOverlay",document.body).size()>0?$(".devModuleOverlay").remove():($(".SplunkModule").each((function(){$(this).css("position","relative");var context=Splunk.Globals.ModuleLoader.getModuleInstanceById($(this).attr("id")).getContext(),contextOutput=[],contextHash=context.getAll();for(var k in contextHash)contextHash.hasOwnProperty(k)&&contextOutput.push(k+"="+contextHash[k]);var moduleId=$(this).attr("id"),overlay=$('<div class="devModuleOverlay"><span class="devModuleLabel">'+moduleId+'</span><div class="devModuleSettings">'+contextOutput.join("<br />")+"</div></div>");overlay.css("width",$(this).outerWidth()),overlay.css("height",$(this).outerHeight()),overlay.hover((function(){$(this).css("opacity",.9).css("background-color","#486573")}),(function(){$(this).css("opacity",null).css("background-color",null)})),overlay.click((function(){window.console.log("getContext() for module: "+moduleId),window.console.dir(context||"(none)")})),overlay.appendTo($(this))})),$(document).keypress((function(evt){27==evt.keyCode&&Splunk.Dev.toggleModuleOverlay(!0)})))},toggleTreeLines:function(){},commitCurrentSnapshot:function(){var messenger=Splunk.Messenger.System.getInstance(),vs_id=Splunk.Globals.ModuleLoader.commitViewParams(),uri=Splunk.util.make_url("app",Splunk.util.getCurrentApp(),Splunk.util.getCurrentView())+"?vs="+encodeURIComponent(vs_id);return messenger.send("info","Splunk.Dev","Viewstate created - "+vs_id+" - "+uri),vs_id}}},"startupjs/src/error":function(module,exports){Splunk.namespace("Splunk.Error"),Splunk.Error.PROPAGATE=!0,Splunk.Error.loggerMode=Splunk.Logger.mode.Server,Splunk.Error.Handler=new function(){var self=this,logger=Splunk.Logger.getLogger("Splunk.Error",Splunk.Error.loggerMode);self.onerror=function(message,fileName,lineNumber){var output=format(message,fileName,lineNumber);return logger.error(output),!Splunk.Error.PROPAGATE},self.raise=function(error){var output=format(error.message,error.fileName,error.lineNumber);if(logger.error(output),Splunk.Error.PROPAGATE)throw error};var format=function(message,fileName,lineNumber){return"lineNumber="+lineNumber+", message="+message+", fileName="+fileName};self.Error=void(window.onerror=self.onerror)}},"startupjs/src/field_summary":function(module,exports){Splunk.Popup.FieldSummaryLayer=$.klass({search:null,popupLayer:null,fieldName:null,count:0,distinctCount:0,reportLinkViewTarget:null,reportLinkSelector:".reportLinks",fieldLinksContainer:".fieldLinks",headerContainer:".fieldHeader",tbodySelector:".popupContent table tbody",categoricalReportLabels:[_("Top values by time"),_("Top values overall")],numericalReportLabels:[_("Average over time"),_("Maximum value over time"),_("Minimum value over time")],initialize:function(popupLayerTemplate,popupLayerContainer,reportLinkViewTarget){this.popupLayer=popupLayerTemplate.clone(),this.popupLayer.prependTo("body"),this.reportLinkViewTarget=reportLinkViewTarget,this.logger=Splunk.Logger.getLogger("FieldSummaryLayer"),$(document).bind("fieldSummaryOpened",function(event,fieldSummaryInstance){fieldSummaryInstance!==this&&this.close()}.bind(this))},setField:function(search,fieldName,initialCount,initialDistinctCount,initialEventCount,isNumeric,customLinks,module){this.search=search,this.module=module,this.fieldName=fieldName,this.count=initialEventCount,this.distinctCount=initialDistinctCount,this.eventCount=initialEventCount,this.customLinks=customLinks,this.buildReportLinks(isNumeric),this.updateFieldLinks(customLinks),this.updateHeader(10,isNumeric)},open:function(openerElement,onCancelled){this.popupLayer.find(".splHeader h2").text("Loading...");var selection=this.popupLayer;selection.css("left",openerElement.offset().left+openerElement.outerWidth()),selection.css("top",openerElement.offset().top),selection.css("visibility","visible"),selection.css("z-index","499"),selection.show(),$(this.popupLayer).find(this.tbodySelector).html(""),this.onCancelled=onCancelled||function(){},this.popupLayer.find(".splHeader .splIcon-close").click(this.close.bind(this)),$(document).trigger("fieldSummaryOpened",[this])},close:function(){this.popupLayer.hide(),this.onCancelled&&this.onCancelled()},refresh:function(onRendered,onFieldValueClick,pageSize){var args={field_list:this.fieldName,top_count:pageSize,min_freq:0};$.ajax({type:"GET",url:this.search.getUrl("summary",args),dataType:"xml",error:function(){this.logger.error("Could not load FieldSummary")}.bind(this),complete:function(data,textStatus){200==data.status?this.renderResults(data.responseXML,onRendered,onFieldValueClick,pageSize):204==data.status?this.popupLayer.find(this.headerContainer).text(_("No field summary information.")):404==data.status&&this.popupLayer.find(this.headerContainer).text(_("Could not retrieve field summary information. Check if the job has been canceled or expired."))}.bind(this)})},renderResults:function(resultXML,onRendered,onFieldValueClick,pageSize){onRendered&&onRendered(),this.eventCount=parseInt($(resultXML).find("summary").attr("c"),10);var fieldNode=$(resultXML).find("summary").find("field");this.distinctCount=parseInt(fieldNode.attr("dc"),10);var isNumeric=parseInt(fieldNode.attr("nc"),10)>this.eventCount/2;fieldNode.attr("k")!=this.fieldName&&this.logger.error("Assertion failed - asked for "+this.fieldName+" and received "+fieldNode.attr("k")),this.updateNumericalStats(fieldNode,isNumeric),this.updateHeader(pageSize,isNumeric);var colTitle=_("Values");if(pageSize){var displayedCount=Math.min(pageSize,this.distinctCount);if(this.distinctCount>displayedCount){var displayText=_("Top %(pageCount)s values"),displayArgs={pageCount:displayedCount,name:this.pluralizeNoun(this.fieldName)};colTitle=sprintf(displayText,displayArgs)}}var tbody=$(this.popupLayer).find(this.tbodySelector);tbody.html(""),tbody.hide();var moduleInstance=this;tbody.html('<tr class="fieldNameHeaderRow"><th class="fieldName">'+colTitle+'</th><th style="text-align:right;">#</th><th style="text-align:right;">%</th><th>&nbsp;</th></tr>'),fieldNode.find("value").each((function(index){moduleInstance.renderTableRowFromFieldNode(tbody,$(this),onFieldValueClick)}));/msie|trident/i.test(navigator.userAgent);isIE?tbody.css("display","block"):tbody.css("display","table-row-group");var posY=$(this.popupLayer).offset().top,height=$(this.popupLayer).height(),wh=$(window).height(),wst=$(window).scrollTop();if(wh+wst<posY+height){var diff=posY+height-(wh+wst)+5;if(diff>0){var shiftUp=Math.max(posY-diff,0);$(this.popupLayer).animate({top:shiftUp},"fast")}}},updateNumericalStats:function(fieldNode,isNumeric){var container=$(".numericalStats",this.popupLayer);if(container.html(""),isNumeric)for(var numericalStats=[{key:"min",label:_("Min")},{key:"max",label:_("Max")},{key:"mean",label:_("Mean")},{key:"stdev",label:_("Stdev")}],i=0;i<numericalStats.length;i++)numericalStats[i].value=format_number(fieldNode.find(numericalStats[i].key).text()),$("<span>").html(sprintf(_("<b>%(label)s</b>: %(value)s"),Splunk.util.escapeHtml(numericalStats[i]))).appendTo(container)},updateHeader:function(pageSize,isNumeric){var suffix=isNumeric?_(" (numeric)"):_(" (categorical)");this.popupLayer.find(".splHeader h2").text(this.fieldName+suffix)},updateFieldLinks:function(customLinks){var container=$(this.fieldLinksContainer,this.popupLayer);if(container.html(""),customLinks)for(var i=0,len=customLinks.length;i<len;i++)container.append(customLinks[i])},renderTableRowFromFieldNode:function(tbody,fieldNode,onFieldValueClick){var fieldValue=fieldNode.find("text").text(),count=fieldNode.attr("c"),percentage=Math.round(100*count/this.eventCount),countLength=count.toString().length;if(fieldValue.length+countLength>33)var trimToLength=30-parseInt(countLength,10),trimmedFieldValue=Splunk.util.smartTrim(fieldValue,trimToLength);else trimmedFieldValue=fieldValue;percentage=Math.round(100*percentage)/100,percentage=Math.min(percentage,100);var graphBar=$('<div class="splBarGraphBar"></div>').css("width",percentage+"%"),graph=$('<div class="splBarGraph"></div>').append(graphBar),graphCell=$('<td class="fieldValueGraphCell"></td>').append(graph),graphFieldName=$("<a></a>").attr("href","#").text(trimmedFieldValue),graphHeader=$("<th></th>").addClass("fieldName").append(graphFieldName).attr("title",fieldValue),graphRow=$("<tr></tr>");graphRow.append(graphHeader),graphRow.append($("<td></td>").text(format_number(count))),graphRow.append($("<td></td>").text(format_percent(count/this.eventCount))),graphRow.append(graphCell),onFieldValueClick&&graphRow.click(function(evt){return onFieldValueClick(evt,this.fieldName,fieldValue),this.close(),!1}.bind(this)),tbody.append(graphRow)},pluralizeNoun:function(nounStr){if(!nounStr.length)return nounStr;var fallback=sprintf(_("values of %s "),nounStr);if(nounStr.length<3)return fallback;if(0!=Splunk.util.getConfigValue("LOCALE","en-US").indexOf("en-"))return fallback;var lastChar=nounStr.charAt(nounStr.length-1),lastTwoChars=nounStr.substring(nounStr.length-2);return lastChar in{s:1,z:1,y:1}?fallback:lastTwoChars in{ch:1,sh:1,ex:1}?nounStr+"es":nounStr+"s"},buildCountAndNoun:function(){return 1==this.distinctCount?this.distinctCount+" "+this.fieldName:this.distinctCount+" "+this.pluralizeNoun(this.fieldName)},buildReportLinks:function(isNumeric){for(var fallbackURL=Splunk.util.make_url("app",Splunk.util.getCurrentApp(),this.reportLinkViewTarget),moduleInstance=this,container=$(this.reportLinkSelector,this.popupLayer).html("<h4>"+_("Charts")+" </h4>"),labelSet=isNumeric?this.numericalReportLabels.concat(this.categoricalReportLabels):this.categoricalReportLabels,i=0;i<labelSet.length;i++){var label=labelSet[i],anchor=$("<a></a>");anchor.text(label),anchor.attr("rel","popup"),anchor.attr("href",fallbackURL),anchor.click((function(event){event.preventDefault();try{moduleInstance.launchReportLink($(this).text())}catch(e){moduleInstance.logger.error(e),moduleInstance.logger.error("error launching report link")}return!1})).appendTo(container)}},launchReportLink:function(label){var args={base_sid:this.search.job.getSearchId()},linkSearch=this.search.clone(),eventSearch=linkSearch.job.getEventSearch();if(linkSearch.abandonJob(),!this.module)return linkSearch.setBaseSearch(eventSearch),linkSearch.addIntention(this.getIntentionForReportLink(label,this.fieldName)),linkSearch.sendToView(this.reportLinkViewTarget,args,!0,!0,{autosize:!0}),!1;var escapedField=Splunk.util.searchEscape(this.fieldName),reportSearch=null,chartType=null;switch(label){case this.categoricalReportLabels[0]:reportSearch="timechart count by "+escapedField,chartType="line";break;case this.categoricalReportLabels[1]:reportSearch="top limit=10000 "+escapedField,chartType="bar";break;case this.numericalReportLabels[0]:reportSearch="timechart avg("+escapedField+")",chartType="line";break;case this.numericalReportLabels[1]:reportSearch="timechart max("+escapedField+")",chartType="line";break;case this.numericalReportLabels[2]:reportSearch="timechart min("+escapedField+")",chartType="line"}if(reportSearch){linkSearch=new Splunk.Search($.trim(eventSearch)+" | "+reportSearch);var context=new Splunk.Context;context.set("search",linkSearch),context.set("charting.chart",chartType);for(var parent=this.module;parent.parent;)parent=parent.parent;parent.baseContext=context,parent.onContextChange(),parent.pushContextToChildren()}return this.close(),!1},getIntentionForReportLink:function(label,fieldName){switch(label){case this.categoricalReportLabels[0]:return{name:"plot",arg:{mode:"timechart",fields:[["count","__events"]],splitby:fieldName}};case this.categoricalReportLabels[1]:return{name:"plot",arg:{mode:"top",limit:1e4,fields:[fieldName]}};case this.numericalReportLabels[0]:return{name:"plot",arg:{mode:"timechart",fields:[["avg",fieldName]]}};case this.numericalReportLabels[1]:return{name:"plot",arg:{mode:"timechart",fields:[["max",fieldName]]}};case this.numericalReportLabels[2]:return{name:"plot",arg:{mode:"timechart",fields:[["min",fieldName]]}};default:this.logger.error("no intention for label=",label," fieldName=",fieldName)}return!1}}),Splunk.Popup.FieldSummaryLayerTwo=$.klass({URL_PATTERN:"/field/summary/%(sid)s/%(fieldName)s",POPUP_SELECTOR:".fieldValuePopup",initialize:function(sid,fieldName,target,opener,dispatcher,options){this.logger=Splunk.Logger.getLogger("Splunk.FieldSummary"),this.sid=sid,this.target=$(target),this.opener=$(opener),this.dispatcher=dispatcher,this.options=options||{},this.url=Splunk.util.make_url(sprintf(this.URL_PATTERN,{sid:this.sid,fieldName:encodeURIComponent(fieldName)}))},onUIEvent:function(event){var reportSearch,chartType,eventType=event.type,eventTarget=$(event.target),type=eventTarget.attr("s:type");if("click"==eventType&&type){var intention=eventTarget.attr("s:intention")||null;if(intention){try{intention=JSON.parse(intention)}catch(e){return this.logger.error("Could not serialize intention",e),!1}if(intention.hasOwnProperty("arg"))for(var i in intention.arg)intention.arg[i]=intention.arg[i]}else intention={};return reportSearch=eventTarget.attr("s:reportsearch"),chartType=eventTarget.attr("s:charttype"),this.dispatcher({type:type,intention:intention,event:event,reportSearch:reportSearch,chartType:chartType})}},show:function(){$.ajax({type:"GET",url:this.url,dataType:"html",error:function(){this.logger.error(sprintf(_("Could not load %(url)s"),{url:this.url}))}.bind(this),complete:function(data,textStatus){200==data.status?this.renderResults(data.responseText):this.logger.error(sprintf(_("Invalid status code for %(url)s"),{url:url}))}.bind(this)})},hide:function(){this.target.html(""),$(this.POPUP_SELECTOR,this.target).css("visibility","hidden")},renderResults:function(html){this.target.html(html);var popup=$(this.POPUP_SELECTOR,this.target);popup.bind("click",this.onUIEvent.bind(this)),popup.css("visibility","visible"),this.position(popup)},position:function(popup){var startTop=this.options.positionFromChild?this.opener.position():this.opener.offset().top;popup.css("left",this.opener.offset().left+this.opener.outerWidth()).css("top",startTop);var tbody=$(popup).find(".popupContent table tbody");/msie|trident/i.test(navigator.userAgent);isIE?tbody.css("display","block"):tbody.css("display","table-row-group");var posY=popup.offset().top,height=popup.height(),wh=$(window).height(),wst=$(window).scrollTop();if(wh+wst<posY+height){var shiftUp,diff=posY+height-(wh+wst)+5;if(this.options.positionFromChild){var pwo=popup.parents().filter((function(){return"hidden"==$(this).css("overflow")})).filter(":first");if(pwo.length){var pwoTop=pwo.offset().top;if(pwoTop>posY-diff){var d=posY-pwoTop;diff=d>0?d:0}}}if(diff>0)this.options.animateOpen?(shiftUp="-="+diff+"px",popup.animate({top:shiftUp},"fast")):(shiftUp=Math.max(posY-diff,0),popup.css("top",shiftUp))}}})},"startupjs/src/ja_bridge":function(module,exports){!function(global){Splunk.JABridge=function(id){if(Splunk.JABridge.instances[id])return Splunk.JABridge.instances[id];var notifyConnectTimeout,connectCallback,closeCallback,inDocumentElement,self=this,isConnected=!1,properties={},propertiesArray=[],methods={},methodsArray=[],events={},eventsArray=[],hasListeners={},isInitialized=!1,isNotified=!1,eventListeners={},argumentsSlice=function(args,start,end){var argList=[];end=end||args.length;for(var i=start;i<end;i++)argList.push(args[i]);return argList},indexOf=function(array,item){if(array.indexOf)return array.indexOf(item);for(var i=0;i<array.length;i++)if(array[i]==item)return i;return-1},notifyConnect=function(){isNotified=!0,connectCallback()},sendOperation=function(operation){var response;(operation=Splunk.JABridge.Cerealizer.serialize(operation),inDocumentElement||(inDocumentElement=self.getFlashElement()),inDocumentElement)&&(inDocumentElement[Splunk.JABridge.RECEIVER_METHOD]&&(response=inDocumentElement[Splunk.JABridge.RECEIVER_METHOD](operation),response=Splunk.JABridge.Cerealizer.deserialize(response)));if(null==response)throw new Error("Null response object. Connection may have been lost.");if("object"!=typeof response)throw new Error("Invalid response object.");if(1!=response.success){if(response.message)throw new Error(response.message);throw new Error("Uknown error.")}return response.result};self.getFlashElement=function(){return window[id]||document.getElementById(id)},self.isConnected=function(){return isConnected},self.id=function(){return id},self.getInterface=function(){if(!isConnected)throw new Error(Splunk.JABridge.CONNECTION_ERROR);try{var interfaceDescriptor=sendOperation({type:"getInterface"});!function(interfaceDescriptor){interfaceDescriptor.toString=function(){var header="----------------------------------------\n";for(var i in str="",str+=header,str+="properties\n",str+=header,str+="\n",this.properties){var property=this.properties[i];str+=property.name,property.type&&(str+=":"+property.type),"read-only"==property.access?str+=" [read-only]":"write-only"==property.access&&(str+=" [write-only]"),property.description&&(str+="\n"+property.description),str+="\n\n"}for(var k in str+=header,str+="methods\n",str+=header,str+="\n",this.methods){var method=this.methods[k];if(str+=method.name,str+="(",method.parameters)for(var j=0;j<method.parameters.length;j++)j>0&&(str+=", "),str+=method.parameters[j];str+=")",method.returnType&&(str+=":"+method.returnType),method.description&&(str+="\n"+method.description),str+="\n\n"}for(var l in str+=header,str+="events\n",str+=header,str+="\n",this.events){var event=this.events[l];if(str+=event.name,str+="(",event.parameters)for(var m=0;m<event.parameters.length;m++)m>0&&(str+=", "),str+=event.parameters[m];str+=")",event.description&&(str+="\n"+event.description),str+="\n\n"}return str}}(interfaceDescriptor)}catch(err){throw new Error(err.message)}return interfaceDescriptor},self.getProperty=function(propertyName){if(!isConnected)throw new Error(Splunk.JABridge.CONNECTION_ERROR);try{var value=sendOperation({type:"getProperty",propertyName:propertyName})}catch(err){throw new Error(err.message)}return value},self.setProperty=function(propertyName,value){if(!isConnected)throw new Error(Splunk.JABridge.CONNECTION_ERROR);try{sendOperation({type:"setProperty",propertyName:propertyName,value:value})}catch(err){throw new Error(err.message)}},self.callMethod=function(methodName){if(!isConnected)throw new Error(Splunk.JABridge.CONNECTION_ERROR);var result,args=argumentsSlice(arguments,1);try{result=sendOperation({type:"callMethod",methodName:methodName,arguments:args})}catch(err){throw new Error(err.message)}return result},self.addEventListener=function(eventName,listener){if(!isConnected)throw new Error(Splunk.JABridge.CONNECTION_ERROR);var listeners=eventListeners[eventName];if(null==listeners){try{sendOperation({type:"addEventListener",eventName:eventName})}catch(err){throw new Error(err.message)}(listeners=eventListeners[eventName]=[]).push(listener)}else indexOf(listeners,listener)<0&&listeners.push(listener)},self.removeEventListener=function(eventName,listener){if(!isConnected)throw new Error(Splunk.JABridge.CONNECTION_ERROR);var listeners=eventListeners[eventName];if(null!=listeners){var index=indexOf(listeners,listener);if(index>=0&&(listeners.splice(index,1),0==listeners.length)){delete eventListeners[eventName];try{sendOperation({type:"removeEventListener",eventName:eventName})}catch(err){throw new Error(err.message)}}}},self.receiveOperation=function(operation){if(!isInitialized)return null;if(null==operation)throw new Error("A null communication object.");if("object"!=typeof operation)throw new Error("Invalid communication object.");if(!operation.type)throw new Error("A null operation type.");try{switch(operation.type){case"close":response=function(){if(isConnected){clearTimeout(notifyConnectTimeout);var wasNotified=isNotified;if(hasListeners={},eventListeners={},isConnected=!1,isNotified=!1,wasNotified&&null!=closeCallback)try{closeCallback()}catch(err){setTimeout((function(){throw err}),0)}}return Splunk.JABridge.successResponse()}();break;case"connect":response=(isConnected||(isConnected=!0,notifyConnectTimeout=setTimeout(notifyConnect,0)),Splunk.JABridge.successResponse());break;case"getInterface":response=function(){var property,method,event,i=0,propertySet=[],methodSet=[],eventSet=[];for(i=0;i<propertiesArray.length;i++){var propertyDescriptor=propertiesArray[i];(property={}).name=propertyDescriptor.name,null==propertyDescriptor.getter?property.access="write-only":null==propertyDescriptor.setter?property.access="read-only":property.access="read-write",property.type=propertyDescriptor.type,property.description=propertyDescriptor.description,propertySet.push(property)}for(i=0;i<methodsArray.length;i++){var methodDescriptor=methodsArray[i];(method={}).name=methodDescriptor.name,method.parameters=methodDescriptor.parameters,method.returnType=methodDescriptor.returnType,method.description=methodDescriptor.description,methodSet.push(method)}for(i=0;i<eventsArray.length;i++){var eventDescriptor=eventsArray[i];(event={}).name=eventDescriptor.name,event.parameters=eventDescriptor.parameters,event.description=eventDescriptor.description,eventSet.push(event)}return Splunk.JABridge.resultResponse({properties:propertySet,methods:methodSet,events:eventSet})}();break;case"getProperty":response=function(propertyName){var response;try{var propertyDescriptor=properties[propertyName];if(!propertyDescriptor)throw new Error("Unknown property "+propertyName+".");if(null==propertyDescriptor.getter)throw new Error("Property "+propertyName+" is write-only.");var result=propertyDescriptor.getter();response=Splunk.JABridge.resultResponse(result)}catch(err){response=Splunk.JABridge.errorResponse(err.message)}return response}(operation.propertyName);break;case"setProperty":response=function(propertyName,value){var response;try{var propertyDescriptor=properties[propertyName];if(!propertyDescriptor)throw new Error("Unknown property "+propertyName+".");if(null==propertyDescriptor.setter)throw new Error("Property "+propertyName+" is read-only.");propertyDescriptor.setter(value),response=Splunk.JABridge.successResponse()}catch(err){response=Splunk.JABridge.errorResponse(err.message)}return response}(operation.propertyName,operation.value);break;case"callMethod":response=function(methodName,args){var response;try{var methodDescriptor=methods[methodName];if(!methodDescriptor)throw new Error("Unknown method "+methodName+".");args instanceof Array||(args=[args]);var result=methodDescriptor.method.apply(null,args);response=Splunk.JABridge.resultResponse(result)}catch(err){response=Splunk.JABridge.errorResponse(err.message)}return response}(operation.methodName,operation.arguments);break;case"addEventListener":response=function(eventName){var response;try{if(!events[eventName])throw new Error("Unknown event "+eventName+".");hasListeners[eventName]=!0,response=Splunk.JABridge.successResponse()}catch(err){response=Splunk.JABridge.errorResponse(err.message)}return response}(operation.eventName);break;case"removeEventListener":response=function(eventName){var response;try{if(!events[eventName])throw new Error("Uknown event "+eventName+".");delete hasListeners[eventName],response=Splunk.JABridge.successResponse()}catch(err){response=Splunk.JABridge.errorResponse(err.message)}return response}(operation.eventName);break;case"dispatchEvent":response=function(eventName,args){try{args instanceof Array||(args=[args]);var listeners=eventListeners[eventName];if(null!=listeners){listeners=listeners.concat();for(var i=0;i<listeners.length;i++)listeners[i].apply(null,args)}response=Splunk.JABridge.successResponse()}catch(err){response=Splunk.JABridge.errorResponse(err.message)}return response}(operation.eventName,operation.arguments);break;default:response=Splunk.JABridge.errorResponse("Unknown operation "+operation.type+".")}}catch(err){response=Splunk.JABridge.errorResponse(err.message)}return response},self.addProperty=function(propertyName,getter,setter,type,description){if(isInitialized)throw new Error(Splunk.JABridge.INITIALIZED_ERROR);if(null==getter&&null==setter)throw new Error("One of paramaters getter or setter must be non-null");if(properties[propertyName])throw new Error("Property already defined.");var propertyDescriptor=new Splunk.JABridge.PropertyDescriptor(propertyName,getter,setter,type,description);properties[propertyName]=propertyDescriptor,propertiesArray.push(propertyDescriptor)},self.addMethod=function(methodName,method,parameters,returnType,description){if(isInitialized)throw new Error(Splunk.JABridge.INITIALIZED_ERROR);if(methods[methodName])throw new Error("Method already defined.");var methodDescriptor=new Splunk.JABridge.MethodDescriptor(methodName,method,parameters,returnType,description);methods[methodName]=methodDescriptor,methodsArray.push(methodDescriptor)},self.addEvent=function(eventName,parameters,description){if(isInitialized)throw new Error(Splunk.JABridge.INITIALIZED_ERROR);if(events[eventName])throw new Error("Event already defined.");var eventDescriptor=new Splunk.JABridge.EventDescriptor(eventName,parameters,description);events[eventName]=eventDescriptor,eventsArray.push(eventDescriptor)},self.dispatchEvent=function(eventName){if(!isConnected)throw new Error(Splunk.JABridge.CONNECTION_ERROR);var args=argumentsSlice(arguments,1);if(!events[eventName])throw new Error("Unknown event "+eventName+".");if(hasListeners[eventName])try{sendOperation({type:"dispatchEvent",eventName:eventName,arguments:args})}catch(err){throw new Error(err.message)}},self.close=function(){if(isInitialized){clearTimeout(notifyConnectTimeout);var wasConnected=isConnected,wasNotified=isNotified,closeCallbackCopy=closeCallback;if(hasListeners={},eventListeners={},isConnected=!1,connectCallback=null,closeCallback=null,isInitialized=!1,isNotified=!1,wasConnected){try{sendOperation({type:"close",id:id})}catch(err){}if(wasNotified&&null!=closeCallbackCopy)try{closeCallbackCopy()}catch(err){setTimeout((function(){throw err}),0)}}}},self.dispose=function(){for(var i in self.close(),delete Splunk.JABridge.instances[id],self)self.hasOwnProperty(i)&&delete self[i]},self.connect=function(callback1,callback2){if(null!=callback1&&callback1==Splunk.JABridge.connectAll){if(!isInitialized||isConnected)return}else{if(null==callback1)throw new Error("A callback must be defined in order for a JavaScript/Flash connection negotiation.");self.close(),connectCallback=callback1,closeCallback=callback2,isInitialized=!0}try{sendOperation({type:"connect",id:id}),isConnected=!0,notifyConnectTimeout=setTimeout(notifyConnect,0)}catch(err){}},self.JABridge=void(Splunk.JABridge.instances[id]=self)},Splunk.JABridge.RECEIVER_METHOD="JABridge_receiveOperation",Splunk.JABridge.CONNECTION_ERROR="JABridge not connected.",Splunk.JABridge.INITIALIZED_ERROR="JABridge already initialized.",Splunk.JABridge.getInstance=function(id){return new Splunk.JABridge(id)},Splunk.JABridge.instances={},Splunk.JABridge.successResponse=function(){return{success:!0}},Splunk.JABridge.resultResponse=function(result){return{success:!0,result:result}},Splunk.JABridge.errorResponse=function(message){return{success:!1,message:message}},Splunk.JABridge.receiveOperation=function(operation){var response;try{if((operation=Splunk.JABridge.Cerealizer.deserialize(operation)).id){var instance=Splunk.JABridge.instances[operation.id];null!=instance&&(response=instance.receiveOperation(operation))}else Splunk.JABridge.isConnectAll||(Splunk.JABridge.isConnectAll=!0,setTimeout(Splunk.JABridge.connectAll,0)),response=Splunk.JABridge.errorResponse("null operation id.")}catch(error){response=Splunk.JABridge.errorResponse(error.message)}return Splunk.JABridge.Cerealizer.serialize(response)};window.JABridge_receiveOperation=global.JABridge_receiveOperation=Splunk.JABridge.receiveOperation;Splunk.JABridge.isConnectAll=!1,Splunk.JABridge.connectAll=function(){var instances=Splunk.JABridge.instances;for(var i in instances)instances.hasOwnProperty(i)&&instances[i].connect(Splunk.JABridge.connectAll);Splunk.JABridge.isConnectAll=!1},Splunk.JABridge.PropertyDescriptor=function(name,getter,setter,type,description){this.name=name,this.getter=getter,this.setter=setter,this.type=type,this.description=description},Splunk.JABridge.MethodDescriptor=function(name,method,parameters,returnType,description){this.name=name,this.method=method,this.parameters=parameters,this.returnType=returnType,this.description=description},Splunk.JABridge.EventDescriptor=function(name,parameters,description){this.name=name,this.parameters=parameters,this.description=description},Splunk.JABridge.Cerealizer=new function(){var references=[],tokens="",tokenCount=0,tokenIndex=0;this.serialize=function(value){references=[];var str=serializeValue(value);return references=null,str},this.deserialize=function(str){var value;try{if(references=new Array,tokenCount=(tokens=str)?tokens.length:0,tokenIndex=0,value=deserializeNext(),tokenIndex<tokenCount)throw new Error("Unexpected token.")}catch(e){throw new Error("Deserialize error at index "+tokenIndex+": "+e.message)}finally{references=null,tokens=null,tokenCount=0,tokenIndex=0}return value};var arrayIndexOf=function(array,item,fromIndex){if(array.indexOf)return array.indexOf(item,fromIndex);for(var i=fromIndex||0;i<array.length;i++)if(array[i]===item)return i;return-1},serializeValue=function(value){if(null===value)return"";switch(typeof value){case"number":return serializeNumber(value);case"boolean":return serializeBoolean(value);case"string":return serializeString(value);case"object":var ref=serializeReference(value);return ref||(value instanceof Array?serializeArray(value):serializeObject(value));default:return""}},serializeNumber=function(num){return"#"+String(num)+"#"},serializeBoolean=function(bool){return bool?"t":"f"},serializeString=function(str){return'"'+escape(str)+'"'},serializeArray=function(arr){references.push(arr);var str="";str+="[";for(var length=arr.length,i=0;i<length;i++)i>0&&(str+=","),str+=serializeValue(arr[i]);return str+="]"},serializeObject=function(obj){references.push(obj);var str="";str+="{";var i=0;for(var p in obj)i>0&&(str+=","),str+=escape(p)+":"+serializeValue(obj[p]),i++;return str+="}"},serializeReference=function(ref){var index=arrayIndexOf(references,ref);return index>=0?"@"+index+"@":null},deserializeNext=function(){if(tokenIndex>=tokenCount)return null;switch(tokens.charAt(tokenIndex)){case"#":return deserializeNumber();case"t":case"f":return deserializeBoolean();case'"':return deserializeString();case"[":return deserializeArray();case"{":return deserializeObject();case"@":return deserializeReference();default:return null}},deserializeNumber=function(){tokenIndex++;var endIndex=arrayIndexOf(tokens,"#",tokenIndex);if(endIndex<0)throw new Error("Expecting closing #.");if(endIndex==tokenIndex)throw new Error("Expecting number.");var num=Number(tokens.substring(tokenIndex,endIndex));return tokenIndex=endIndex+1,num},deserializeBoolean=function(){return"t"==tokens.charAt(tokenIndex++)},deserializeString=function(){tokenIndex++;var endIndex=arrayIndexOf(tokens,'"',tokenIndex);if(endIndex<0)throw new Error("Expecting closing quote.");var str=unescape(tokens.substring(tokenIndex,endIndex));return tokenIndex=endIndex+1,str},deserializeArray=function(){if(++tokenIndex>=tokenCount)throw new Error("Expecting closing brace.");var arr=[];references.push(arr);var token=tokens.charAt(tokenIndex);if("]"==token)return tokenIndex++,arr;for(;;){if(arr.push(deserializeNext()),tokenIndex>=tokenCount)throw new Error("Expecting closing brace.");if("]"==(token=tokens.charAt(tokenIndex++)))break;if(","!=token)throw new Error("Expecting comma or closing brace.")}return arr},deserializeObject=function(){if(++tokenIndex>=tokenCount)throw new Error("Expecting closing bracket.");var obj={};references.push(obj);var colonIndex,propertyName,token=tokens.charAt(tokenIndex);if("}"==token)return tokenIndex++,obj;for(;;){if((colonIndex=arrayIndexOf(tokens,":",tokenIndex))<0)throw new Error("Expecting colon.");if(propertyName=unescape(tokens.substring(tokenIndex,colonIndex)),tokenIndex=colonIndex+1,obj[propertyName]=deserializeNext(),tokenIndex>=tokenCount)throw new Error("Expecting closing bracket.");if("}"==(token=tokens.charAt(tokenIndex++)))break;if(","!=token)throw new Error("Expecting comma or closing bracket.")}return obj},deserializeReference=function(){tokenIndex++;var endIndex=arrayIndexOf(tokens,"@",tokenIndex);if(endIndex<0)throw new Error("Expecting closing @.");if(endIndex==tokenIndex)throw new Error("Expecting integer reference.");var referenceIndex=Math.round(Number(tokens.substring(tokenIndex,endIndex)));if(isNaN(referenceIndex)||referenceIndex<0||referenceIndex>=references.length)throw new Error("Invalid reference.");return tokenIndex=endIndex+1,references[referenceIndex]}}}(this)},"startupjs/src/job":function(module,exports){Splunk.Job=$.klass({_isDone:0,_isCanceled:!1,_isPaused:!1,_isFinalized:!1,_isSaved:!1,_isZombie:!1,_isPreviewEnabled:!1,_isRealTimeSearch:!1,_canBeAutoCancelled:!1,_eventCount:0,_resultCount:0,_resultPreviewCount:0,_scanCount:0,_eventAvailableCount:0,_doneProgress:0,_eventIsStreaming:1,_cursorTime:!1,_sid:null,_createTime:!1,_search:"",_eventSearch:!1,_lastProgressEvent:0,logger:Splunk.Logger.getLogger("job.js"),initialize:function(search){search?this._search=search:this.logger.error("Splunk.Job - Assertion Failed. search string not supplied for Splunk.Job constructor.")},getSearch:function(){return this._search},getEventSearch:function(){return this._eventSearch},setSearchId:function(searchId){this._setSearchIdHasBeenCalled&&this.logger.error("Splunk.Job Assertion Failed. setSearchId can only be called once.\nold sid=",this._sid,"\nnew sid=",searchId),this._sid=searchId,this._setSearchIdHasBeenCalled=!0},setSID:function(sid){return this.setSearchId(sid)},getSearchId:function(){return this._sid},getSID:function(){return this.getSearchId()},getEventCount:function(){return this._eventCount},getResultCount:function(checkSearchStatus){return(checkSearchStatus="boolean"!=typeof checkSearchStatus||checkSearchStatus)&&this._isPreviewEnabled&&!this._isDone&&Splunk.util.isInt(this._resultPreviewCount)?this._resultPreviewCount:this._resultCount},getScanCount:function(){return this._scanCount},getEventAvailableCount:function(){return 0==this.getStatusBuckets()?this.getResultCount():this._eventAvailableCount},getEventFieldCount:function(){return this._eventFieldCount},getCursorTime:function(){return this._cursorTime},getCreateTime:function(){if(!this._createTime)return!1;var createTime=new Date;return createTime.setTime(1e3*this._createTime),createTime},getTimeRange:function(){if(!this._earliestTime||!this._latestTime)return new Splunk.TimeRange;var startTime=Splunk.util.getEpochTimeFromISO(this._earliestTime),endTime=Splunk.util.getEpochTimeFromISO(this._latestTime);return isNaN(startTime)&&(startTime=this._earliestTime,endTime=this._latestTime),0==startTime&&(startTime=null),0==endTime&&(endTime=null),new Splunk.TimeRange(startTime,endTime)},getEventSorting:function(){return this._eventSorting},getDoneProgress:function(){var doneProgress=this._doneProgress;return-1!=doneProgress.toString().indexOf("%")&&(doneProgress=doneProgress.replace("%","")),parseFloat(doneProgress,10)},getStatusBuckets:function(){return this._statusBuckets},isDone:function(){return!!this._sid&&this._isDone},isCanceled:function(){return this._isCanceled},isPaused:function(){return this._isPaused},isFinalized:function(){return this._isFinalized},isSaved:function(){return this._isSaved},isZombie:function(){return this._isZombie},isPreviewable:function(){return this._isPreviewEnabled},isRealTimeSearch:function(){return this._isRealTimeSearch},isQueued:function(){return"QUEUED"==this._dispatchState},isParsing:function(){return"PARSING"==this._dispatchState},isPreparing:function(){return this.isQueued()||this.isParsing()},canBeAutoCancelled:function(){return!this.isRealTimeSearch()&&(!this.isSaved()&&this._canBeAutoCancelled)},isRunning:function(){return!(this._isDone||this._isPaused||this.isPreparing())},isEventStreaming:function(){return this._eventIsStreaming},areResultsTransformed:function(){var key="_reportSearch";return this.hasOwnProperty(key)&&this[key]},cancel:function(onSuccess,onFailure){if(this.isCanceled())return!1;if(this.delegate)return Splunk.Messenger.System.getInstance().send("error","splunk.search",_("Splunk is ignoring a request to cancel a scheduled job because it is unsafe to cancel jobs that have been dispatched through an alert.")),!1;this.logger.debug("Canceling job",this._sid,".");var onSuccessOuter=function(){this.logger.debug("Canceled job",this._sid,"successfully."),$(document).trigger("jobCanceled",[this._sid]),this._sid=null,onSuccess&&onSuccess()}.bind(this);this._callJobEndpoint("cancel",onSuccessOuter,onFailure),this._isCanceled=!0},pause:function(onSuccess,onFailure){if(this.isDone()||this.isPaused())return this.logger.warn("Can't pause job",this._sid,"because it is done or already paused."),!1;this.logger.debug("Pausing job",this._sid,"."),this._callJobEndpoint("pause",onSuccess,onFailure),this._isPaused=!0},unpause:function(onSuccess,onFailure){if(this.isDone()||!this.isPaused())return this.logger.warn("Can't unpause job",this._sid,"because it is not paused or because it is done."),!1;this.logger.debug("Unpausing job",this._sid,"."),this._callJobEndpoint("unpause",onSuccess,onFailure),this._isPaused=!1},setTTL:function(onSuccess,onFailure,ttl){this.logger.debug("Setting ttl",ttl,"for job",this._sid,".");var options={data:{ttl:ttl}};this._callJobEndpoint("ttl",onSuccess,onFailure,options)},setPreviewable:function(state){this._isPreviewEnabled=state,this._callJobEndpoint(this._isPreviewEnabled?"enablepreview":"disablepreview")},setAsAutoCancellable:function(bool){this._canBeAutoCancelled=bool,bool&&this.isSaved()&&this.logger.warn("a job was set as cancellable which should be impossible because this job has been previously saved by the user.")},setCreateTime:function(foo){this._createTime=foo},setLastProgressTime:function(){this._lastProgressEvent=new Date},getTimeSinceLastProgress:function(){return new Date-this._lastProgressEvent},finalize:function(onSuccess,onFailure){if(this.isDone()||this.isFinalized())return this.logger.warn("Cannot finalized a job marked as done."),!1;this.isPaused()&&this.unpause(),this.logger.debug("Finalizing job",this._sid,"."),this._callJobEndpoint("finalize",onSuccess,onFailure),this._isFinalized=!0},touch:function(onSuccess,onFailure){this.logger.debug("Touching job",this._sid,"."),this._callJobEndpoint("touch",onSuccess,onFailure)},refreshCanBeAutoCancelled:function(callback){if(this.logger.debug("refreshing job can be auto-cancelled",this._sid,"."),!this.isRealTimeSearch()&&this._canBeAutoCancelled){var that=this;$.ajax({type:"GET",url:Splunk.util.make_url("splunkd/services/search/jobs",this._sid),data:{output_mode:"json"},dataType:"json",success:function(data){var canBe=!data.entry[0].content.isSaved;callback(canBe)},error:function(){callback(that.canBeAutoCancelled())}})}else callback(!1)},save:function(onSuccess,onFailure){this.setAsAutoCancellable(!1),this.logger.debug("Saving job",this._sid,"."),this._isSaved=!0,this._callJobEndpoint("save",onSuccess,onFailure)},unsave:function(onSuccess,onFailure){this.logger.debug("Unsaving job",this._sid,"."),this._isSaved=!1,this._callJobEndpoint("unsave",onSuccess,onFailure)},makeWorldReadable:function(onSuccess,onFailure){this.logger.debug("making job world readable",this._sid,"."),this._callJobEndpoint("makeWorldReadable",onSuccess,onFailure)},undoWorldReadable:function(onSuccess,onFailure){this.logger.debug("making the job no longer world readable",this._sid,"."),this._callJobEndpoint("undoWorldReadable",onSuccess,onFailure)},_callJobEndpoint:function(action,onSuccess,onFailure,options){if(options=options||{},!action)throw new Error("Cannot call the job endpoint without an action");if(!this._sid)throw new Error("Cannot call the job endpoint if we dont have an sid yet");var optionsData=options.data||{},data=$.extend({action:action,wait:0},optionsData),ajaxOptions={type:"POST",url:Splunk.util.make_url("api/search/jobs",this._sid,"control"),data:data,dataType:"json",success:function(data){try{if(data.success)return this.logger.info("Called",action,"on job",this._sid,"successfully."),$(document).trigger("jobStatusChanged",[this._sid,action]),onSuccess&&onSuccess(),!0;this.logger.info("no success in the data"),onFailure&&onFailure()}catch(error){this.logger.error("error encountered in Job._callJobEndpoint for action=",action," error=",error),onFailure&&onFailure()}if(data.messages&&data.messages.length>0)for(var messenger=Splunk.Messenger.System.getInstance(),i=0,len=data.messages.length;i<len;i++){var level=data.messages[i].type.toLowerCase(),text=data.messages[i].message;"error"!=level&&"fatal"!=level||messenger.send(level,"splunk.search",text)}this.logger.warn("Could not call",action,"on job",this._sid)}.bind(this),error:function(xhr,status,error){onFailure&&onFailure(xhr,status,error,action)}};$.ajax(ajaxOptions)},updateByTicketValues:function(ticket){for(var requiredKeys=["isDone","eventCount","resultCount","scanCount","eventAvailableCount","eventFieldCount","doneProgress"],i=0,l=requiredKeys.length;i<l;i++)ticket.hasOwnProperty(requiredKeys[i])||this.logger.error("Failed to get required job property="+requiredKeys[i]+" for sid="+this._sid);for(var key in ticket)ticket.hasOwnProperty(key)&&(this["_"+key]=ticket[key])}}),Splunk.Job.BATCH_ACTION_ENDPOINT="api/search/jobs/control",Splunk.Job.batchAction=function(sids,action,callback,options){if(!sids||!action)throw new Exception("SIDs and an action must be provided to call a batchAction.");options=options||{};var url=Splunk.util.make_url(Splunk.Job.BATCH_ACTION_ENDPOINT),params={sid:sids,action:action},optionsData=options.data||{},data=$.extend(params,optionsData);callback=callback||function(){},$.post(url,data,callback)},Splunk.Job.buildJobFromSID=function(sid,onSuccess,onFailure){var logger=Splunk.Logger.getLogger("job.js"),jobber=Splunk.Globals.Jobber;if(!jobber)return logger.warn("Cannot find Splunk.Jobber."),void onFailure();var safelyBuildJob=function(){var job=jobber.getJob(sid);job?onSuccess(job):onFailure()};if(jobber.hasJob(sid))return safelyBuildJob();$(document).one("jobberTicketsRefreshed",safelyBuildJob),$(document).trigger("jobDispatched",[jobber.buildJob(sid)])},Splunk.JobArray=function(){var a=Array.prototype.slice.call(arguments);for(var i in a.constructor=Splunk.JobArray,Splunk.JobArray.prototype)Object.prototype[i]||(a[i]=Splunk.JobArray.prototype[i]);return a},Splunk.JobArray.prototype.slice=function(start,end){return Splunk.JobArray.apply(null,Array.prototype.slice.call(this,start,end))},Splunk.JobArray.prototype.concat=function(){return Splunk.JobArray.apply(null,Array.prototype.concat.apply(this,arguments))},Splunk.JobArray.prototype.filter=function(callback){callback=callback||function(job){if(job)return!0};for(var a=new Splunk.JobArray,i=0,j=this.length;i<j;i++)callback(this[i])&&a.push(this[i]);return a},Splunk.JobArray.prototype.JOB_ACTIONS=["cancel","pause","unpause","finalize"],Splunk.JobArray.prototype.setTTL=function(callback,ttl){this._callAction("ttl",callback,{data:{ttl:ttl}})},Splunk.JobArray.prototype._callAction=function(action,callback,options){options=options||{};for(var sids=[],i=0,j=this.length;i<j;i++)this[i].getSearchId()&&sids.push(this[i].getSearchId());return sids.length>0&&Splunk.Job.batchAction(sids,action,callback,options)},Splunk.JobArray.prototype._generateActionMethod=function(action){this[action]=function(callback){return this._callAction(action,callback)}};for(var i=0,j=Splunk.JobArray.prototype.JOB_ACTIONS.length;i<j;i++)Splunk.JobArray.prototype._generateActionMethod(Splunk.JobArray.prototype.JOB_ACTIONS[i])},"startupjs/src/jobber":function(module,exports){Splunk.Jobber=$.klass({MIN_POLLER_INTERVAL:250,LONG_RUNNING_POLLER_INTERVAL:1500,MAX_POLLER_INTERVAL:3e4,POLLER_CLAMP_TIME:1e3,PENALIZE_POLLER_INCREMENT:500,PENALIZE_POLLER_MULTIPLIER:1.25,KEEP_ALIVE_INTERVAL:6e4,JOB_MGMT_ENDPOINT:Splunk.util.make_url("api/search/jobs"),BATCH_EDIT_ENDPOINT:Splunk.util.make_url("api/search/jobs/control"),UI_INACTIVITY_TIMEOUT_TTL_HOURS:24,initialize:function(){this._jobManifest={},this._jobManifestHash="",this._pollTimer=null,this._keepAlivePoller=null,this._pollCount=0,this._latencyHistory=[],this._getStatusStartTime=0,this._timedOutPollCount=0,this._lastActiveStartTime=null,this._stopPolling=!1,this._isGettingStatus=!1,this.ticketsLoaded=!1,this.refreshInterval=null,this.targetInterval=this.LONG_RUNNING_POLLER_INTERVAL,this.logger=Splunk.Logger.getLogger("jobber.js"),this.messenger=Splunk.Messenger.System.getInstance(),$(document).bind("jobDispatched.Jobber",this._receiveJob.bind(this)),$(document).bind("jobResurrected.Jobber",this._receiveJob.bind(this)),$(document).bind("jobStatusChanged.Jobber",this._onJobStatusChange.bind(this)),this._clearedForPolling=!1,$(document).bind("SessionStart.Jobber",function(){this.isClearedForPolling()&&this.start()}.bind(this)),$(document).bind("SessionTimeout.Jobber",function(){this.logger.info("Stopping Jobber polling..."),this.stop(),this.listJobs((function(job){return job.canBeAutoCancelled()})).setTTL((function(){}),3600*this.UI_INACTIVITY_TIMEOUT_TTL_HOURS)}.bind(this))},destroy:function(){$(document).unbind(".Jobber")},_receiveJob:function(event,job){if(!job.getSID())throw _("Jobber can only poll on search jobs that have been dispatched (jobs with SIDs).");if(this.addJob(job),this.isClearedForPolling()){if(job.isDone())return $(document).trigger("jobProgress",[job]),void $(document).trigger("jobDone",[job]);this._lastActiveStartTime=new Date,this.refresh()}else this.logger.info(_(sprintf("Received job with an sid of %(sid)s, but can't poll yet because Jobber isn't cleared for polling.",{sid:job.getSearchId()})))},_onJobStatusChange:function(event,sid,status){this.logger.info("Splunk.Jobber: received sid status update:",sid,",",status),this.hasJob(sid)&&("unpause"==status?this._lastActiveStartTime=new Date:"cancel"==status&&(this.removeJob(sid)||this.logger.warn("Splunk.Jobber: when trying to cancel, jobber could not find the job",sid)),this.refresh())},hasJob:function(sid){return this._jobManifest.hasOwnProperty(sid)},getJob:function(sid){return this.hasJob(sid)?this._jobManifest[sid]:null},addJob:function(job){var sid=job.getSID();return sid?(this._jobManifest[sid]=job,!0):(this.logger.warn("Tried to add a job to Jobber without an sid, which is impossible."),!1)},buildJob:function(sid,primitive){var job=this.getJob(sid);return job||((job=new Splunk.Job("*")).setSearchId(sid),this.addJob(job)),primitive&&job.updateByTicketValues(primitive),job},removeJob:function(sid){return!!this.hasJob(sid)&&(this._jobManifest[sid]=null,delete this._jobManifest[sid],!0)},listJobs:function(callback){callback=callback||function(job){if(job)return!0};var jobs=new Splunk.JobArray;for(var sid in this._jobManifest)this._jobManifest.hasOwnProperty(sid)&&callback(this._jobManifest[sid])&&jobs.push(this._jobManifest[sid]);return jobs},clearForPolling:function(){if(!this.isClearedForPolling())for(var sid in this.setClearedForPolling(!0),this._jobManifest)this._receiveJob(null,this._jobManifest[sid])},isClearedForPolling:function(){return this._clearedForPolling},setClearedForPolling:function(flag){this._clearedForPolling=!!flag},refresh:function(){this._pollCount=0,this.targetInterval=this.LONG_RUNNING_POLLER_INTERVAL,this._tuneRefreshInterval(),this.start()},start:function(){this.clearForPolling(),this._getStatus(null),this._startKeepAlive()},stop:function(){this._stopPollTimer(),this._stopPolling=!0,this._stopKeepAlive()},_stopPollTimer:function(){this._pollTimer&&(clearTimeout(this._pollTimer),this._pollTimer=null)},penalizePoller:function(){if(!this._lastActiveStartTime||new Date-this._lastActiveStartTime<this.POLLER_CLAMP_TIME)this.logger.info("not eligible for penalization");else{var from=this.targetInterval;this.targetInterval=Math.round(Math.min(this.targetInterval*this.PENALIZE_POLLER_MULTIPLIER+this.PENALIZE_POLLER_INCREMENT,this.MAX_POLLER_INTERVAL),10),this.logger.info("penalize from:",from,"to:",this.targetInterval)}},_tuneRefreshInterval:function(forcedInterval){if(forcedInterval)this.refreshInterval=forcedInterval;else{this.targetInterval=Math.max(this.LONG_RUNNING_POLLER_INTERVAL,this.targetInterval-this.PENALIZE_POLLER_INCREMENT);var elapsedTime=0;this._lastActiveStartTime?elapsedTime=new Date-this._lastActiveStartTime:this._lastActiveStartTime=new Date;var desiredInterval=Splunk.util.getRetryInterval(elapsedTime,this.MIN_POLLER_INTERVAL,this.targetInterval,this.POLLER_CLAMP_TIME);this.refreshInterval=Math.round(desiredInterval),this.logger.info("calculated refresh interval including penalization:",this.refreshInterval);for(var historySize=this._latencyHistory.length,avgLatency=0,i=0;i<historySize;i++)avgLatency+=this._latencyHistory[i];avgLatency/=this._latencyHistory.length,this._pollCount%10==0&&this.logger.info("Jobber.getStatus - average latency=",avgLatency,"ms")}},_managePoller:function(){this._pollCount++,this._tuneRefreshInterval(),this._stopPolling||(this._pollTimer=setTimeout(this._getStatus.bind(this),this.refreshInterval))},_getStatus:function(evt,forceRefresh){if(!this._isGettingStatus){this._stopPolling=!1,this._stopPollTimer();var getargs={},beforeSend=null,sids=jQuery.map(this.listJobs((function(job){return!job.isCanceled()&&(job.isRunning()||job.isPaused()||job.isPreparing())})),(function(job){return job.getSearchId()}));if(!(sids.length>0))return this.logger.debug("Active jobs done, slowing down the poller."),void(this._stopPolling=!0);this.logger.info("has running job; repolling at ",this.refreshInterval),getargs.s=sids,beforeSend=function(xhr){if(this._jobManifestHash)try{xhr.setRequestHeader("If-None-Match",this._jobManifestHash)}catch(e){}}.bind(this),this._isGettingStatus=!0,getargs.wait=0,this._getStatusStartTime=new Date,Splunk.util.getConfigValue("NOCACHE",!1)&&(getargs.cachebuster=this._getStatusStartTime.getTime()),$.ajax({type:"GET",dataType:"html",url:this.JOB_MGMT_ENDPOINT,data:getargs,beforeSend:beforeSend,complete:this._getStatusCompleteCallback.bind(this),error:this._getStatusErrorCallback.bind(this)})}},_getStatusErrorCallback:function(xhr,status,error){this._isGettingStatus=!1,this.logger.error("_getStatusErrorCallback - status="+status+" error="+error),xhr.status>=400&&this.messenger.send("error","splunk.search.job.listing",sprintf(_('There was an error requesting the job listing. Status "%(status)s". Error message: "%(statusText)s"'),xhr))},_getStatusCompleteCallback:function(xhr,status){if(this._isGettingStatus=!1,this._latencyHistory.push(new Date-this._getStatusStartTime),this._latencyHistory.length>20&&this._latencyHistory.shift(),this._jobManifestHash=xhr.getResponseHeader("Etag"),304==xhr.status)return this.keepRealTimeSearchesProgressing(),void this._managePoller();try{var responseJSON=JSON.parse(xhr.responseText)}catch(e){return void this.logger.error("Could not parse jobber xhr.responseText within _getStatusCompleteCallback function. Error:",e)}var data=responseJSON.data;if(data&&data instanceof Array){for(var sid,isUpdated,isPaused,isFinalized,isDone,localJob,currentTicket,deltas,k=0,l=data.length;k<l;k++)if(sid=(currentTicket=data[k]).sid,currentTicket.hasOwnProperty("__notfound__"))this.logger.debug(sprintf("Appserver doesn't have a record of the job %s, removing it from the ticketManifest.",sid)),this.hasJob(sid)&&(this.getJob(sid).isCanceled()||(this.messenger.send("info","splunk.search.job",sprintf(_('The running job "%(sid)s" was canceled remotely or expired.'),{sid:sid})),$(document).trigger("jobStatusChanged",[sid,"cancel"]),$(document).trigger("jobCanceled",[sid])),this.removeJob(sid));else if(this.hasJob(sid)){for(var msgSeverity in isPaused=(localJob=this.getJob(sid)).isPaused(),isFinalized=localJob.isFinalized(),isDone=localJob.isDone(),(deltas={}).scanCount=currentTicket.scanCount-localJob.getScanCount(),deltas.eventCount=currentTicket.eventCount-localJob.getEventCount(),!1,deltas.resultCount=currentTicket.resultCount-localJob.getResultCount(!1),deltas.eventAvailableCount=localJob.getStatusBuckets()>0?currentTicket.eventAvailableCount-localJob.getEventAvailableCount():0,deltas.dispatchState=currentTicket.dispatchState==localJob._dispatchState?0:1,isUpdated=deltas.scanCount>0||0!=deltas.eventCount||0!=deltas.resultCount||0!=deltas.eventAvailableCount||0!=deltas.dispatchState,currentTicket.messages)if(currentTicket.messages.hasOwnProperty(msgSeverity))for(var n=0,M=currentTicket.messages[msgSeverity].length;n<M;n++)this.messenger.send(msgSeverity,"splunk.search.job",currentTicket.messages[msgSeverity][n]);this.buildJob(sid,currentTicket),isDone||(currentTicket.isPaused&&!isPaused&&(this.logger.info("Jobber.getStatus - PAUSED sid=",sid,"eventCount=",currentTicket.eventCount),$(document).trigger("jobPaused",[localJob])),currentTicket.isFinalized&&!isFinalized&&(this.logger.info("Jobber.getStatus - FINALIZED sid=",sid,"eventCount=",currentTicket.eventCount),$(document).trigger("jobFinalized",[localJob])),currentTicket.isDone?(this.logger.info("Jobber.getStatus - DONE sid="+sid+" eventCount="+currentTicket.eventCount),$(document).trigger("jobProgress",[localJob]),$(document).trigger("jobDone",[localJob]),localJob.setLastProgressTime()):isUpdated&&!localJob.isPreparing()&&(this.logger.info("Jobber.getStatus - PROGRESS sid="+sid+" eventCount="+currentTicket.eventCount),$(document).trigger("jobProgress",[localJob]),localJob.setLastProgressTime()))}else this.buildJob(sid,currentTicket);this.keepRealTimeSearchesProgressing(),this._managePoller(),$(document).trigger("jobberTicketsRefreshed"),this.ticketsLoaded||(this.ticketsLoaded=!0)}else if(this.logger.warn("Upon polling, Jobber received an invalid response from the appserver."),responseJSON.messages&&responseJSON.messages.length>0)for(var i=0,j=responseJSON.messages.length;i<j;i+=1)this.messenger.send(responseJSON.messages[i].type.toLowerCase(),"splunk.search.job",responseJSON.messages[i].message)},keepRealTimeSearchesProgressing:function(){for(var interval=2*this.LONG_RUNNING_POLLER_INTERVAL,jobs=this.listJobs((function(job){return job.isRunning()&&job.isRealTimeSearch()&&job.getTimeSinceLastProgress()>interval})),i=0,len=jobs.length;i<len;i++){var job=jobs[i];$(document).trigger("jobProgress",[job]),job.setLastProgressTime()}},_keepAlive:function(){var sids=jQuery.map(this.listJobs(),(function(job){return job.getSID()}));sids.length>0?(this.logger.debug("Touching the following sids:",sids),$.post(this.BATCH_EDIT_ENDPOINT,{action:"touch",sid:sids},this._keepAliveCallback.bind(this),"json")):this._stopKeepAlive()},_keepAliveCallback:function(response){if(void 0!==response&&response.data.length>0)for(var i=0,j=response.data.length;i<j;i++)response.data[i].response||this.removeJob(response.data[i].sid)},_startKeepAlive:function(){this._keepAlivePoller||(this._keepAlivePoller=setInterval(this._keepAlive.bind(this),this.KEEP_ALIVE_INTERVAL))},_stopKeepAlive:function(){this._keepAlivePoller&&(clearInterval(this._keepAlivePoller),this._keepAlivePoller=null)}})},"startupjs/src/jquery.sparkline":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(document,Math,undefined){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function($){"use strict";var getDefaults,createClass,SPFormat,clipval,quartile,normalizeValue,normalizeValues,remove,isNumber,all,addCSS,ensureArray,formatNumber,RangeMap,MouseHandler,Tooltip,barHighlightMixin,line,bar,tristate,discrete,bullet,pie,box,VShape,VCanvas_base,VCanvas_canvas,VCanvas_vml,pending,UNSET_OPTION={},shapeCount=0;getDefaults=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new SPFormat('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new SPFormat('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new SPFormat('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new SPFormat("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new SPFormat("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new SPFormat('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new SPFormat("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},createClass=function(){var Class,args;return Class=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(Class.prototype=$.extend(new arguments[0],arguments[arguments.length-1]),Class._super=arguments[0].prototype):Class.prototype=arguments[arguments.length-1],arguments.length>2&&((args=Array.prototype.slice.call(arguments,1,-1)).unshift(Class.prototype),$.extend.apply($,args))):Class.prototype=arguments[0],Class.prototype.cls=Class,Class},$.SPFormatClass=SPFormat=createClass({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(format,fclass){this.format=format,this.fclass=fclass},render:function(fieldset,lookups,options){var match,token,lookupkey,fieldvalue,prec,self=this,fields=fieldset;return this.format.replace(this.fre,(function(){return token=arguments[1],lookupkey=arguments[3],(match=self.precre.exec(token))?(prec=match[2],token=match[1]):prec=!1,void 0===(fieldvalue=fields[token])?"":lookupkey&&lookups&&lookups[lookupkey]?lookups[lookupkey].get?lookups[lookupkey].get(fieldvalue)||fieldvalue:lookups[lookupkey][fieldvalue]||fieldvalue:(isNumber(fieldvalue)&&(fieldvalue=options.get("numberFormatter")?options.get("numberFormatter")(fieldvalue):formatNumber(fieldvalue,prec,options.get("numberDigitGroupCount"),options.get("numberDigitGroupSep"),options.get("numberDecimalMark"))),fieldvalue)}))}}),$.spformat=function(format,fclass){return new SPFormat(format,fclass)},clipval=function(val,min,max){return val<min?min:val>max?max:val},quartile=function(values,q){var vl;return 2===q?(vl=Math.floor(values.length/2),values.length%2?values[vl]:(values[vl-1]+values[vl])/2):values.length%2?(vl=(values.length*q+q)/4)%1?(values[Math.floor(vl)]+values[Math.floor(vl)-1])/2:values[vl-1]:(vl=(values.length*q+2)/4)%1?(values[Math.floor(vl)]+values[Math.floor(vl)-1])/2:values[vl-1]},normalizeValue=function(val){var nf;switch(val){case"undefined":val=void 0;break;case"null":val=null;break;case"true":val=!0;break;case"false":val=!1;break;default:val==(nf=parseFloat(val))&&(val=nf)}return val},normalizeValues=function(vals){var i,result=[];for(i=vals.length;i--;)result[i]=normalizeValue(vals[i]);return result},remove=function(vals,filter){var i,vl,result=[];for(i=0,vl=vals.length;i<vl;i++)vals[i]!==filter&&result.push(vals[i]);return result},isNumber=function(num){return!isNaN(parseFloat(num))&&isFinite(num)},formatNumber=function(num,prec,groupsize,groupsep,decsep){var p,i;for(num=(!1===prec?parseFloat(num).toString():num.toFixed(prec)).split(""),(p=(p=$.inArray(".",num))<0?num.length:p)<num.length&&(num[p]=decsep),i=p-groupsize;i>0;i-=groupsize)num.splice(i,0,groupsep);return num.join("")},all=function(val,arr,ignoreNull){var i;for(i=arr.length;i--;)if((!ignoreNull||null!==arr[i])&&arr[i]!==val)return!1;return!0},ensureArray=function(val){return $.isArray(val)?val:[val]},addCSS=function(css){var tag,iefail;if(document.createStyleSheet)try{return void(document.createStyleSheet().cssText=css)}catch(e){iefail=!0}(tag=document.createElement("style")).type="text/css",document.getElementsByTagName("head")[0].appendChild(tag),iefail?document.styleSheets[document.styleSheets.length-1].cssText=css:tag["string"==typeof document.body.style.WebkitAppearance?"innerText":"innerHTML"]=css},$.fn.simpledraw=function(width,height,useExisting,interact){var target,mhandler;if(useExisting&&(target=this.data("_jqs_vcanvas")))return target;if(!1===$.fn.sparkline.canvas)return!1;if(void 0===$.fn.sparkline.canvas){var el=document.createElement("canvas");if(el.getContext&&el.getContext("2d"))$.fn.sparkline.canvas=function(width,height,target,interact){return new VCanvas_canvas(width,height,target,interact)};else{if(!document.namespaces||document.namespaces.v)return $.fn.sparkline.canvas=!1,!1;document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),$.fn.sparkline.canvas=function(width,height,target,interact){return new VCanvas_vml(width,height,target)}}}return void 0===width&&(width=$(this).innerWidth()),void 0===height&&(height=$(this).innerHeight()),target=$.fn.sparkline.canvas(width,height,this,interact),(mhandler=$(this).data("_jqs_mhandler"))&&mhandler.registerCanvas(target),target},$.fn.cleardraw=function(){var target=this.data("_jqs_vcanvas");target&&target.reset()},$.RangeMapClass=RangeMap=createClass({init:function(map){var key,range,rangelist=[];for(key in map)map.hasOwnProperty(key)&&"string"==typeof key&&key.indexOf(":")>-1&&((range=key.split(":"))[0]=0===range[0].length?-1/0:parseFloat(range[0]),range[1]=0===range[1].length?1/0:parseFloat(range[1]),range[2]=map[key],rangelist.push(range));this.map=map,this.rangelist=rangelist||!1},get:function(value){var i,range,result,rangelist=this.rangelist;if(void 0!==(result=this.map[value]))return result;if(rangelist)for(i=rangelist.length;i--;)if((range=rangelist[i])[0]<=value&&range[1]>=value)return range[2]}}),$.range_map=function(map){return new RangeMap(map)},MouseHandler=createClass({init:function(el,options){var $el=$(el);this.$el=$el,this.options=options,this.currentPageX=0,this.currentPageY=0,this.el=el,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!options.get("disableTooltips"),this.highlightEnabled=!options.get("disableHighlight")},registerSparkline:function(sp){this.splist.push(sp),this.over&&this.updateDisplay()},registerCanvas:function(canvas){var $canvas=$(canvas.canvas);this.canvas=canvas,this.$canvas=$canvas,$canvas.mouseenter($.proxy(this.mouseenter,this)),$canvas.mouseleave($.proxy(this.mouseleave,this)),$canvas.click($.proxy(this.mouseclick,this))},reset:function(removeTooltip){this.splist=[],this.tooltip&&removeTooltip&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(e){var clickEvent=$.Event("sparklineClick");clickEvent.originalEvent=e,clickEvent.sparklines=this.splist,this.$el.trigger(clickEvent)},mouseenter:function(e){$(document.body).unbind("mousemove.jqs"),$(document.body).bind("mousemove.jqs",$.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new Tooltip(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){$(document.body).unbind("mousemove.jqs");var i,splist=this.splist,spcount=splist.length,needsRefresh=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;i<spcount;i++)splist[i].clearRegionHighlight()&&(needsRefresh=!0);needsRefresh&&this.canvas.render()},mousemove:function(e){this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,this.tooltip&&this.tooltip.updatePosition(e.pageX,e.pageY),this.updateDisplay()},updateDisplay:function(){var tooltiphtml,i,result,changeEvent,splist=this.splist,spcount=splist.length,needsRefresh=!1,offset=this.$canvas.offset(),localX=this.currentPageX-offset.left,localY=this.currentPageY-offset.top;if(this.over){for(i=0;i<spcount;i++)(result=splist[i].setRegionHighlight(this.currentEl,localX,localY))&&(needsRefresh=!0);if(needsRefresh){if((changeEvent=$.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(changeEvent),this.tooltip){for(tooltiphtml="",i=0;i<spcount;i++)tooltiphtml+=splist[i].getCurrentRegionTooltip();this.tooltip.setContent(tooltiphtml)}this.disableHighlight||this.canvas.render()}null===result&&this.mouseleave()}}}),Tooltip=createClass({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(options){var offset,tooltipClassname=options.get("tooltipClassname","jqstooltip"),sizetipStyle=this.sizeStyle;this.container=options.get("tooltipContainer")||document.body,this.tooltipOffsetX=options.get("tooltipOffsetX",10),this.tooltipOffsetY=options.get("tooltipOffsetY",12),$("#jqssizetip").remove(),$("#jqstooltip").remove(),this.sizetip=$("<div/>",{id:"jqssizetip",style:sizetipStyle,class:tooltipClassname}),this.tooltip=$("<div/>",{id:"jqstooltip",class:tooltipClassname}).appendTo(this.container),offset=this.tooltip.offset(),this.offsetLeft=offset.left,this.offsetTop=offset.top,this.hidden=!0,$(window).unbind("resize.jqs scroll.jqs"),$(window).bind("resize.jqs scroll.jqs",$.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=$(window).scrollTop(),this.scrollLeft=$(window).scrollLeft(),this.scrollRight=this.scrollLeft+$(window).width(),this.updatePosition()},getSize:function(content){this.sizetip.html(content).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(content){if(!content)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(content),this.tooltip.html(content).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(x,y){if(void 0===x){if(void 0===this.mousex)return;x=this.mousex-this.offsetLeft,y=this.mousey-this.offsetTop}else this.mousex=x-=this.offsetLeft,this.mousey=y-=this.offsetTop;this.height&&this.width&&!this.hidden&&(y-=this.height+this.tooltipOffsetY,x+=this.tooltipOffsetX,y<this.scrollTop&&(y=this.scrollTop),x<this.scrollLeft?x=this.scrollLeft:x+this.width>this.scrollRight&&(x=this.scrollRight-this.width),this.tooltip.css({left:x,top:y}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,$(window).unbind("resize.jqs scroll.jqs")}}),$((function(){addCSS('.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}')})),pending=[],$.fn.sparkline=function(userValues,userOptions){return this.each((function(){var render,i,options=new $.fn.sparkline.options(this,userOptions),$this=$(this);if(render=function(){var values,width,height,tmp,mhandler,sp,vals;"html"===userValues||void 0===userValues?(null==(vals=this.getAttribute(options.get("tagValuesAttribute")))&&(vals=$this.html()),values=vals.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):values=userValues,width="auto"===options.get("width")?values.length*options.get("defaultPixelsPerValue"):options.get("width"),"auto"===options.get("height")?options.get("composite")&&$.data(this,"_jqs_vcanvas")||((tmp=document.createElement("span")).innerHTML="a",$this.html(tmp),height=$(tmp).innerHeight()||$(tmp).height(),$(tmp).remove(),tmp=null):height=options.get("height"),options.get("disableInteraction")?mhandler=!1:(mhandler=$.data(this,"_jqs_mhandler"))?options.get("composite")||mhandler.reset():(mhandler=new MouseHandler(this,options),$.data(this,"_jqs_mhandler",mhandler)),!options.get("composite")||$.data(this,"_jqs_vcanvas")?((sp=new($.fn.sparkline[options.get("type")])(this,values,options,width,height)).render(),mhandler&&mhandler.registerSparkline(sp)):$.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),$.data(this,"_jqs_errnotify",!0))},$(this).html()&&!options.get("disableHiddenCheck")&&$(this).is(":hidden")||!$(this).parents("body").length){if(!options.get("composite")&&$.data(this,"_jqs_pending"))for(i=pending.length;i;i--)pending[i-1][0]==this&&pending.splice(i-1,1);pending.push([this,render]),$.data(this,"_jqs_pending",!0)}else render.call(this)}))},$.fn.sparkline.defaults=getDefaults(),$.sparkline_display_visible=function(){var el,i,pl,done=[];for(i=0,pl=pending.length;i<pl;i++)el=pending[i][0],$(el).is(":visible")&&!$(el).parents().is(":hidden")?(pending[i][1].call(el),$.data(pending[i][0],"_jqs_pending",!1),done.push(i)):$(el).closest("html").length||$.data(el,"_jqs_pending")||($.data(pending[i][0],"_jqs_pending",!1),done.push(i));for(i=done.length;i;i--)pending.splice(done[i-1],1)},$.fn.sparkline.options=createClass({init:function(tag,userOptions){var extendedOptions,defaults,base,tagOptionType;this.userOptions=userOptions=userOptions||{},this.tag=tag,this.tagValCache={},base=(defaults=$.fn.sparkline.defaults).common,this.tagOptionsPrefix=userOptions.enableTagOptions&&(userOptions.tagOptionsPrefix||base.tagOptionsPrefix),extendedOptions=(tagOptionType=this.getTagSetting("type"))===UNSET_OPTION?defaults[userOptions.type||base.type]:defaults[tagOptionType],this.mergedOptions=$.extend({},base,extendedOptions,userOptions)},getTagSetting:function(key){var val,i,pairs,keyval,prefix=this.tagOptionsPrefix;if(!1===prefix||void 0===prefix)return UNSET_OPTION;if(this.tagValCache.hasOwnProperty(key))val=this.tagValCache.key;else{if(null==(val=this.tag.getAttribute(prefix+key)))val=UNSET_OPTION;else if("["===val.substr(0,1))for(i=(val=val.substr(1,val.length-2).split(",")).length;i--;)val[i]=normalizeValue(val[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===val.substr(0,1))for(pairs=val.substr(1,val.length-2).split(","),val={},i=pairs.length;i--;)val[(keyval=pairs[i].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=normalizeValue(keyval[1].replace(/(^\s*)|(\s*$)/g,""));else val=normalizeValue(val);this.tagValCache.key=val}return val},get:function(key,defaultval){var result,tagOption=this.getTagSetting(key);return tagOption!==UNSET_OPTION?tagOption:void 0===(result=this.mergedOptions[key])?defaultval:result}}),$.fn.sparkline._base=createClass({disabled:!1,init:function(el,values,options,width,height){this.el=el,this.$el=$(el),this.values=values,this.options=options,this.width=width,this.height=height,this.currentRegion=void 0},initTarget:function(){var interactive=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),interactive))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(x,y){},setRegionHighlight:function(el,x,y){var newRegion,currentRegion=this.currentRegion,highlightEnabled=!this.options.get("disableHighlight");return x>this.canvasWidth||y>this.canvasHeight||x<0||y<0?null:currentRegion!==(newRegion=this.getRegion(el,x,y))&&(void 0!==currentRegion&&highlightEnabled&&this.removeHighlight(),this.currentRegion=newRegion,void 0!==newRegion&&highlightEnabled&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return void 0!==this.currentRegion&&(this.removeHighlight(),this.currentRegion=void 0,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(highlight){},getCurrentRegionTooltip:function(){var fields,formats,formatlen,fclass,text,i,showFields,showFieldsKey,newFields,fv,formatter,format,fieldlen,j,options=this.options,header="",entries=[];if(void 0===this.currentRegion)return"";if(fields=this.getCurrentRegionFields(),formatter=options.get("tooltipFormatter"))return formatter(this,options,fields);if(options.get("tooltipChartTitle")&&(header+='<div class="jqs jqstitle">'+options.get("tooltipChartTitle")+"</div>\n"),!(formats=this.options.get("tooltipFormat")))return"";if($.isArray(formats)||(formats=[formats]),$.isArray(fields)||(fields=[fields]),showFields=this.options.get("tooltipFormatFieldlist"),showFieldsKey=this.options.get("tooltipFormatFieldlistKey"),showFields&&showFieldsKey){for(newFields=[],i=fields.length;i--;)fv=fields[i][showFieldsKey],-1!=(j=$.inArray(fv,showFields))&&(newFields[j]=fields[i]);fields=newFields}for(formatlen=formats.length,fieldlen=fields.length,i=0;i<formatlen;i++)for("string"==typeof(format=formats[i])&&(format=new SPFormat(format)),fclass=format.fclass||"jqsfield",j=0;j<fieldlen;j++)fields[j].isNull&&options.get("tooltipSkipNull")||($.extend(fields[j],{prefix:options.get("tooltipPrefix"),suffix:options.get("tooltipSuffix")}),text=format.render(fields[j],options.get("tooltipValueLookups"),options),entries.push('<div class="'+fclass+'">'+text+"</div>"));return entries.length?header+entries.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(color,options){var parse,mult,rgbnew,i,highlightColor=options.get("highlightColor"),lighten=options.get("highlightLighten");if(highlightColor)return highlightColor;if(lighten&&(parse=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(color)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(color))){for(rgbnew=[],mult=4===color.length?16:1,i=0;i<3;i++)rgbnew[i]=clipval(Math.round(parseInt(parse[i+1],16)*mult*lighten),0,255);return"rgb("+rgbnew.join(",")+")"}return color}}),barHighlightMixin={changeHighlight:function(highlight){var newShapes,currentRegion=this.currentRegion,target=this.target,shapeids=this.regionShapes[currentRegion];shapeids&&(newShapes=this.renderRegion(currentRegion,highlight),$.isArray(newShapes)||$.isArray(shapeids)?(target.replaceWithShapes(shapeids,newShapes),this.regionShapes[currentRegion]=$.map(newShapes,(function(newShape){return newShape.id}))):(target.replaceWithShape(shapeids,newShapes),this.regionShapes[currentRegion]=newShapes.id))},render:function(){var shapes,ids,i,j,values=this.values,target=this.target,regionShapes=this.regionShapes;if(this.cls._super.render.call(this)){for(i=values.length;i--;)if(shapes=this.renderRegion(i))if($.isArray(shapes)){for(ids=[],j=shapes.length;j--;)shapes[j].append(),ids.push(shapes[j].id);regionShapes[i]=ids}else shapes.append(),regionShapes[i]=shapes.id;else regionShapes[i]=null;target.render()}}},$.fn.sparkline.line=line=createClass($.fn.sparkline._base,{type:"line",init:function(el,values,options,width,height){line._super.init.call(this,el,values,options,width,height),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(el,x,y){var i,regionMap=this.regionMap;for(i=regionMap.length;i--;)if(null!==regionMap[i]&&x>=regionMap[i][0]&&x<=regionMap[i][1])return regionMap[i][2]},getCurrentRegionFields:function(){var currentRegion=this.currentRegion;return{isNull:null===this.yvalues[currentRegion],x:this.xvalues[currentRegion],y:this.yvalues[currentRegion],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:currentRegion}},renderHighlight:function(){var highlightSpot,highlightLine,currentRegion=this.currentRegion,target=this.target,vertex=this.vertices[currentRegion],options=this.options,spotRadius=options.get("spotRadius"),highlightSpotColor=options.get("highlightSpotColor"),highlightLineColor=options.get("highlightLineColor");vertex&&(spotRadius&&highlightSpotColor&&(highlightSpot=target.drawCircle(vertex[0],vertex[1],spotRadius,void 0,highlightSpotColor),this.highlightSpotId=highlightSpot.id,target.insertAfterShape(this.lastShapeId,highlightSpot)),highlightLineColor&&(highlightLine=target.drawLine(vertex[0],this.canvasTop,vertex[0],this.canvasTop+this.canvasHeight,highlightLineColor),this.highlightLineId=highlightLine.id,target.insertAfterShape(this.lastShapeId,highlightLine)))},removeHighlight:function(){var target=this.target;this.highlightSpotId&&(target.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(target.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var i,val,isStr,isArray,sp,values=this.values,valcount=values.length,xvalues=this.xvalues,yvalues=this.yvalues,yminmax=this.yminmax;for(i=0;i<valcount;i++)val=values[i],isStr="string"==typeof values[i],isArray="object"==typeof values[i]&&values[i]instanceof Array,sp=isStr&&values[i].split(":"),isStr&&2===sp.length?(xvalues.push(Number(sp[0])),yvalues.push(Number(sp[1])),yminmax.push(Number(sp[1]))):isArray?(xvalues.push(val[0]),yvalues.push(val[1]),yminmax.push(val[1])):(xvalues.push(i),null===values[i]||"null"===values[i]?yvalues.push(null):(yvalues.push(Number(val)),yminmax.push(Number(val))));this.options.get("xvalues")&&(xvalues=this.options.get("xvalues")),this.maxy=this.maxyorg=Math.max.apply(Math,yminmax),this.miny=this.minyorg=Math.min.apply(Math,yminmax),this.maxx=Math.max.apply(Math,xvalues),this.minx=Math.min.apply(Math,xvalues),this.xvalues=xvalues,this.yvalues=yvalues,this.yminmax=yminmax},processRangeOptions:function(){var options=this.options,normalRangeMin=options.get("normalRangeMin"),normalRangeMax=options.get("normalRangeMax");void 0!==normalRangeMin&&(normalRangeMin<this.miny&&(this.miny=normalRangeMin),normalRangeMax>this.maxy&&(this.maxy=normalRangeMax)),void 0!==options.get("chartRangeMin")&&(options.get("chartRangeClip")||options.get("chartRangeMin")<this.miny)&&(this.miny=options.get("chartRangeMin")),void 0!==options.get("chartRangeMax")&&(options.get("chartRangeClip")||options.get("chartRangeMax")>this.maxy)&&(this.maxy=options.get("chartRangeMax")),void 0!==options.get("chartRangeMinX")&&(options.get("chartRangeClipX")||options.get("chartRangeMinX")<this.minx)&&(this.minx=options.get("chartRangeMinX")),void 0!==options.get("chartRangeMaxX")&&(options.get("chartRangeClipX")||options.get("chartRangeMaxX")>this.maxx)&&(this.maxx=options.get("chartRangeMaxX"))},drawNormalRange:function(canvasLeft,canvasTop,canvasHeight,canvasWidth,rangey){var normalRangeMin=this.options.get("normalRangeMin"),normalRangeMax=this.options.get("normalRangeMax"),ytop=canvasTop+Math.round(canvasHeight-canvasHeight*((normalRangeMax-this.miny)/rangey)),height=Math.round(canvasHeight*(normalRangeMax-normalRangeMin)/rangey);this.target.drawRect(canvasLeft,ytop,canvasWidth,height,void 0,this.options.get("normalRangeColor")).append()},render:function(){var rangex,rangey,yvallast,canvasTop,canvasLeft,vertex,path,paths,x,y,xnext,xpos,last,next,yvalcount,lineShapes,fillShapes,plen,valueSpots,hlSpotsEnabled,color,xvalues,yvalues,i,options=this.options,target=this.target,canvasWidth=this.canvasWidth,canvasHeight=this.canvasHeight,vertices=this.vertices,spotRadius=options.get("spotRadius"),regionMap=this.regionMap;if(line._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),xvalues=this.xvalues,yvalues=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(canvasTop=canvasLeft=0,rangex=this.maxx-this.minx==0?1:this.maxx-this.minx,rangey=this.maxy-this.miny==0?1:this.maxy-this.miny,yvallast=this.yvalues.length-1,spotRadius&&(canvasWidth<4*spotRadius||canvasHeight<4*spotRadius)&&(spotRadius=0),spotRadius&&(((hlSpotsEnabled=options.get("highlightSpotColor")&&!options.get("disableInteraction"))||options.get("minSpotColor")||options.get("spotColor")&&yvalues[yvallast]===this.miny)&&(canvasHeight-=Math.ceil(spotRadius)),(hlSpotsEnabled||options.get("maxSpotColor")||options.get("spotColor")&&yvalues[yvallast]===this.maxy)&&(canvasHeight-=Math.ceil(spotRadius),canvasTop+=Math.ceil(spotRadius)),(hlSpotsEnabled||(options.get("minSpotColor")||options.get("maxSpotColor"))&&(yvalues[0]===this.miny||yvalues[0]===this.maxy))&&(canvasLeft+=Math.ceil(spotRadius),canvasWidth-=Math.ceil(spotRadius)),(hlSpotsEnabled||options.get("spotColor")||options.get("minSpotColor")||options.get("maxSpotColor")&&(yvalues[yvallast]===this.miny||yvalues[yvallast]===this.maxy))&&(canvasWidth-=Math.ceil(spotRadius))),canvasHeight--,void 0===options.get("normalRangeMin")||options.get("drawNormalOnTop")||this.drawNormalRange(canvasLeft,canvasTop,canvasHeight,canvasWidth,rangey),paths=[path=[]],last=next=null,yvalcount=yvalues.length,i=0;i<yvalcount;i++)x=xvalues[i],xnext=xvalues[i+1],y=yvalues[i],next=(xpos=canvasLeft+Math.round((x-this.minx)*(canvasWidth/rangex)))+((i<yvalcount-1?canvasLeft+Math.round((xnext-this.minx)*(canvasWidth/rangex)):canvasWidth)-xpos)/2,regionMap[i]=[last||0,next,i],last=next,null===y?i&&(null!==yvalues[i-1]&&(path=[],paths.push(path)),vertices.push(null)):(y<this.miny&&(y=this.miny),y>this.maxy&&(y=this.maxy),path.length||path.push([xpos,canvasTop+canvasHeight]),vertex=[xpos,canvasTop+Math.round(canvasHeight-canvasHeight*((y-this.miny)/rangey))],path.push(vertex),vertices.push(vertex));for(lineShapes=[],fillShapes=[],plen=paths.length,i=0;i<plen;i++)(path=paths[i]).length&&(options.get("fillColor")&&(path.push([path[path.length-1][0],canvasTop+canvasHeight]),fillShapes.push(path.slice(0)),path.pop()),path.length>2&&(path[0]=[path[0][0],path[1][1]]),lineShapes.push(path));for(plen=fillShapes.length,i=0;i<plen;i++)target.drawShape(fillShapes[i],options.get("fillColor"),options.get("fillColor")).append();for(void 0!==options.get("normalRangeMin")&&options.get("drawNormalOnTop")&&this.drawNormalRange(canvasLeft,canvasTop,canvasHeight,canvasWidth,rangey),plen=lineShapes.length,i=0;i<plen;i++)target.drawShape(lineShapes[i],options.get("lineColor"),void 0,options.get("lineWidth")).append();if(spotRadius&&options.get("valueSpots"))for(void 0===(valueSpots=options.get("valueSpots")).get&&(valueSpots=new RangeMap(valueSpots)),i=0;i<yvalcount;i++)(color=valueSpots.get(yvalues[i]))&&target.drawCircle(canvasLeft+Math.round((xvalues[i]-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-canvasHeight*((yvalues[i]-this.miny)/rangey)),spotRadius,void 0,color).append();spotRadius&&options.get("spotColor")&&null!==yvalues[yvallast]&&target.drawCircle(canvasLeft+Math.round((xvalues[xvalues.length-1]-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-canvasHeight*((yvalues[yvallast]-this.miny)/rangey)),spotRadius,void 0,options.get("spotColor")).append(),this.maxy!==this.minyorg&&(spotRadius&&options.get("minSpotColor")&&(x=xvalues[$.inArray(this.minyorg,yvalues)],target.drawCircle(canvasLeft+Math.round((x-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-canvasHeight*((this.minyorg-this.miny)/rangey)),spotRadius,void 0,options.get("minSpotColor")).append()),spotRadius&&options.get("maxSpotColor")&&(x=xvalues[$.inArray(this.maxyorg,yvalues)],target.drawCircle(canvasLeft+Math.round((x-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-canvasHeight*((this.maxyorg-this.miny)/rangey)),spotRadius,void 0,options.get("maxSpotColor")).append())),this.lastShapeId=target.getLastShapeId(),this.canvasTop=canvasTop,target.render()}}}),$.fn.sparkline.bar=bar=createClass($.fn.sparkline._base,barHighlightMixin,{type:"bar",init:function(el,values,options,width,height){var isStackString,groupMin,groupMax,stackRanges,numValues,i,vlen,range,zeroAxis,xaxisOffset,min,max,clipMin,clipMax,stacked,vlist,j,slen,svals,val,yoffset,barWidth=parseInt(options.get("barWidth"),10),barSpacing=parseInt(options.get("barSpacing"),10),chartRangeMin=options.get("chartRangeMin"),chartRangeMax=options.get("chartRangeMax"),chartRangeClip=options.get("chartRangeClip"),stackMin=1/0,stackMax=-1/0;for(bar._super.init.call(this,el,values,options,width,height),i=0,vlen=values.length;i<vlen;i++)((isStackString="string"==typeof(val=values[i])&&val.indexOf(":")>-1)||$.isArray(val))&&(stacked=!0,isStackString&&(val=values[i]=normalizeValues(val.split(":"))),val=remove(val,null),(groupMin=Math.min.apply(Math,val))<stackMin&&(stackMin=groupMin),(groupMax=Math.max.apply(Math,val))>stackMax&&(stackMax=groupMax));this.stacked=stacked,this.regionShapes={},this.barWidth=barWidth,this.barSpacing=barSpacing,this.totalBarWidth=barWidth+barSpacing,this.width=width=values.length*barWidth+(values.length-1)*barSpacing,this.initTarget(),chartRangeClip&&(clipMin=void 0===chartRangeMin?-1/0:chartRangeMin,clipMax=void 0===chartRangeMax?1/0:chartRangeMax),numValues=[],stackRanges=stacked?[]:numValues;var stackTotals=[],stackRangesNeg=[];for(i=0,vlen=values.length;i<vlen;i++)if(stacked)for(vlist=values[i],values[i]=svals=[],stackTotals[i]=0,stackRanges[i]=stackRangesNeg[i]=0,j=0,slen=vlist.length;j<slen;j++)null!==(val=svals[j]=chartRangeClip?clipval(vlist[j],clipMin,clipMax):vlist[j])&&(val>0&&(stackTotals[i]+=val),stackMin<0&&stackMax>0?val<0?stackRangesNeg[i]+=Math.abs(val):stackRanges[i]+=val:stackRanges[i]+=Math.abs(val-(val<0?stackMax:stackMin)),numValues.push(val));else val=chartRangeClip?clipval(values[i],clipMin,clipMax):values[i],null!==(val=values[i]=normalizeValue(val))&&numValues.push(val);this.max=max=Math.max.apply(Math,numValues),this.min=min=Math.min.apply(Math,numValues),this.stackMax=stackMax=stacked?Math.max.apply(Math,stackTotals):max,this.stackMin=stackMin=stacked?Math.min.apply(Math,numValues):min,void 0!==options.get("chartRangeMin")&&(options.get("chartRangeClip")||options.get("chartRangeMin")<min)&&(min=options.get("chartRangeMin")),void 0!==options.get("chartRangeMax")&&(options.get("chartRangeClip")||options.get("chartRangeMax")>max)&&(max=options.get("chartRangeMax")),this.zeroAxis=zeroAxis=options.get("zeroAxis",!0),xaxisOffset=min<=0&&max>=0&&zeroAxis?0:0==zeroAxis||min>0?min:max,this.xaxisOffset=xaxisOffset,range=stacked?Math.max.apply(Math,stackRanges)+Math.max.apply(Math,stackRangesNeg):max-min,this.canvasHeightEf=zeroAxis&&min<0?this.canvasHeight-2:this.canvasHeight-1,min<xaxisOffset?(yoffset=((stacked&&max>=0?stackMax:max)-xaxisOffset)/range*this.canvasHeight)!==Math.ceil(yoffset)&&(this.canvasHeightEf-=2,yoffset=Math.ceil(yoffset)):yoffset=this.canvasHeight,this.yoffset=yoffset,$.isArray(options.get("colorMap"))?(this.colorMapByIndex=options.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=options.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new RangeMap(this.colorMapByValue))),this.range=range},getRegion:function(el,x,y){var result=Math.floor(x/this.totalBarWidth);return result<0||result>=this.values.length?void 0:result},getCurrentRegionFields:function(){var value,i,currentRegion=this.currentRegion,values=ensureArray(this.values[currentRegion]),result=[];for(i=values.length;i--;)value=values[i],result.push({isNull:null===value,value:value,color:this.calcColor(i,value,currentRegion),offset:currentRegion});return result},calcColor:function(stacknum,value,valuenum){var color,newColor,colorMapByIndex=this.colorMapByIndex,colorMapByValue=this.colorMapByValue,options=this.options;return color=this.stacked?options.get("stackedBarColor"):value<0?options.get("negBarColor"):options.get("barColor"),0===value&&void 0!==options.get("zeroColor")&&(color=options.get("zeroColor")),colorMapByValue&&(newColor=colorMapByValue.get(value))?color=newColor:colorMapByIndex&&colorMapByIndex.length>valuenum&&(color=colorMapByIndex[valuenum]),$.isArray(color)?color[stacknum%color.length]:color},renderRegion:function(valuenum,highlight){var y,height,color,isNull,yoffsetNeg,i,valcount,val,minPlotted,allMin,vals=this.values[valuenum],options=this.options,xaxisOffset=this.xaxisOffset,result=[],range=this.range,stacked=this.stacked,target=this.target,x=valuenum*this.totalBarWidth,canvasHeightEf=this.canvasHeightEf,yoffset=this.yoffset;if(valcount=(vals=$.isArray(vals)?vals:[vals]).length,val=vals[0],isNull=all(null,vals),allMin=all(xaxisOffset,vals,!0),isNull)return options.get("nullColor")?(color=highlight?options.get("nullColor"):this.calcHighlightColor(options.get("nullColor"),options),y=yoffset>0?yoffset-1:yoffset,target.drawRect(x,y,this.barWidth-1,0,color,color)):void 0;for(yoffsetNeg=yoffset,i=0;i<valcount;i++){if(val=vals[i],stacked&&val===xaxisOffset){if(!allMin||minPlotted)continue;minPlotted=!0}height=range>0?Math.floor(canvasHeightEf*(Math.abs(val-xaxisOffset)/range))+1:1,val<xaxisOffset||val===xaxisOffset&&0===yoffset?(y=yoffsetNeg,yoffsetNeg+=height):(y=yoffset-height,yoffset-=height),color=this.calcColor(i,val,valuenum),highlight&&(color=this.calcHighlightColor(color,options)),result.push(target.drawRect(x,y,this.barWidth-1,height-1,color,color))}return 1===result.length?result[0]:result}}),$.fn.sparkline.tristate=tristate=createClass($.fn.sparkline._base,barHighlightMixin,{type:"tristate",init:function(el,values,options,width,height){var barWidth=parseInt(options.get("barWidth"),10),barSpacing=parseInt(options.get("barSpacing"),10);tristate._super.init.call(this,el,values,options,width,height),this.regionShapes={},this.barWidth=barWidth,this.barSpacing=barSpacing,this.totalBarWidth=barWidth+barSpacing,this.values=$.map(values,Number),this.width=width=values.length*barWidth+(values.length-1)*barSpacing,$.isArray(options.get("colorMap"))?(this.colorMapByIndex=options.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=options.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new RangeMap(this.colorMapByValue))),this.initTarget()},getRegion:function(el,x,y){return Math.floor(x/this.totalBarWidth)},getCurrentRegionFields:function(){var currentRegion=this.currentRegion;return{isNull:void 0===this.values[currentRegion],value:this.values[currentRegion],color:this.calcColor(this.values[currentRegion],currentRegion),offset:currentRegion}},calcColor:function(value,valuenum){var newColor,values=this.values,options=this.options,colorMapByIndex=this.colorMapByIndex,colorMapByValue=this.colorMapByValue;return colorMapByValue&&(newColor=colorMapByValue.get(value))?newColor:colorMapByIndex&&colorMapByIndex.length>valuenum?colorMapByIndex[valuenum]:values[valuenum]<0?options.get("negBarColor"):values[valuenum]>0?options.get("posBarColor"):options.get("zeroBarColor")},renderRegion:function(valuenum,highlight){var canvasHeight,height,halfHeight,x,y,color,values=this.values,options=this.options,target=this.target;if(canvasHeight=target.pixelHeight,halfHeight=Math.round(canvasHeight/2),x=valuenum*this.totalBarWidth,values[valuenum]<0?(y=halfHeight,height=halfHeight-1):values[valuenum]>0?(y=0,height=halfHeight-1):(y=halfHeight-1,height=2),null!==(color=this.calcColor(values[valuenum],valuenum)))return highlight&&(color=this.calcHighlightColor(color,options)),target.drawRect(x,y,this.barWidth-1,height-1,color,color)}}),$.fn.sparkline.discrete=discrete=createClass($.fn.sparkline._base,barHighlightMixin,{type:"discrete",init:function(el,values,options,width,height){discrete._super.init.call(this,el,values,options,width,height),this.regionShapes={},this.values=values=$.map(values,Number),this.min=Math.min.apply(Math,values),this.max=Math.max.apply(Math,values),this.range=this.max-this.min,this.width=width="auto"===options.get("width")?2*values.length:this.width,this.interval=Math.floor(width/values.length),this.itemWidth=width/values.length,void 0!==options.get("chartRangeMin")&&(options.get("chartRangeClip")||options.get("chartRangeMin")<this.min)&&(this.min=options.get("chartRangeMin")),void 0!==options.get("chartRangeMax")&&(options.get("chartRangeClip")||options.get("chartRangeMax")>this.max)&&(this.max=options.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===options.get("lineHeight")?Math.round(.3*this.canvasHeight):options.get("lineHeight"))},getRegion:function(el,x,y){return Math.floor(x/this.itemWidth)},getCurrentRegionFields:function(){var currentRegion=this.currentRegion;return{isNull:void 0===this.values[currentRegion],value:this.values[currentRegion],offset:currentRegion}},renderRegion:function(valuenum,highlight){var ytop,val,color,x,values=this.values,options=this.options,min=this.min,max=this.max,range=this.range,interval=this.interval,target=this.target,canvasHeight=this.canvasHeight,lineHeight=this.lineHeight,pheight=canvasHeight-lineHeight;return val=clipval(values[valuenum],min,max),x=valuenum*interval,ytop=Math.round(pheight-pheight*((val-min)/range)),color=options.get("thresholdColor")&&val<options.get("thresholdValue")?options.get("thresholdColor"):options.get("lineColor"),highlight&&(color=this.calcHighlightColor(color,options)),target.drawLine(x,ytop,x,ytop+lineHeight,color)}}),$.fn.sparkline.bullet=bullet=createClass($.fn.sparkline._base,{type:"bullet",init:function(el,values,options,width,height){var min,max,vals;bullet._super.init.call(this,el,values,options,width,height),this.values=values=normalizeValues(values),(vals=values.slice())[0]=null===vals[0]?vals[2]:vals[0],vals[1]=null===values[1]?vals[2]:vals[1],min=Math.min.apply(Math,values),max=Math.max.apply(Math,values),min=void 0===options.get("base")?min<0?min:0:options.get("base"),this.min=min,this.max=max,this.range=max-min,this.shapes={},this.valueShapes={},this.regiondata={},this.width=width="auto"===options.get("width")?"4.0em":width,this.target=this.$el.simpledraw(width,height,options.get("composite")),values.length||(this.disabled=!0),this.initTarget()},getRegion:function(el,x,y){var shapeid=this.target.getShapeAt(el,x,y);return void 0!==shapeid&&void 0!==this.shapes[shapeid]?this.shapes[shapeid]:void 0},getCurrentRegionFields:function(){var currentRegion=this.currentRegion;return{fieldkey:currentRegion.substr(0,1),value:this.values[currentRegion.substr(1)],region:currentRegion}},changeHighlight:function(highlight){var shape,currentRegion=this.currentRegion,shapeid=this.valueShapes[currentRegion];switch(delete this.shapes[shapeid],currentRegion.substr(0,1)){case"r":shape=this.renderRange(currentRegion.substr(1),highlight);break;case"p":shape=this.renderPerformance(highlight);break;case"t":shape=this.renderTarget(highlight)}this.valueShapes[currentRegion]=shape.id,this.shapes[shape.id]=currentRegion,this.target.replaceWithShape(shapeid,shape)},renderRange:function(rn,highlight){var rangeval=this.values[rn],rangewidth=Math.round(this.canvasWidth*((rangeval-this.min)/this.range)),color=this.options.get("rangeColors")[rn-2];return highlight&&(color=this.calcHighlightColor(color,this.options)),this.target.drawRect(0,0,rangewidth-1,this.canvasHeight-1,color,color)},renderPerformance:function(highlight){var perfval=this.values[1],perfwidth=Math.round(this.canvasWidth*((perfval-this.min)/this.range)),color=this.options.get("performanceColor");return highlight&&(color=this.calcHighlightColor(color,this.options)),this.target.drawRect(0,Math.round(.3*this.canvasHeight),perfwidth-1,Math.round(.4*this.canvasHeight)-1,color,color)},renderTarget:function(highlight){var targetval=this.values[0],x=Math.round(this.canvasWidth*((targetval-this.min)/this.range)-this.options.get("targetWidth")/2),targettop=Math.round(.1*this.canvasHeight),targetheight=this.canvasHeight-2*targettop,color=this.options.get("targetColor");return highlight&&(color=this.calcHighlightColor(color,this.options)),this.target.drawRect(x,targettop,this.options.get("targetWidth")-1,targetheight-1,color,color)},render:function(){var i,shape,vlen=this.values.length,target=this.target;if(bullet._super.render.call(this)){for(i=2;i<vlen;i++)shape=this.renderRange(i).append(),this.shapes[shape.id]="r"+i,this.valueShapes["r"+i]=shape.id;null!==this.values[1]&&(shape=this.renderPerformance().append(),this.shapes[shape.id]="p1",this.valueShapes.p1=shape.id),null!==this.values[0]&&(shape=this.renderTarget().append(),this.shapes[shape.id]="t0",this.valueShapes.t0=shape.id),target.render()}}}),$.fn.sparkline.pie=pie=createClass($.fn.sparkline._base,{type:"pie",init:function(el,values,options,width,height){var i,total=0;if(pie._super.init.call(this,el,values,options,width,height),this.shapes={},this.valueShapes={},this.values=values=$.map(values,Number),"auto"===options.get("width")&&(this.width=this.height),values.length>0)for(i=values.length;i--;)total+=values[i];this.total=total,this.initTarget(),this.radius=Math.floor(Math.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(el,x,y){var shapeid=this.target.getShapeAt(el,x,y);return void 0!==shapeid&&void 0!==this.shapes[shapeid]?this.shapes[shapeid]:void 0},getCurrentRegionFields:function(){var currentRegion=this.currentRegion;return{isNull:void 0===this.values[currentRegion],value:this.values[currentRegion],percent:this.values[currentRegion]/this.total*100,color:this.options.get("sliceColors")[currentRegion%this.options.get("sliceColors").length],offset:currentRegion}},changeHighlight:function(highlight){var currentRegion=this.currentRegion,newslice=this.renderSlice(currentRegion,highlight),shapeid=this.valueShapes[currentRegion];delete this.shapes[shapeid],this.target.replaceWithShape(shapeid,newslice),this.valueShapes[currentRegion]=newslice.id,this.shapes[newslice.id]=currentRegion},renderSlice:function(valuenum,highlight){var start,end,i,vlen,color,target=this.target,options=this.options,radius=this.radius,borderWidth=options.get("borderWidth"),offset=options.get("offset"),circle=2*Math.PI,values=this.values,total=this.total,next=offset?2*Math.PI*(offset/360):0;for(vlen=values.length,i=0;i<vlen;i++){if(start=next,end=next,total>0&&(end=next+circle*(values[i]/total)),valuenum===i)return color=options.get("sliceColors")[i%options.get("sliceColors").length],highlight&&(color=this.calcHighlightColor(color,options)),target.drawPieSlice(radius,radius,radius-borderWidth,start,end,void 0,color);next=end}},render:function(){var shape,i,target=this.target,values=this.values,options=this.options,radius=this.radius,borderWidth=options.get("borderWidth");if(pie._super.render.call(this)){for(borderWidth&&target.drawCircle(radius,radius,Math.floor(radius-borderWidth/2),options.get("borderColor"),void 0,borderWidth).append(),i=values.length;i--;)values[i]&&(shape=this.renderSlice(i).append(),this.valueShapes[i]=shape.id,this.shapes[shape.id]=i);target.render()}}}),$.fn.sparkline.box=box=createClass($.fn.sparkline._base,{type:"box",init:function(el,values,options,width,height){box._super.init.call(this,el,values,options,width,height),this.values=$.map(values,Number),this.width="auto"===options.get("width")?"4.0em":width,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var result=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&result.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&result.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&result.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&result.push({field:"rw",value:this.rwhisker}),result},render:function(){var lwhisker,loutlier,iqr,q1,q2,q3,rwhisker,routlier,i,size,unitSize,target=this.target,values=this.values,vlen=values.length,options=this.options,canvasWidth=this.canvasWidth,canvasHeight=this.canvasHeight,minValue=void 0===options.get("chartRangeMin")?Math.min.apply(Math,values):options.get("chartRangeMin"),maxValue=void 0===options.get("chartRangeMax")?Math.max.apply(Math,values):options.get("chartRangeMax"),canvasLeft=0;if(box._super.render.call(this)){if(options.get("raw"))options.get("showOutliers")&&values.length>5?(loutlier=values[0],lwhisker=values[1],q1=values[2],q2=values[3],q3=values[4],rwhisker=values[5],routlier=values[6]):(lwhisker=values[0],q1=values[1],q2=values[2],q3=values[3],rwhisker=values[4]);else if(values.sort((function(a,b){return a-b})),q1=quartile(values,1),q2=quartile(values,2),iqr=(q3=quartile(values,3))-q1,options.get("showOutliers")){for(lwhisker=rwhisker=void 0,i=0;i<vlen;i++)void 0===lwhisker&&values[i]>q1-iqr*options.get("outlierIQR")&&(lwhisker=values[i]),values[i]<q3+iqr*options.get("outlierIQR")&&(rwhisker=values[i]);loutlier=values[0],routlier=values[vlen-1]}else lwhisker=values[0],rwhisker=values[vlen-1];this.quartiles=[q1,q2,q3],this.lwhisker=lwhisker,this.rwhisker=rwhisker,this.loutlier=loutlier,this.routlier=routlier,unitSize=canvasWidth/(maxValue-minValue+1),options.get("showOutliers")&&(canvasLeft=Math.ceil(options.get("spotRadius")),unitSize=(canvasWidth-=2*Math.ceil(options.get("spotRadius")))/(maxValue-minValue+1),loutlier<lwhisker&&target.drawCircle((loutlier-minValue)*unitSize+canvasLeft,canvasHeight/2,options.get("spotRadius"),options.get("outlierLineColor"),options.get("outlierFillColor")).append(),routlier>rwhisker&&target.drawCircle((routlier-minValue)*unitSize+canvasLeft,canvasHeight/2,options.get("spotRadius"),options.get("outlierLineColor"),options.get("outlierFillColor")).append()),target.drawRect(Math.round((q1-minValue)*unitSize+canvasLeft),Math.round(.1*canvasHeight),Math.round((q3-q1)*unitSize),Math.round(.8*canvasHeight),options.get("boxLineColor"),options.get("boxFillColor")).append(),target.drawLine(Math.round((lwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),Math.round((q1-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),options.get("lineColor")).append(),target.drawLine(Math.round((lwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/4),Math.round((lwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight-canvasHeight/4),options.get("whiskerColor")).append(),target.drawLine(Math.round((rwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),Math.round((q3-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),options.get("lineColor")).append(),target.drawLine(Math.round((rwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/4),Math.round((rwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight-canvasHeight/4),options.get("whiskerColor")).append(),target.drawLine(Math.round((q2-minValue)*unitSize+canvasLeft),Math.round(.1*canvasHeight),Math.round((q2-minValue)*unitSize+canvasLeft),Math.round(.9*canvasHeight),options.get("medianColor")).append(),options.get("target")&&(size=Math.ceil(options.get("spotRadius")),target.drawLine(Math.round((options.get("target")-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2-size),Math.round((options.get("target")-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2+size),options.get("targetColor")).append(),target.drawLine(Math.round((options.get("target")-minValue)*unitSize+canvasLeft-size),Math.round(canvasHeight/2),Math.round((options.get("target")-minValue)*unitSize+canvasLeft+size),Math.round(canvasHeight/2),options.get("targetColor")).append()),target.render()}}}),VShape=createClass({init:function(target,id,type,args){this.target=target,this.id=id,this.type=type,this.args=args},append:function(){return this.target.appendShape(this),this}}),VCanvas_base=createClass({_pxregex:/(\d+)(px)?\s*$/i,init:function(width,height,target){width&&(this.width=width,this.height=height,this.target=target,this.lastShapeId=null,target[0]&&(target=target[0]),$.data(target,"_jqs_vcanvas",this))},drawLine:function(x1,y1,x2,y2,lineColor,lineWidth){return this.drawShape([[x1,y1],[x2,y2]],lineColor,lineWidth)},drawShape:function(path,lineColor,fillColor,lineWidth){return this._genShape("Shape",[path,lineColor,fillColor,lineWidth])},drawCircle:function(x,y,radius,lineColor,fillColor,lineWidth){return this._genShape("Circle",[x,y,radius,lineColor,fillColor,lineWidth])},drawPieSlice:function(x,y,radius,startAngle,endAngle,lineColor,fillColor){return this._genShape("PieSlice",[x,y,radius,startAngle,endAngle,lineColor,fillColor])},drawRect:function(x,y,width,height,lineColor,fillColor){return this._genShape("Rect",[x,y,width,height,lineColor,fillColor])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(el,target){$(target).html(el)},_calculatePixelDims:function(width,height,canvas){var match;match=this._pxregex.exec(height),this.pixelHeight=match?match[1]:$(canvas).height(),match=this._pxregex.exec(width),this.pixelWidth=match?match[1]:$(canvas).width()},_genShape:function(shapetype,shapeargs){var id=shapeCount++;return shapeargs.unshift(id),new VShape(this,id,shapetype,shapeargs)},appendShape:function(shape){alert("appendShape not implemented")},replaceWithShape:function(shapeid,shape){alert("replaceWithShape not implemented")},insertAfterShape:function(shapeid,shape){alert("insertAfterShape not implemented")},removeShapeId:function(shapeid){alert("removeShapeId not implemented")},getShapeAt:function(el,x,y){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),VCanvas_canvas=createClass(VCanvas_base,{init:function(width,height,target,interact){VCanvas_canvas._super.init.call(this,width,height,target),this.canvas=document.createElement("canvas"),target[0]&&(target=target[0]),$.data(target,"_jqs_vcanvas",this),$(this.canvas).css({display:"inline-block",width:width,height:height,verticalAlign:"top"}),this._insert(this.canvas,target),this._calculatePixelDims(width,height,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=interact,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,$(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(lineColor,fillColor,lineWidth){var context=this.canvas.getContext("2d");return void 0!==lineColor&&(context.strokeStyle=lineColor),context.lineWidth=void 0===lineWidth?1:lineWidth,void 0!==fillColor&&(context.fillStyle=fillColor),context},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(shapeid,path,lineColor,fillColor,lineWidth){var i,plen,context=this._getContext(lineColor,fillColor,lineWidth);for(context.beginPath(),context.moveTo(path[0][0]+.5,path[0][1]+.5),i=1,plen=path.length;i<plen;i++)context.lineTo(path[i][0]+.5,path[i][1]+.5);void 0!==lineColor&&context.stroke(),void 0!==fillColor&&context.fill(),void 0!==this.targetX&&void 0!==this.targetY&&context.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=shapeid)},_drawCircle:function(shapeid,x,y,radius,lineColor,fillColor,lineWidth){var context=this._getContext(lineColor,fillColor,lineWidth);context.beginPath(),context.arc(x,y,radius,0,2*Math.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&context.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=shapeid),void 0!==lineColor&&context.stroke(),void 0!==fillColor&&context.fill()},_drawPieSlice:function(shapeid,x,y,radius,startAngle,endAngle,lineColor,fillColor){var context=this._getContext(lineColor,fillColor);context.beginPath(),context.moveTo(x,y),context.arc(x,y,radius,startAngle,endAngle,!1),context.lineTo(x,y),context.closePath(),void 0!==lineColor&&context.stroke(),fillColor&&context.fill(),void 0!==this.targetX&&void 0!==this.targetY&&context.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=shapeid)},_drawRect:function(shapeid,x,y,width,height,lineColor,fillColor){return this._drawShape(shapeid,[[x,y],[x+width,y],[x+width,y+height],[x,y+height],[x,y]],lineColor,fillColor)},appendShape:function(shape){return this.shapes[shape.id]=shape,this.shapeseq.push(shape.id),this.lastShapeId=shape.id,shape.id},replaceWithShape:function(shapeid,shape){var i,shapeseq=this.shapeseq;for(this.shapes[shape.id]=shape,i=shapeseq.length;i--;)shapeseq[i]==shapeid&&(shapeseq[i]=shape.id);delete this.shapes[shapeid]},replaceWithShapes:function(shapeids,shapes){var sid,i,first,shapeseq=this.shapeseq,shapemap={};for(i=shapeids.length;i--;)shapemap[shapeids[i]]=!0;for(i=shapeseq.length;i--;)shapemap[sid=shapeseq[i]]&&(shapeseq.splice(i,1),delete this.shapes[sid],first=i);for(i=shapes.length;i--;)shapeseq.splice(first,0,shapes[i].id),this.shapes[shapes[i].id]=shapes[i]},insertAfterShape:function(shapeid,shape){var i,shapeseq=this.shapeseq;for(i=shapeseq.length;i--;)if(shapeseq[i]===shapeid)return shapeseq.splice(i+1,0,shape.id),void(this.shapes[shape.id]=shape)},removeShapeId:function(shapeid){var i,shapeseq=this.shapeseq;for(i=shapeseq.length;i--;)if(shapeseq[i]===shapeid){shapeseq.splice(i,1);break}delete this.shapes[shapeid]},getShapeAt:function(el,x,y){return this.targetX=x,this.targetY=y,this.render(),this.currentTargetShapeId},render:function(){var shape,i,shapeseq=this.shapeseq,shapes=this.shapes,shapeCount=shapeseq.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;i<shapeCount;i++)this["_draw"+(shape=shapes[shapeseq[i]]).type].apply(this,shape.args);this.interact||(this.shapes={},this.shapeseq=[])}}),VCanvas_vml=createClass(VCanvas_base,{init:function(width,height,target){var groupel;VCanvas_vml._super.init.call(this,width,height,target),target[0]&&(target=target[0]),$.data(target,"_jqs_vcanvas",this),this.canvas=document.createElement("span"),$(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:width,height:height,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,target),this._calculatePixelDims(width,height,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,groupel='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",groupel),this.group=$(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(shapeid,path,lineColor,fillColor,lineWidth){var initial,stroke,fill,closed,plen,i,vpath=[];for(i=0,plen=path.length;i<plen;i++)vpath[i]=path[i][0]+","+path[i][1];return initial=vpath.splice(0,1),lineWidth=void 0===lineWidth?1:lineWidth,stroke=void 0===lineColor?' stroked="false" ':' strokeWeight="'+lineWidth+'px" strokeColor="'+lineColor+'" ',fill=void 0===fillColor?' filled="false"':' fillColor="'+fillColor+'" filled="true" ',closed=vpath[0]===vpath[vpath.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+shapeid+'" '+stroke+fill+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+initial+" l "+vpath.join(", ")+" "+closed+'e"> </v:shape>'},_drawCircle:function(shapeid,x,y,radius,lineColor,fillColor,lineWidth){return'<v:oval  id="jqsshape'+shapeid+'" '+(void 0===lineColor?' stroked="false" ':' strokeWeight="'+lineWidth+'px" strokeColor="'+lineColor+'" ')+(void 0===fillColor?' filled="false"':' fillColor="'+fillColor+'" filled="true" ')+' style="position:absolute;top:'+(y-=radius)+"px; left:"+(x-=radius)+"px; width:"+2*radius+"px; height:"+2*radius+'px"></v:oval>'},_drawPieSlice:function(shapeid,x,y,radius,startAngle,endAngle,lineColor,fillColor){var vpath,startx,starty,endx,endy,stroke,fill;if(startAngle===endAngle)return"";if(endAngle-startAngle==2*Math.PI&&(startAngle=0,endAngle=2*Math.PI),startx=x+Math.round(Math.cos(startAngle)*radius),starty=y+Math.round(Math.sin(startAngle)*radius),endx=x+Math.round(Math.cos(endAngle)*radius),endy=y+Math.round(Math.sin(endAngle)*radius),startx===endx&&starty===endy){if(endAngle-startAngle<Math.PI)return"";startx=endx=x+radius,starty=endy=y}return startx===endx&&starty===endy&&endAngle-startAngle<Math.PI?"":(vpath=[x-radius,y-radius,x+radius,y+radius,startx,starty,endx,endy],stroke=void 0===lineColor?' stroked="false" ':' strokeWeight="1px" strokeColor="'+lineColor+'" ',fill=void 0===fillColor?' filled="false"':' fillColor="'+fillColor+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+shapeid+'" '+stroke+fill+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+x+","+y+" wa "+vpath.join(", ")+' x e"> </v:shape>')},_drawRect:function(shapeid,x,y,width,height,lineColor,fillColor){return this._drawShape(shapeid,[[x,y],[x,y+height],[x+width,y+height],[x+width,y],[x,y]],lineColor,fillColor)},reset:function(){this.group.innerHTML=""},appendShape:function(shape){var vel=this["_draw"+shape.type].apply(this,shape.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",vel):this.prerender+=vel,this.lastShapeId=shape.id,shape.id},replaceWithShape:function(shapeid,shape){var existing=$("#jqsshape"+shapeid),vel=this["_draw"+shape.type].apply(this,shape.args);existing[0].outerHTML=vel},replaceWithShapes:function(shapeids,shapes){var i,existing=$("#jqsshape"+shapeids[0]),replace="",slen=shapes.length;for(i=0;i<slen;i++)replace+=this["_draw"+shapes[i].type].apply(this,shapes[i].args);for(existing[0].outerHTML=replace,i=1;i<shapeids.length;i++)$("#jqsshape"+shapeids[i]).remove()},insertAfterShape:function(shapeid,shape){var existing=$("#jqsshape"+shapeid),vel=this["_draw"+shape.type].apply(this,shape.args);existing[0].insertAdjacentHTML("afterEnd",vel)},removeShapeId:function(shapeid){var existing=$("#jqsshape"+shapeid);this.group.removeChild(existing[0])},getShapeAt:function(el,x,y){return el.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(document,Math)},"startupjs/src/layout_engine":function(module,exports){Splunk.LayoutEngine=$.klass({initialize:function(){this._setUpSidebars(),this._setupResultsOptionsPopup(),$(window).bind("showsidebar",this.show.bind(this)),$(window).bind("hidesidebar",this.hide.bind(this))},_SetLayoutIE6:function(){$(".twoColRow").each((function(){var halfWidth=$(this).innerWidth()/2;$(this).children("div.layoutCell").each((function(){$(this).css("width",halfWidth)}))})),$(".threeColRow").each((function(){var parentWidth=$(this).innerWidth(),thirdWidth=Math.floor(parentWidth/3);$(this).children("div.layoutCell").each((function(){$(this).css("width",thirdWidth)}))}))},_SetLayoutIE7plus:function(){$(".twoColRow").each((function(){if($(this).children("div.layoutCell").width("50%"),$(this).innerWidth()%2!=0){var lastCellWidth=parseInt($(this).children("div.layoutCell:last-child").width(),10)-1;$(this).children("div.layoutCell:last-child").width(lastCellWidth)}})),$(".threeColRow").each((function(){var parentWidth=$(this).innerWidth(),thirdWidth=Math.floor(parentWidth/3);$(this).children("div.layoutCell").each((function(){$(this).css("width",thirdWidth)}))}))},_setUpSidebars:function(){$(".sidebar").each((function(){$sidebar=$(this),$sidebar.addClass("sidebarExpanded"),$('<span class="sidebarControl splHeader splHeader-secondary splBorder splBorder-e"><a href="javascript:void(0)" class="splIconicLink splIcon-sidebar-open"><span class="splIconicLinkIcon"></span></a></span>').prependTo($sidebar),$sidebar.click((function(evt){for(var t=evt.target,i=0;i<2&&"A"!=t.tagName;i++)t=t.parentNode;var $t=$(t);($t.hasClass("sidebarControl")||$t.parent("span.sidebarControl").length)&&($sidebar.hasClass("sidebarCollapsed")?($sidebar.removeClass("sidebarCollapsed").addClass("sidebarExpanded"),$sidebar.find(".splIcon-sidebar-closed").removeClass("splIcon-sidebar-closed").addClass("splIcon-sidebar-open")):($sidebar.removeClass("sidebarExpanded").addClass("sidebarCollapsed"),$sidebar.find(".splIcon-sidebar-open").removeClass("splIcon-sidebar-open").addClass("splIcon-sidebar-closed"))),/msie|trident/i.test(navigator.userAgent)&&$t.hasClass("sidebarCollapsed")&&$sidebar.removeClass("sidebarCollapsed").addClass("sidebarExpanded")}))}))},_setupResultsOptionsPopup:function(){var sel=$(".resultsOptionsActivator");sel.length&&sel.click((function(){if(sel.hasClass("splIconicLinkDisabled"))return!1;var resultsOptionsPopup=new Splunk.Popup($(".resultsOptions"),{inlineMode:!0});return $(".resultsOptions .splButton-primary").click(resultsOptionsPopup.destroyPopup.bind(resultsOptionsPopup)),!1}))},hide:function(){$(".sidebar").hide()},show:function(){$(".sidebar").show()}})},"startupjs/src/login":function(module,exports){var REMOTE_SCRIPT_LOAD_TIMEOUT=window.REMOTE_SCRIPT_LOAD_TIMEOUT=1e4,MESSAGE_DISPLAY_DELAY=window.MESSAGE_DISPLAY_DELAY=5e3,NON_MESSAGE_DISPLAY_DELAY=window.NON_MESSAGE_DISPLAY_DELAY=1e3,UPDATE_CHECKER_DISPLAY_DELAY=window.UPDATE_CHECKER_DISPLAY_DELAY=1500,D=window.D={debug:function(msg){this.msg(msg)},info:function(msg){this.msg(msg)},warn:function(msg){this.msg(msg)},error:function(msg){this.msg(msg)},msg:function(msg){window.console&&window.console.log(msg)}},getLicenseType=window.getLicenseType=function(){return CONFIG.licenseType},getTipsOffset=window.getTipsOffset=function(){var count=$.cookie("tipsOffset")||0;return parseInt(count,10)},incrementTipsOffset=window.incrementTipsOffset=function(){var count=getTipsOffset();$.cookie("tipsOffset",count+1,{expires:1e3})},goHome=window.goHome=function(timeOutInMilliseconds,allowRedirect){var location="/";allowRedirect&&CONFIG.return_to&&(location=CONFIG.return_to),timeOutInMilliseconds?setTimeout('document.location = "'+location+'"',timeOutInMilliseconds):document.location=location},fireInitialSplunkDotComRequest=(window.getUpdateCheckerURL=function(checkerLocation){var segments=[getLicenseType(),CONFIG.versionNumber,checkerLocation,CONFIG.installType,CONFIG.skin],uidParam=encodeURIComponent($.cookie("splunkweb_uid")||null),url=CONFIG.updateCheckerBaseURL;return url+=segments.join("/"),url+="?locale="+CONFIG.locale,url+="&cpu_arch="+encodeURIComponent(CONFIG.cpu_arch),url+="&os_name="+encodeURIComponent(CONFIG.os_name),url+="&guid="+CONFIG.guid,url+="&uid="+uidParam,url+="&license_desc="+encodeURIComponent(CONFIG.license_desc),url+="&product="+encodeURIComponent(CONFIG.product_type),"tips"==checkerLocation&&(url+="&offset="+getTipsOffset()),url},window.initUpdateChecker=function(){if(D.debug("initUpdateChecker - START"),"free"==getLicenseType()){$(".loginForm").hide(),$("#freeMessageContainer").html('<div class="checkingForUpdatesWrapper"><div class="checkingForUpdates">'+_("Checking for updates...")+"</div></div>").show(),D.debug("checking for updates");var spinner=new Spinner({lines:8,length:2,width:2,radius:3,corners:1,rotate:0,color:"white",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:0,top:"0",left:"0"}).spin();$("#freeMessageContainer .checkingForUpdatesWrapper").prepend(spinner.el);setTimeout(fireInitialSplunkDotComRequest,UPDATE_CHECKER_DISPLAY_DELAY)}else fireInitialSplunkDotComRequest()},window.fireInitialSplunkDotComRequest=function(){window.cannotConnectTimeout=setTimeout(handleInitUpdateTimeout,REMOTE_SCRIPT_LOAD_TIMEOUT)}),handleInitUpdateTimeout=window.handleInitUpdateTimeout=function(timerId){if($("#updateCheckerContainer").hasClass("updatesActive")||$("#tipsCheckerContainer").hasClass("tipsActive")||$("#freeUpdateCheckerContainer").hasClass("updatesActive"))return!1;D.debug("The request to splunk.com is taking so long that we assume we cannot connect."),"free"!=getLicenseType()||CONFIG.hasErrorMessage?(D.debug("handleInitUpdateTimeout - license not free or there is error"),displayBannerFrame("connectError")):(displayFallbackTipsContent(),$("#freeMessageContainer").html(_("<a href='/' class='splButton-primary connectErrorContinue'><span>Continue &raquo;</span></a>")).show())},displayBannerFrame=(window.displaySpot=function(spotParams){window.cannotConnectTimeout&&clearTimeout(window.cannotConnectTimeout);var allBetsAreOff=!1,spotLocation=spotParams.location||!1;spotLocation||(D.error("displaySpot - response did not contain a 'location' key. This should never happen."),spotLocation="login",allBetsAreOff=!0);var url=spotParams.url||!1;D.debug("displaySpot - splunk.com responded for location="+spotLocation+" and is sending us to url="+url);var product=getLicenseType();if("tips"==spotLocation&&incrementTipsOffset(),"free"==product&&"login"==spotLocation){D.debug("displaySpot - rendering free update");var message="";spotParams.hasNewVersion?message='<div class="freeMessageUpdate"><a href="http://www.splunk.com/r/download" class="splButton-primary"><span>Download</span></a>':CONFIG.hasErrorMessage||(message="<div class='checkingForUpdatesWrapper'><div class='noUpdatesFound'><i class='icon-check'></i>"+_("No updates found.")+"</div></div>",allBetsAreOff&&goHome(MESSAGE_DISPLAY_DELAY,!0)),url&&(D.debug("displaySpot - rendering URL: "+url),displayBannerFrame(url)),$(".loginForm").hide(),$("#freeMessageContainer").html(message).show()}else url?(D.debug("displaySpot - rendering URL: "+url),"login"==spotLocation?displayBannerFrame(url):"tips"==spotLocation?displayTipsFrame(url):D.error("Update checker got unrecognized location: "+spotLocation)):"free"==product&&"tips"==spotLocation&&(D.debug("displaySpot - no URL when requesting free/tips"),$("#freeMessageContainer").html(_("Loading...")).show(),goHome(NON_MESSAGE_DISPLAY_DELAY,!0))},window.displayBannerFrame=function(url,spotParams){var iframe;(spotParams=spotParams||{},D.debug("displayBannerFrame - spotParams="+spotParams),"connectError"==url)?$("#connectError").show():("free"==getLicenseType()?($("#freeUpdateCheckerContainer").addClass("updatesActive").show(),iframe=$("#freeUpdateChecker")):($("#updateCheckerContainer").addClass("updatesActive").show(),iframe=$("#updateChecker")),iframe.attr("src",url),spotParams.hasOwnProperty("height")&&iframe.height(spotParams.height),spotParams.hasOwnProperty("failsafeCSSText")&&iframe.css(""+spotParams.failsafeCSSText))}),displayTipsFrame=window.displayTipsFrame=function(url){$("#updateCheckerContainer").hide(),"connectError"==url?$("#connectError").show():($("#userMessaging, #authWrapper, #freeMessageContainer, #updateCheckerContainer, #connectError").hide(),$("#tipsCheckerContainer").addClass("tipsActive").show(),$("#tipsChecker").attr("src",url))},displayFallbackTipsContent=window.displayFallbackTipsContent=function(){CONFIG.tipsCheckerCannotConnectBannerPath;D.debug("displayFallbackTipsContent - START"),displayTipsFrame("connectError")};window.passwordHintClick=function(){return $("#passwordHint").is(":visible")?$("#passwordHint").hide():$("#passwordHint").slideDown({duration:"200",easing:"linear"}),!1},window.hidePasswordHint=function(){$("#passwordHint").hide()},window.initializePlaceholder=function(){$(".input-wrapper").each((function(index,el){var $placeholder=$(el).find(".placeholder-text"),$input=$(el).find("input"),updatePlaceholder=function(){$placeholder[""===$input.val()?"show":"hide"]()};$placeholder.click((function(){$input.focus()})),$input.focus((function(){$placeholder.addClass("focus")})),$input.blur((function(){$placeholder.removeClass("focus")})),$input.bind("keyup mouseup change",(function(){updatePlaceholder()})),setTimeout(updatePlaceholder,250)}))}},"startupjs/src/menu_builder":function(module,exports){Splunk.MenuBuilder=$.klass({_containerDiv:null,_menuOpen:null,_menuActivator:null,_menuTimer:null,_menuActivationTime:0,_timeoutDelay:null,_menu:null,MAX_ITEM_LENGTH:50,FADE_DURATION:100,initialize:function(options){this.logger=Splunk.Logger.getLogger("menu_builder.js"),this._menuOpen=!1,this._timeoutDelay=5e3,this._menu=!1,this._menuOpen=!1,this._options={containerDiv:!1,menuDict:!1,activator:!1,menuOpenClass:!1,menuClasses:"",autoInit:!0,showOnInit:!1,fadeEffects:!1,filter:!1},options&&$.extend(this._options,options),this._options.containerDiv&&this.logger.warn("Splunk.MenuBuilder: containerDiv property depricated. property will be ignored."),this._options.autoInit&&this.menuInit()},menuInit:function(){var extraClasses;this._menu=this.buildMenu(this._options.menuDict,1),extraClasses=this._options.menuClasses?this._options.menuClasses:"splMenu-primary",this._menu.addClass("splMenu "+extraClasses),$("body").append(this._menu);var curActivator,curFocus,moduleInstance=this;this._options.activator?(this._menuActivator=$(this._options.activator),this._menuActivator.click(this._onActivatorClick.bind(this))):this.logger.error("Splunk.MenuBuilder: No activator specified"),this._menu.hover((function(){clearTimeout(moduleInstance._menuTimer)}),(function(){clearTimeout(moduleInstance._menuTimer),moduleInstance._menuTimer=setTimeout((function(){moduleInstance.hideMenu()}),moduleInstance._timeoutDelay)})),$(this._menu).bind("click",function(evt){this.onMenuClick(evt)}.bind(this)),$(".htmlBlock",this._menu).click((function(evt){evt.stopPropagation()})),$("li.hasSubMenu",this._menu).hover((function(){clearTimeout(moduleInstance._menuTimer),moduleInstance.menuOver(this)}),(function(){clearTimeout(moduleInstance._menuTimer),moduleInstance._menuTimer=setTimeout(function(){moduleInstance.menuOut(this)}.bind(this),400)})),this._options.showOnInit&&setTimeout(this.showMenu.bind(this),0),$(this._menuActivator).focus(function(evt){this._menuOpen||(this._onActivatorFocus(evt),curActivator=$(this._menuActivator))}.bind(this)),$("a").focus((function(){curFocus=$(this)})),$(this._menuActivator).bind("keydown",function(evt){var kc=evt.keyCode;return 9==kc?(this.hideMenu(),!0):40==kc?(this._menuOpen&&$("a:first",this._menu).focus(),!1):void 0}.bind(this)),$(this._menu).bind("keydown",function(evt){var kc=evt.keyCode,hasSubMenu=curFocus.parent().hasClass("hasSubMenu"),subMenuWrapper=hasSubMenu&&37==kc?curFocus.parents("li.hasSubMenu").slice(1,2):curFocus.parents("li.hasSubMenu:first"),submenu=subMenuWrapper.children("div.outerMenuWrapper:first");return 9==kc?(this.hideMenu(),curActivator.focus(),this.hideMenu(),!0):38==kc?curFocus.parent().prev().is("div")?(curFocus.parent().prev().prev().children("a").focus(),!1):(curFocus.parent().prev().children("a").focus(),!1):40==kc?curFocus.parent().next().is("div")?(curFocus.parent().next().next().children("a").focus(),!1):(curFocus.parent().next().children("a").focus(),!1):void(39==kc&&hasSubMenu?(this.menuOver(subMenuWrapper),$("li > a:first",submenu).focus()):37==kc&&(subMenuWrapper.children("a:first").focus(),submenu.hide()))}.bind(this)),$(document).click(this._onDocumentClick.bind(this)),$("body").bind("focusin",function(evt){$(evt.target).is("select")&&this._onDocumentClick(evt)}.bind(this)),$(window).resize(this._onWindowResize.bind(this))},onMenuClick:function(evt){var t=evt.target,isA=$(t).is("a");if(!isA||isA&&$(t).parent("li.hasSubMenu").length)return evt.stopPropagation(),!1;$("a",t).click()},menuOver:function(orig){this.hideSubMenus(orig),$(orig).addClass("sfhover");var submenu=$(orig).children("div.outerMenuWrapper"),submenuLeft=$(orig).offset().left+$(orig).width()+submenu.width()>$(window).width()?-submenu.width():$(orig).parent("div").parent("ul").width();submenu.css({left:submenuLeft}),submenu.bgiframe(),submenu.show()},menuOut:function(orig){$(orig).removeClass("sfhover"),$(orig).children("div.outerMenuWrapper").hide()},buildMenu:function(menuDict,menuLevel){var menu=$('<div class="outerMenuWrapper splShadow"><ul></ul></div>');return $.each(menuDict,function(index,menuitem){if(!1!==this._options.filter){if(!menuitem.hasOwnProperty("showInFilter")||null==menuitem.showInFilter)return!0;for(var l=menuitem.showInFilter.length,hasMatch=!1,i=0;i<l;i++)menuitem.showInFilter[i]==this._options.filter&&(hasMatch=!0);if(!hasMatch)return!0}var itemClasses="";if(menuitem.hasOwnProperty("style")&&(itemClasses+=menuitem.style),menuitem.hasOwnProperty("divider"))newNode=$(['<div class="',menuitem.divider," ",itemClasses,'"></div>'].join(""));else if(menuitem.hasOwnProperty("menuType")&&"htmlBlock"==menuitem.menuType)menuitem.hasOwnProperty("element")&&(newNode=$('<li class="'+itemClasses+' htmlBlock"></li>'),menuitem.hasOwnProperty("action")&&"clone"==menuitem.action?$(menuitem.element).clone(!0).appendTo(newNode):$(menuitem.element).appendTo(newNode)),menuitem.hasOwnProperty("callback")&&newNode.click(function(event){return this.hideMenu(menuitem.callback,event),event.stopPropagation(),!1}.bind(this));else{var label="";if(menuitem.hasOwnProperty("menuType")&&"grouping"==menuitem.menuType)label=$('<p class="splunkMenuGroupingHeader">').text(menuitem.label);else{var href="javascript:void(0);";if(menuitem.hasOwnProperty("uri")&&(href=menuitem.uri),(label=$("<a>")).attr("href",href),label.attr("tabindex","-1"),label.addClass("menuItemLink"),label.text(Splunk.util.smartTrim(menuitem.label,this.MAX_ITEM_LENGTH)),menuitem.hasOwnProperty("attrs"))for(var key in menuitem.attrs)label.attr(key,menuitem.attrs[key]);menuitem.hasOwnProperty("popup")&&label.click((function(){return Splunk.window.open(this.href,menuitem.popup),!1})),menuitem.hasOwnProperty("remove")&&label.click(function(){this.removeMenu()}.bind(this)),menuitem.hasOwnProperty("data")&&label.data("data",menuitem.data)}var newNode=$('<li class="'+itemClasses+'">').append(label);menuitem.hasOwnProperty("items")&&newNode.append('<span class="splIcon splIcon-triangle-4-e dropDown">Submenu</span>').addClass("hasSubMenu").append(this.buildMenu(menuitem.items)),menuitem.hasOwnProperty("callback")&&newNode.click(function(event){return this.hideMenu(menuitem.callback,event),event.stopPropagation(),!1}.bind(this))}menu.children("ul").append(newNode)}.bind(this)),menu.children("ul").children("*").wrapAll('<div class="innerMenuWrapper"></div>'),menu},removeMenu:function(){this._menuActivator.unbind("click"),this._menu.unbind("click").unbind("hover"),this._menu.remove()},updateMenu:function(menuDict){var originalShowOnInitVal=this._options.showOnInit;this._menuOpen&&(this._options.showOnInit=!0),this.removeMenu(),this._options.menuDict=menuDict,this.menuInit(),this._options.showOnInit=originalShowOnInitVal},showMenu:function(){this._menu.bgiframe(),this._menuOpen=!0,this._options.menuOpenClass?this._menuActivator.addClass(this._options.menuOpenClass):this._menuActivator.addClass("menuOpen"),this._menu.addClass("splOpenMenu"),this._options.fadeEffects?this._menu.fadeIn(this.FADE_DURATION):this._menu.show(),this.setPosition()},setPosition:function(){var t=$(this._menuActivator);this._menu.position({of:t,my:"left top",at:"left bottom",collision:"fit none"})},hideSubMenus:function(orig){(orig=void 0===orig?this._menu:$(orig).parent()).find(".hasSubMenu").each((function(){this!=orig&&$(this).children("div.outerMenuWrapper").hide()}))},hideMenu:function(callback,event){if(this._menuOpen=!1,this._options.menuOpenClass?this._menuActivator.removeClass(this._options.menuOpenClass):this._menuActivator.removeClass("menuOpen"),this.hideSubMenus(),this._menu.removeClass("splOpenMenu"),this._menuOpen||callback)return this._menu.hide(),callback(event);this._menu.fadeOut(this.FADE_DURATION),setTimeout(function(){this._menu.hide()}.bind(this),this.FADE_DURATION)},_onDocumentClick:function(evt){if(!this._menuOpen||!this._menuActivator||!this._menuActivator.length||this._menuActivator.is(evt.target)||$.contains(this._menuActivator[0],evt.target))return!0;this.hideMenu()},_onWindowResize:function(evt){this._menuOpen&&this.setPosition()},_onActivatorFocus:function(evt){if(time=new Date,time-this._menuActivationTime<250)return!0;this._menuActivationTime=time,this._menuOpen?this.hideMenu():this.showMenu()},_onActivatorClick:function(evt){evt.preventDefault(),this._menuActivator.focus(),this._onActivatorFocus()},getMenu:function(){return this._menu},getActivator:function(){return this._menuActivator}})},"startupjs/src/message":function(module,exports){Splunk.Message=$.klass({EXTERNAL_LINK_REX:/\[(\!?)(\w+\:\/\/[^\s]+)\s+([^\]]+)\]/g,INTERNAL_LINK_REX:/\[\[(\!?)([^\|]+)\|([^\]]+)\]\]/g,TARGET_BLANK_TOKEN_REX:/#~#!#~#/g,TARGET_SAME_TOKEN_REX:/\s*#~##~#/g,SERVER_DELETE_RESOURCE:Splunk.util.make_url("/api/messages/delete"),initialize:function(){this.logger=Splunk.Logger.getLogger("splunk.message"),this.displayedMessages=[],this.allMessages=[],this.filter="*","*"==this.filter?(this.maxQueueSize=20,this.defaultDisplaySize=3):(this.maxSize=1,this.defaultDisplaySize=this.maxSize,this.maxQueueSize=this.maxSize),this.selectedDisplaySize=this.defaultDisplaySize,this.list=$("#adminlite_messages"),this.messenger=Splunk.Messenger.System.getInstance(),this.messenger.receive(this.filter,this.unshift.bind(this),void 0,!0);var self=this;$("a.remove","#adminlite_messages").on("click",(function(){var message_id=$(this).attr("data-id");return $(this).hasClass("splunkd")?$.ajax({type:"POST",url:self.SERVER_DELETE_RESOURCE,dataType:"text",data:"message_id="+message_id,error:function(){self.onMessageDeleted(message_id)},success:function(){self.onMessageDeleted(message_id)}}):self.onMessageDeleted(message_id),!1})),$("a.showall","#adminlite_messages").on("click",(function(){self.onShowAll()})),$("a.hide","#adminlite_messages").on("click",(function(){self.onHide()}))},onServerMessagesError:function(data){alert("Could not delete message: ")},clear:function(){var levels=arguments[0]||[],allMessages=[];this.logger.warn("Clearing messages with the exclusion of levels",levels);for(var i=0;i<this.allMessages.length;i++){var message=this.allMessages[i];-1!=$.inArray(message.level,levels)&&allMessages.push(message)}this.allMessages=allMessages,this.displayedMessages=this.allMessages.slice(0,this.selectedDisplaySize),this.list.html(this.getHTMLTransform()),$(document).trigger("messageClear")},handleControlMessage:function(message){switch(message.content){case"CLEAR":this.clear()}},getHTMLTransform:function(){for(var html=[],i=0;i<this.displayedMessages.length;i++){var message=this.displayedMessages[i];html.push('<li class="message '+message.level+'">'),html.push('<div style="float:left">'),html.push(this.getWikiTranform(message.content)),html.push("</div>");var myClass="";isNaN(message.id)&&(myClass="splunkd",html.push('<div style="float:right"><a href="#" data-id="'+Splunk.util.escapeHtml(message.id)+'" class="remove '+myClass+'">x</a></div>')),html.push('<div style="clear:both"/>'),html.push("</li>")}var numhiddenmessages=this.allMessages.length-this.selectedDisplaySize;if(numhiddenmessages>0){var content=numhiddenmessages+" messages not shown.";html.push('<li class="info">'),html.push(this.getWikiTranform(content)),html.push('<a href="#" class="showall"> Show all </a>'),html.push("</li>")}return this.selectedDisplaySize==this.maxQueueSize&&this.allMessages.length>this.defaultDisplaySize&&html.push('<li class="info"> <a href="#" class="hide">Hide messages</a> </li>'),html.join("")},getWikiTranform:function(str){var text=Splunk.util.escapeHtml(str);return text=(text=(text=(text=text.replace(this.EXTERNAL_LINK_REX,'<a href="$2" #~#$1#~#>$3</a>')).replace(this.INTERNAL_LINK_REX,this._generateInternalLink)).replace(this.TARGET_BLANK_TOKEN_REX,'target="_blank"')).replace(this.TARGET_SAME_TOKEN_REX,"")},_generateInternalLink:function(str,blank_token,url,text){return'<a href="'+(url=Splunk.util.make_url(url))+'"#~#'+blank_token+"#~#>"+text+"</a>"},onMessageDeleted:function(message_id){for(var j=0;j<this.allMessages.length;j++){message_id==this.allMessages[j].id&&(this.allMessages.splice(j,1),j--)}this.displayedMessages=this.allMessages.slice(0,this.selectedDisplaySize),this.list.html(this.getHTMLTransform()),$(document).trigger("messageUnshift",this.container)},onShowAll:function(){this.selectedDisplaySize=this.maxQueueSize,this.displayedMessages=this.allMessages.slice(0,this.selectedDisplaySize),this.list.html(this.getHTMLTransform()),$(document).trigger("messageUnshift",this.container)},onHide:function(){this.selectedDisplaySize=this.defaultDisplaySize,this.displayedMessages=this.allMessages.slice(0,this.selectedDisplaySize),this.list.html(this.getHTMLTransform()),$(document).trigger("messageUnshift",this.container)},unshift:function(){for(var previousMessages=[].concat(this.allMessages),i=arguments.length-1;i>-1;i--){var message=arguments[i];if(message.control)this.handleControlMessage(message);else{for(var j=0;j<this.allMessages.length;j++){var content=this.allMessages[j].content,level=this.allMessages[j].level;message.content==content&&message.level==level&&(this.allMessages.splice(j,1),j--)}this.allMessages=[{level:message.level,content:message.content,id:message.id}].concat(this.allMessages)}}return this.allMessages.splice(this.maxQueueSize,this.allMessages.length-this.maxQueueSize),this.displayedMessages=this.allMessages.slice(0,this.selectedDisplaySize),Splunk.util.objectSimilarity(previousMessages,this.displayedMessages)||(this.list.html(this.getHTMLTransform()),$(document).trigger("messageUnshift")),$("li",this.list).length}})},"startupjs/src/module_loader":function(module,exports){Splunk.ModuleLoader=$.klass({initialize:function(){for(var name in this.PERMALINK_ARGS_PREFIX="form.",this.logger=Splunk.Logger.getLogger("module_loader.js"),this.messenger=Splunk.Messenger.System.getInstance(),this._modules=[],this._topLevelModules=[],this._modulesByID={},Splunk.Module)Splunk.Module[name]&&this._hasSuperclass(Splunk.Module[name],Splunk.Module)&&!Splunk.Module[name].isAbstract&&(Splunk.Module[name].prototype.moduleType="Splunk.Module."+name);$(document).bind("moduleLoadStatusChange",this.onModuleLoadStatusChange.bind(this)),this.setLoadPhase(Splunk.util.moduleLoadStates.WAITING_FOR_INITIALIZATION)},getLoadPhase:function(){return this._loadPhase},setLoadPhase:function(statusInt){switch(this._loadPhase=statusInt,statusInt){case Splunk.util.moduleLoadStates.WAITING_FOR_INITIALIZATION:this.buildModuleInstanceList();break;case Splunk.util.moduleLoadStates.WAITING_FOR_HIERARCHY:$(document).trigger("allModulesInitialized"),this.buildHierarchyAndTopLevelModules();break;case Splunk.util.moduleLoadStates.WAITING_FOR_CONTEXT:$(document).trigger("allModulesInHierarchy"),this.pushContexts();break;default:this.logger.error("ModuleLoader.setLoadPhase was given a phase it doesnt care about. Odd.  ("+statusInt+")")}},onModuleLoadStatusChange:function(event,moduleId,statusInt){if(statusInt||this.logger.error("Assertion failed - received null or invalid statusInt for module=",moduleId," statusInt=",statusInt),!(this.getLoadPhase()>=Splunk.util.moduleLoadStates.WAITING_FOR_CONTEXT)){var lowestLoadState=this.getLowestLoadState();if(this.getLoadPhase()<lowestLoadState<=Splunk.util.moduleLoadStates.WAITING_FOR_CONTEXT){if(this.getLoadPhase()==Splunk.util.moduleLoadStates.WAITING_FOR_INITIALIZATION&&this.getLowestLoadState()>=Splunk.util.moduleLoadStates.WAITING_FOR_HIERARCHY)return void this.setLoadPhase(Splunk.util.moduleLoadStates.WAITING_FOR_HIERARCHY);if(this.getLoadPhase()==Splunk.util.moduleLoadStates.WAITING_FOR_HIERARCHY&&this.getLowestLoadState()>=Splunk.util.moduleLoadStates.WAITING_FOR_CONTEXT)return void this.setLoadPhase(Splunk.util.moduleLoadStates.WAITING_FOR_CONTEXT);this.getLoadPhase()==Splunk.util.moduleLoadStates.WAITING_FOR_CONTEXT&&this.getLowestLoadState()>=Splunk.util.moduleLoadStates.HAS_CONTEXT&&this.setLoadPhase(Splunk.util.moduleLoadStates.HAS_CONTEXT)}}},buildModuleInstanceList:function(){this._modules=[];for(var moduleContainers=$(".SplunkModule"),i=0,lim=moduleContainers.length;i<lim;i++){var container=moduleContainers[i],subclass=container.className.replace("SplunkModule ","");$(container).attr("id");if(!(subclass in Splunk.Module)){this.logger.error("Splunk.ModuleLoader - Assertion failed. View config specifies a Module whose implementation cannot be found. className=",subclass),Splunk.util.redirect_to("error/render_error_page",{message:_("Looks like this view is using Advanced XML, which has been removed from Splunk Enterprise. Please contact your Splunk administrator."),status:"",learnmore:"learnmore.python3migration.advancedxml"});break}var module=new Splunk.Module[subclass](container);this._modules.push(module),this._modulesByID.hasOwnProperty(container.id)&&this.logger.error(sprintf(_("Splunk.ModuleLoader - Assertion failed. Two modules were given the same id %s"),container.id)),this._modulesByID[container.id]=module}this._constructedAllModules=!0;for(var state=Splunk.util.moduleLoadStates.WAITING_FOR_HIERARCHY,j=0,mod_lim=this._modules.length;j<mod_lim;j++){var mod=this._modules[j];mod.requiresAsynchronousLoading()||mod.setLoadState(state)}},buildHierarchyAndTopLevelModules:function(){this._topLevelModules=[],this._withEachModule(this._modules,function(childModule){var parentSelector=childModule.container.attr("s:parentmodule");parentSelector?($(parentSelector)[0]||this.logger.error('Splunk.ModuleLoader - Module "'+childModule.container.attr("id")+'" could not find its declared parent module "'+parentSelector+'"'),this.getModuleInstanceById(parentSelector.substring(1)).addChild(childModule)):this._topLevelModules.push(childModule)}.bind(this));var state=Splunk.util.moduleLoadStates.WAITING_FOR_CONTEXT;this._withEachModule(this._modules,(function(childModule){childModule.setLoadState(state)}))},chartingSettingsToContext:function(settings,context){var settingNameMap={"c.chart":"charting.chart","c.title":"charting.chartTitle","c.stack":"charting.chart.stackMode","c.split":"charting.layout.splitSeries","c.nulls":"charting.chart.nullValueMode","c.legend":"charting.legend.placement","c.x.title":"charting.primaryAxisTitle.text","c.y.title":"charting.secondaryAxisTitle.text","c.y.min":"charting.secondaryAxis.minimumNumber","c.y.max":"charting.secondaryAxis.maximumNumber","c.y.scale":"charting.secondaryAxis.scale","c.markers":"charting.chart.showMarkers"};for(var arg in settings)settingNameMap.hasOwnProperty(arg)?context.set(settingNameMap[arg],settings[arg]):0==arg.indexOf("charting.")&&context.set(arg,settings[arg])},pushContexts:function(){var search,hashParams=Splunk.util.queryStringToProp(Splunk.util.getHash()),queryArgs={},context=new Splunk.Context,extractFormValues=function(params){var cnt=0,formValues={};for(var key in params)0==key.indexOf(this.PERMALINK_ARGS_PREFIX)&&(formValues[key]=params[key],cnt++);return cnt?formValues:null}.bind(this),formValues=extractFormValues(hashParams),isIE=/msie|trident/i.test(navigator.userAgent);if(formValues){if(formValues&&isIE&&window.location.hash){var duplicateSegment=window.location.hash.substring(1,window.location.hash.indexOf("/"));if(new RegExp("/"+duplicateSegment+"#"+duplicateSegment+"/","g").test(document.location.href)){var ignoreDuplicateSegment=window.location.hash.substring(window.location.hash.indexOf("?"));formValues=extractFormValues(queryArgs=Splunk.util.queryStringToProp(ignoreDuplicateSegment))}}}else formValues=extractFormValues(queryArgs=Splunk.util.queryStringToProp(window.location.search));if(formValues){var l,earliest=queryArgs.earliest,latest=queryArgs.latest,range=new Splunk.TimeRange(earliest,latest),ss=new Splunk.Search;for(l in ss.setTimeRange(range),formValues)context.set(l,formValues[l]);context.set("search",ss),context.set("is_form_search",1),this._withEachModule(this._modules,(function(module){(module.getToken()||"Splunk.Module.TimeRangePicker"==module.moduleType)&&(module.baseContext=$.extend(module.baseContext,context),module.onContextChange())}))}if(hashParams.hasOwnProperty("q"))this.logger.info("Kick off search based on fragment identifier"),this.logger.info("Extracted fragment identifier params:",JSON.stringify(hashParams)),Splunk.toBeResurrected={fullSearch:hashParams.q||"",baseSearch:hashParams.q||"",decompositionFailed:!0,intentions:[],earliest:hashParams.earliest||"",latest:hashParams.latest||""},this.logger.info("Constructed search for module framework:",JSON.stringify(search)),search=Splunk.Search.resurrect(Splunk.toBeResurrected),context.set("search",search),this.chartingSettingsToContext(hashParams,context),this.startResurrection(context,this._topLevelModules);else if(Splunk.toBeResurrected){(search=Splunk.Search.resurrect(Splunk.toBeResurrected)).isJobDispatched()&&search.job.setAsAutoCancellable(!1),context.set("search",search);var qsDict=Splunk.util.queryStringToProp(document.location.search);this.chartingSettingsToContext(qsDict,context),this.startResurrection(context,this._topLevelModules)}else{var propagateHasContextState=function(module){module.requiresDispatch()||(module.setLoadState(Splunk.util.moduleLoadStates.HAS_CONTEXT),module.markPageLoadComplete(),Splunk.util.normalizeBoolean(module.getParam("autoRun"))?module.pushContextToChildren():module.withEachChild((function(child){propagateHasContextState(child)})))};this._withEachModule(this._topLevelModules,(function(module){propagateHasContextState(module)}))}this.logger.debug("ModuleLoader's work is done.  - now that contexts are pushed, we clear cached contexts for all non-dispatching modules except the topmost ones."),this._withEachModule(this._modules,(function(module){module.requiresDispatch(search)||!module.parent||!module.baseContext||module.baseContext.get("search")&&module.baseContext.get("search").isJobDispatched()||(module.baseContext=null)})),Splunk.Globals.Jobber.clearForPolling(),formValues&&this._withEachModule(this._modules,(function(module){"Splunk.Module.SubmitButton"!=module.moduleType||module.pushContextToChildren(null,!0)}))},getLowestLoadState:function(){for(var minimumStatus=Splunk.util.moduleLoadStates.HAS_CONTEXT,i=0,l=this._modules.length;i<l;i++)minimumStatus=Math.min(minimumStatus,this._modules[i].getLoadState());return this._constructedAllModules||(minimumStatus=Math.min(minimumStatus,Splunk.util.moduleLoadStates.WAITING_FOR_INITIALIZATION)),minimumStatus},getModuleLoadState:function(moduleId){return this.getModuleInstanceById(moduleId).getLoadState()},_hasSuperclass:function(subclass,superclass){for(var i=0;subclass.superclass&&i<100;){if(subclass.superclass==superclass)return!0;subclass=subclass.superclass,i++}return!1},startResurrection:function(context,topLevelModules){this._withEachModule(topLevelModules,function(module){for(var seamModule=module,nullSearch=new Splunk.Search;!seamModule.requiresDispatch(nullSearch)&&!seamModule.someChildrenRequireDispatch(nullSearch)&&seamModule._children&&1==seamModule._children.length;)seamModule=seamModule._children[0];context.get("search");this.logger.warn("resurrection proceeding from ",seamModule.moduleType," id=",seamModule.container.attr("id"));var upwardContext=context.clone();seamModule.applyContext(upwardContext),seamModule.passContextToParent(upwardContext),seamModule.withEachAncestor((function(module){module.setLoadState(Splunk.util.moduleLoadStates.HAS_CONTEXT),module.markPageLoadComplete()})),seamModule.setLoadState(Splunk.util.moduleLoadStates.HAS_CONTEXT),seamModule.pushContextToChildren(context),seamModule.markPageLoadComplete()}.bind(this))},_withEachModule:function(moduleInstances,moduleFunc){var numberOfModules=moduleInstances.length;numberOfModules||this.logger.warn("No modules found in view.");for(var i=0;i<numberOfModules;i++)moduleFunc(moduleInstances[i])},getModuleInstanceById:function(moduleId){if(this._modulesByID.hasOwnProperty(moduleId))return this._modulesByID[moduleId];throw this.logger.error("no module loaded with id="+moduleId),new Error("Could not find module class instance for DOM ID="+moduleId+" ("+this._modules.length+" modules total).")},commitViewParams:function(viewstate_id,is_shared){viewstate_id?viewstate_id=$.trim(viewstate_id):(viewstate_id=this._generateViewstateId(),Splunk.util.getCurrentDisplayView()!=Splunk.util.getCurrentView()&&(viewstate_id="*:"+viewstate_id));var payload=[];return this._withEachModule(this._modules,(function(module){var tmpParams=module.snapshotParamset();for(var key in tmpParams)tmpParams.hasOwnProperty(key)&&payload.push(module._buildParamName(key)+"="+encodeURIComponent(tmpParams[key]))})),0==payload.length?(this.logger.warn(sprintf("commitViewParams - no parameters to persist; app=%s view=%s",Splunk.util.getCurrentApp(),Splunk.util.getCurrentView())),null):(1==is_shared&&payload.push("_is_shared=true"),$.ajax({type:"POST",url:this._modules[0]._buildParamUri(viewstate_id),data:payload.join("&"),dataType:"json",success:this._commitViewParamsCallback.bind(this),error:this._commitViewParamsErrorback.bind(this)}),viewstate_id)},_commitViewParamsCallback:function(data,textStatus){this.logger.debug("_commitViewParamsCallback - status="+textStatus)},_commitViewParamsErrorback:function(xhr,status,error){this.logger.error("_commitViewParamsErrorback - "+error)},_generateViewstateId:function(){return(new Date).getTime().toString(36)},refreshViewData:function(){$.ajax({type:"GET",url:Splunk.util.make_url("api","app",Splunk.util.getCurrentApp(),Splunk.util.getCurrentView()),cache:!1,dataType:"text",complete:function(data,textStatus){if(200==data.status){try{viewData=JSON.parse(data.responseText)}catch(e){return void this.logger.warn("Could not parse view data with error",e)}$(document).trigger("viewDataChange",[viewData])}else this.logger.error("Could not retrieve view data change status was",data.status)}.bind(this)})}})},"startupjs/src/page_status":function(module,exports){Splunk.namespace("Splunk.PageStatus"),Splunk.PageStatus=$.klass({READY:"PageReady",initialize:function(){this.logger=Splunk.Logger.getLogger("Splunk.PageStatus"),$(document).bind(this.READY,this._onPageReady.bind(this)),this._reset(),this._registerJobs(),this._registerModuleLoader()},_registerJobs:function(){var handler=this,callbackMap={},jobCreatedCallback=function(event,job){var sid=job.getSearchId();callbackMap[sid]=handler.register("Job is running - "+sid)};$(document).bind("jobDispatched",jobCreatedCallback),$(document).bind("jobResurrected",jobCreatedCallback),$(document).bind("jobProgress",(function(event,job){var sid=job.getSearchId();callbackMap&&callbackMap.hasOwnProperty(sid)&&(job.isDone()||job.isRealTimeSearch()&&1==job.getDoneProgress())&&(callbackMap[sid].loadComplete(),delete callbackMap[sid])}))},_registerModuleLoader:function(){if(Splunk.hasOwnProperty("ModuleLoader")){var monitor=this.register("ModuleLoader - initializing all modules, loading them with context data.");$(document).bind("allModulesInHierarchy",(function(){monitor.loadComplete()}))}else this.logger.debug("no dependent ModuleLoader detected")},register:function(desc){++this.last_id;var id=this.last_id;this.pending[id]=desc,this.pending_count++;var handler=this;return{id:id,loadComplete:function(){return handler._loadComplete(this.id)}}},setupComplete:function(){this.logger.info("Splunk.PageStatus setup complete"),this.page_setup=!0,this._checkPageComplete()},_loadComplete:function(id){return!(!id in this.pending)&&(delete this.pending[id],this.pending_count--,this._checkPageComplete(),!0)},_checkPageComplete:function(){if(!this.pending_count&&this.page_setup)if(this.logger.info("Splunk.PageStatus page done after "+this.last_id+" dependents completed."),document.createEvent){var evt=document.createEvent("Events");evt.initEvent(this.READY,!0,!1),document.dispatchEvent(evt)}else $(document).trigger(this.READY)},_onPageReady:function(evt){this.logger.info("Splunk.PageStatus.READY fired")},_reset:function(){this.pending={},this.pending_count=0,this.last_id=0,this.page_setup=!1}}),Splunk.PageStatus.instance=null,Splunk.PageStatus.getInstance=function(){return Splunk.PageStatus.instance||(Splunk.PageStatus.instance=new Splunk.PageStatus),Splunk.PageStatus.instance}},"startupjs/src/pdf":function(module,exports){Splunk.namespace("Splunk.pdf"),Splunk.pdf={is_pdf_available:function(availableCallback,unavailableCallback){if(this.pdfIsAvailableSet)!0===this.pdfIsAvailable&&availableCallback?availableCallback(this.whichPdfEngine):!1===this.pdfIsAvailable&&unavailableCallback&&unavailableCallback();else{this.pdfIsAvailable=!1,this.whichPdfEngine="none";var whichPdf,callback,that=this;Splunk.util.getConfigValue("PDFGEN_IS_AVAILABLE",!0)?(whichPdf="pdfgen",callback=availableCallback,that.pdfIsAvailable=!0,that.whichPdfEngine=whichPdf,that.pdfIsAvailableSet=!0,callback&&callback(that.whichPdfEngine)):function(callback){that.pdfIsAvailable=!1,that.pdfIsAvailableSet=!1,callback&&callback()}(unavailableCallback)}},get_render_url_for_saved_search:function(savedSearch,namespace,sid,pdfService){var params={};return params["input-report"]=savedSearch,params.namespace=namespace,sid&&(params.sid=sid),Splunk.pdf._get_pdfgen_render_url(params)},get_render_url_for_current_dashboard:function(pdfService){var params={};params["input-dashboard"]=Splunk.ViewConfig.view.id,params.namespace=Splunk.ViewConfig.app.id;for(var gimps=$(".Gimp"),i=0;i<gimps.length;i++){var gimpId=gimps[i].id,search=Splunk.Globals.ModuleLoader.getModuleInstanceById(gimpId).getContext().get("search");if(search&&search.job){var sid=search.job.getSearchId();sid&&(params["sid_"+i]=sid)}}return Splunk.pdf._get_pdfgen_render_url(params)},_get_pdfgen_render_url:function(params){return Splunk.util.make_full_url("splunkd/__raw/services/pdfgen/render",params)}}},"startupjs/src/popup":function(module,exports){Splunk.Popup=$.klass({_popup:null,isActive:!1,initialize:function(contents,options){return this.logger=Splunk.Logger.getLogger("popup_manager.js"),contents||this.logger.error("Splunk.Popup: No popup contents specified"),this.popupContents=contents,this._options={title:"",pclass:!1,cloneFlag:!0,buttons:!1,inlineMode:!1,onDestroy:function(){},isModal:!0},options&&$.extend(this._options,options),this._options.title||this.logger.warn("splunk.Popup: No popup title specified, leaving blank"),this._options.isModal&&this.createOverlay(),this._options.inlineMode?this._popup=this.popupContents:(this._popup=$('<div class="popupContainer"></div>').append('<div class="splHeader splHeader-popup"><a href="javascript:void(0)" class="splIcon splIcon-close"></a><h1>'+this._options.title+"</h1></div>").append('<div class="popupContent"></div>').prependTo("body"),this._options.pclass?this._popup.addClass(this._options.pclass):this._popup.addClass("ieBugFixer"),this.setPopupContents(this.popupContents),this._options.buttons&&(this._popup.append('<div class="popupFooter"></div>'),this.setPopupButtons(this._options.buttons))),this.positionPopup(),$(this._popup).css({visibility:"visible",display:"block"}),$(this._popup).children(".splHeader-popup").length&&$(this._popup).draggable({handle:".splHeader-popup h1",containment:"document"}),this._setupEventHandlers(),this.isActive=!0,Splunk.Popup._globalPopupCount+=1,Splunk.util.focusFirstField(this._popup),this._options.isModal&&$(this._popup).trap(),this._popup},createPopup:function(popupParent,popupTitle,popupContents,handleOK,handleCancel,handleAccept){this.logger.error("splunk.Popup: Function signature changed, please see /exposed/js/popup.js for details")},_setupEventHandlers:function(){$(this._popup).find(".splHeader .splIcon-close").click(function(){return this.destroyPopup(),!1}.bind(this)),$(document).bind("keydown.Popup",function(event){27==event.keyCode&&(event.preventDefault(),this.destroyPopup())}.bind(this))},setPopupContents:function(popupContents){$(this._popup).find(".popupContent").empty();var newContents=$(popupContents);newContents=this._options.cloneFlag?$(popupContents).clone(!0).appendTo($(this._popup).find(".popupContent")).show():$(popupContents).appendTo($(this._popup).find(".popupContent")).show(),/msie|trident/i.test(navigator.userAgent)&&this.setPopupDimensions(newContents)},setPopupButtons:function(buttons){var popupInstance=this;$.each(buttons,(function(i,button){button.hasOwnProperty("label")?buttonText=button.label:buttonText="",button.hasOwnProperty("type")?buttonType=button.type:buttonType="primary",button.hasOwnProperty("callback")?buttonHandler=button.callback:(popupInstance.logger.warn("Splunk.Popup: Button has no callback defined"),buttonHandler=function(){return!0}),popupInstance.addButton(buttonText,buttonType,buttonHandler)}))},addButton:function(buttonText,buttonType,buttonHandler){buttonType=buttonType.toLowerCase();var newbutton=$("<button></button>").addClass("splButton-"+buttonType).append("<span>"+buttonText+"</span>").appendTo($(this._popup).children("div.popupFooter")).click(function(){buttonHandler()&&this.destroyPopup()}.bind(this));"disabled"===$("#appContextSelect_New").attr("disabled")&&newbutton.attr("disabled","disabled")},createOverlay:function(popupParent){Splunk.Popup._globalPopupCount>0||$('<div class="splOverlay"></div>').prependTo("body").show()},destroyOverlay:function(){Splunk.Popup._globalPopupCount>0||$(".splOverlay").remove()},setPopupDimensions:function(popupContents){var popupContentWidth=$(popupContents).outerWidth(!1);$(this._popup).css({width:popupContentWidth})},positionPopup:function(){var posX,posY,wst,height=this._popup.outerHeight(!1),width=this._popup.outerWidth(!1),ww=$(window).width(),wh=$(window).height();posX=0,posY=0,$.fn.scrollTop&&(posY=wst=$(window).scrollTop(),wh>height&&(posY=(wh-height)/2+wst)),$.fn.scrollLeft&&($(window).scrollLeft(),ww>width&&(posX=(ww-width)/2)),this._popup.css({top:posY,left:posX})},onPopupLoaded:function(){$("#runMe").length&&eval($("#runMe").text())},getPopup:function(){return this._popup},destroyPopup:function(){Splunk.Popup._globalPopupCount-=1,this._options.onBeforeDestroy&&this._options.onBeforeDestroy(this),this._options.inlineMode?$(this._popup).hide():$(this._popup).remove(),this._options.isModal&&this.destroyOverlay(),this.isActive=!1,$(document).unbind("keydown.Popup"),this._options.onDestroy&&this._options.onDestroy(this)}}),Splunk.Popup.createExportResultsForm=function(formContainer,job,type){void 0===type&&(type="event");var exportPopupHandle=null,exportPopup=new Splunk.Popup(formContainer,{title:_("Export Results"),buttons:[{label:_("Cancel"),type:"secondary",callback:function(){return!0}},{label:_("Export"),type:"primary",callback:function(){if("unlimited"==$(exportPopupHandle).find('[name="spl_ctrl-limit"]:checked').val())$(exportPopupHandle).find('[name="count"]').val("0");else{var countstr=$(exportPopupHandle).find('[name="spl_ctrl-count"]').val(),count=parseInt(countstr,10);if(isNaN(count)||count<1||countstr!=count)return alert(_("Must export at least one result")),!1;$(exportPopupHandle).find('[name="count"]').val(count)}return $(exportPopupHandle).find(".exForm").submit()}}]});exportPopupHandle=exportPopup.getPopup();var exportForm=$(exportPopupHandle).find(".exForm")[0];exportForm.action=Splunk.util.make_url("api/search/jobs/"+job.getSID()+"/"+type),job.areResultsTransformed()&&$("option[value='raw']",exportForm).remove()},Splunk.Popup.createEventtypeForm=function(formContainer,title,search,tags){return options={url:Splunk.util.make_url("manager",Splunk.util.getCurrentApp(),"/saved/eventtypes/_new?action=edit&noContainer=2&viewFilter=modal&eleOnly=1"),titlebar_class:"TitleBareventtypePopup",setupPopup:function(EAIPopup){if(search){var searchStr=Splunk.util.stripLeadingSearchCommand(search.toString());$('form.entityEditForm textarea[name="search"]',EAIPopup.getPopup()).val(searchStr)}tags&&$('form.entityEditForm input[name="tags"]',EAIPopup.getPopup()).val(tags)},beforeSaveForm:function(eai){var name=$('form.entityEditForm input[name="name"]').val();eai.success_message=sprintf(_("Your eventtype '%(eventtypeName)s' was saved."),{eventtypeName:name})},onAjaxError:function(){Splunk.Messenger.System.getInstance().send("error","splunk.eventtype",_("Splunk encountered an error when it attempted to retrieve the eventtype form. Try again or contact an admin."))}},Splunk.Popup.createEAIForm(formContainer,title,options)},Splunk.Popup.createSavedSearchForm=function(formContainer,title,search){return options={url:Splunk.util.make_url("manager",Splunk.util.getCurrentApp(),"/saved/searches/_new?action=edit"),titlebar_class:"TitleBarSavedSearchPopup",setupPopup:function(EAIPopup){if(search){var searchStr=search.toString(),timeRange=search.getTimeRange(),earliestTime=timeRange.getEarliestTimeTerms(),latestTime=timeRange.getLatestTimeTerms();searchStr&&$('form.entityEditForm textarea[name="search"]').val(Splunk.util.stripLeadingSearchCommand(searchStr)),earliestTime&&$('form.entityEditForm input[name="dispatch.earliest_time"]').val(earliestTime),latestTime&&$('form.entityEditForm input[name="dispatch.latest_time"]').val(latestTime)}$('form.entityEditForm input[name="displayview"]',EAIPopup.getPopup()).val(Splunk.util.getCurrentDisplayView()),$('form.entityEditForm input[name="request.ui_dispatch_view"]',EAIPopup.getPopup()).val(Splunk.util.getCurrentDisplayView())},beforeSaveForm:function(eai){var vs_id=Splunk.Globals.ModuleLoader.commitViewParams(null,!0),vs_input=$('form.entityEditForm input[name="vsid"]');vs_input?vs_input.val(vs_id):search.logger.error("handleSaveSubmit - Cannot find vsid element; viewstate will not be saved");var name=$('form.entityEditForm input[name="name"]').val();eai.success_message=sprintf(_("Your search '%(savedSearchName)s' was saved."),{savedSearchName:name})},onAjaxError:function(){Splunk.Messenger.System.getInstance().send("error","splunk.savedsearches",_("Splunk encountered an error when it attempted to retrieve the save search form. Try again or contact an admin."))}},Splunk.Popup.createEAIForm(formContainer,title,options)},Splunk.Popup.createSchedulePDFForm=function(formContainer,title){var pdfUrl,getArgs={};pdfUrl=Splunk.pdf.get_render_url_for_current_dashboard(),getArgs.pdfPreviewUrl=pdfUrl,"undefined"!=typeof Splunk&&void 0!==Splunk.ViewConfig&&void 0!==Splunk.ViewConfig.view&&"string"==typeof Splunk.ViewConfig.view.label&&Splunk.ViewConfig.view.label.length>0&&(getArgs.viewLabel=Splunk.ViewConfig.view.label);var scheduledViewsUrl=Splunk.util.make_full_url("scheduledview/"+Splunk.util.getCurrentApp()+"/"+Splunk.util.getCurrentView(),getArgs);return Splunk.Popup.IFramer(scheduledViewsUrl,_("Schedule PDF Delivery"),{pclass:"schedulePdfPopup"})},Splunk.Popup.createUserOptionsForm=function(formContainer,title){var options={url:Splunk.util.make_url("manager",Splunk.util.getCurrentApp(),"authentication","changepassword","admin","?action=edit&noContainer=1&eleOnly=1"),titlebar_class:"TitleBarSavedSearchPopup",beforeSaveForm:function(eai){eai.success_message=_("Successfully changed user options")},onAjaxError:function(){}};return Splunk.Popup.createEAIForm(formContainer,title,options)},Splunk.Popup.createEAIForm=function(formContainer,title,options){if(!Splunk.Popup.createEAIForm.opened){var logger=Splunk.Logger.getLogger("Splunk.Popup.createEAIForm"),loadingContainer=$("<div></div").appendTo(formContainer),loadedFormContainer=$('<div style="display:block"></div>').appendTo(formContainer);$(loadingContainer).html('<div class="popupLoading">Loading...</div>'),/msie|trident/i.test(navigator.userAgent)&&$(loadingContainer).css({overflow:"",height:""});var EAIPopup=new Splunk.Popup(loadingContainer,{title:title,pclass:options.titlebar_class,cloneFlag:!1,onDestroy:function(){Splunk.Popup.createEAIForm.opened=!1}});$(".popupFooter",EAIPopup.getPopup()).hide();Splunk.Messenger.System.getInstance();var cancel=function(){return!0},handleSaveSubmit=function(){var form=$("form.entityEditForm",EAIPopup.getPopup()),eai=Splunk.EAI.getInstance();return eai.redirect=!1,options.beforeSaveForm&&options.beforeSaveForm(eai),$("div.popupFooter button.splButton-primary span",this._popup).text(_("Saving...")),$("div.popupFooter button.splButton-primary",this._popup).unbind("click").removeClass("primary").addClass("secondary"),eai.saveForm(form,(function(){if(Splunk.Globals.ModuleLoader.refreshViewData(),window.opener&&!window.opener.closed)try{window.opener.Splunk.Globals.ModuleLoader.refreshViewData()}catch(e){logger.warn("Could not refresh view data for parent opener",e)}EAIPopup.destroyPopup()}),(function(){loadedFormContainer.scrollTop(0),$("div.popupFooter button.splButton-primary span",this._popup).text(_("Save")),$("div.popupFooter button.splButton-primary",this._popup).bind("click",handleSaveSubmit).removeClass("secondary").addClass("primary")})),!1};Splunk.Popup.createEAIForm.opened=!0,$.ajax({url:options.url,dataType:"html",error:function(){EAIPopup&&(EAIPopup.destroyPopup(),Splunk.Popup.createEAIForm.opened=!1),options.onAjaxError&&options.onAjaxError()},success:function(resp,status){options.prefix&&(resp=options.prefix+resp),options.suffix&&(resp+=options.suffix),$(loadedFormContainer).html(resp);var safeHeight=$(window).height()-200;/msie|trident/i.test(navigator.userAgent)?($(loadedFormContainer).css("overflow","scroll"),$(loadedFormContainer).css("max-height",safeHeight+"px")):($(loadedFormContainer).css("overflow","auto"),$(loadedFormContainer).css("max-height",safeHeight+"px")),EAIPopup&&EAIPopup.destroyPopup(),EAIPopup=new Splunk.Popup(loadedFormContainer,{title:title,pclass:options.titlebar_class,cloneFlag:!1,onDestroy:function(){Splunk.Popup.createEAIForm.opened=!1},buttons:[{label:_("Cancel"),type:"secondary",callback:cancel},{label:_("Save"),type:"primary",callback:handleSaveSubmit}]}),$('form.entityEditForm input[name="name"]',EAIPopup.getPopup()).focus(),Splunk.EAI.getInstance().use_messenger_on_error=!1,options.setupPopup&&options.setupPopup(EAIPopup),$("form",loadedFormContainer).unbind("submit"),$("form",loadedFormContainer).submit(handleSaveSubmit)}})}},Splunk.Popup._globalPopupCount=0,Splunk.Popup.createShareLinkForm=function(formContainer,title,search){var messenger=Splunk.Messenger.System.getInstance();search.job.save((function(){var app=Splunk.util.getCurrentApp(),view=Splunk.util.getCurrentDisplayView(),args={sid:search.job.getSearchId()};args.vs=Splunk.Globals.ModuleLoader.commitViewParams(null,!0),url=[],url.push(document.location.protocol),url.push("//"),url.push(document.location.host),url.push(Splunk.util.make_url("app",app,view)),url.push("?"+Splunk.util.propToQueryString(args)),setTimeout((function(){$(".linkTextInput").val(url.join("")).focus((function(){this.select()})).focus()}),0);var linkPopup=null;$("a.undoEverything",formContainer).click((function(){!function(event){search.job.unsave((function(){search.logger.debug("results are now unsaved again.")}),(function(){messenger.send("error","splunk.search",_("Splunk encountered an error while trying to undo the saving of your results. Try again or contact an admin."))}));search.job.undoWorldReadable((function(){search.logger.debug("results are now again marked as NOT world readable.")}),(function(){messenger.send("error","splunk.search",_("Splunk encountered an error while trying to make your results not world-readable. Try again or contact an admin."))}))}(),linkPopup.destroyPopup()})),linkPopup=new Splunk.Popup(formContainer,{title:title,buttons:[{label:_("Close"),type:"primary",callback:function(){return!0}}]})}),(function(e){messenger.send("error","splunk.search",_("Splunk encountered an error when it tried to save your results. It cannot generate a link. Try again or contact an admin.")+e)}));search.job.makeWorldReadable((function(){search.logger.debug("results are now marked as world readable.")}),(function(){messenger.send("error","splunk.search",_("Splunk encountered an error when it tried to make your results world-readable. Try again or contact an admin."))}))},Splunk.Popup.createEAIForm.opened=!1,Splunk.Popup.createEventtypeForm.opened=!1,Splunk.Popup.createTagFieldForm=function(formContainer,title,fieldName,fieldValue,successCallback){var resource=Splunk.util.make_url("/tags/"+Splunk.util.getCurrentApp()+"/fields/"+encodeURIComponent(fieldName)+"/"+encodeURIComponent(fieldValue)),logger=Splunk.Logger.getLogger("Splunk.Popup.createTagFieldForm");$.ajax({type:"GET",url:resource,dataType:"html",async:!1,error:function(){logger.error(sprintf(_("Could not load %(resource)s"),{resource:resource}))}.bind(this),complete:function(data,textStatus){var content=200==data.status?data.responseText:"Could not tag field";formContainer.html(content)}.bind(this)});var popup=new Splunk.Popup(formContainer,{title:title,buttons:[{label:_("Cancel"),type:"secondary",callback:function(){return!0}},{label:_("OK"),type:"primary",callback:function(){return!1}}]});$("input[name='add']",popup.getPopup()).focus();var ajaxFormOptions={complete:function(xhr,statusText){"error"==statusText?alert(_("Your tag(s) could not be saved.\nOnly alphanumeric characters, underscores, hyphens and periods are allowed for tags.")):(successCallback.apply(null,arguments),popup.destroyPopup())}.bind(this),target:formContainer},popupForm=$("form",popup.getPopup());popupForm.ajaxForm(ajaxFormOptions),$("input[name='add']",popup.getPopup()).keydown((function(event){13==event.keyCode&&popupForm.submit()})),$("button.splButton-primary",popup.getPopup()).click((function(){popupForm.submit()}))},Splunk.Popup.IFramer=function(path,title,options){var src,isInit=!0,data=(options=options||{}).data||null,scrolling=options.scrolling||!1,popopOptions={title:title};options.onBeforeDestroy&&(popopOptions.onBeforeDestroy=options.onBeforeDestroy),options.pclass&&(popopOptions.pclass=options.pclass),"isModal"in options&&(popopOptions.isModal=options.isModal);var iframe=$("<iframe/>");src=data?path+"?"+Splunk.util.propToQueryString(data):path,iframe.attr("src","about:blank"),iframe.attr("scrolling",scrolling?"yes":"no");var popup=new Splunk.Popup(iframe,popopOptions);(iframe=$("iframe",popup.getPopup()))[0].src=src;var $loading=$('<div class="popup-loading">Loading...</div>');$loading.css({width:"100%",height:"100%",position:"absolute",top:"0","background-color":"#fff"}),$(".popupContent").append($loading);var onResize=function(){setTimeout((function(){var iframeHeight=iframe.height();iframe[0].contentDocument&&(iframeHeight!=iframe.contents().find("body").height()&&(iframe.css("height","auto"),iframe.height(iframe.contents().find("body").height())),isInit&&($(".popup-loading").remove(),popup.positionPopup(),isInit=!1))}),0)};return iframe.on("load",function(){var contents=iframe.contents();contents.find("body").find("div.splClearfix:last").hide(),contents.find("form").css("display","block"),onResize(),contents.find("select, input").bind("change",onResize),contents.find("body").bind("mouseup",onResize),contents.find("form.cancel").submit((function(){setTimeout((function(){popup.destroyPopup()}),0)})),contents.find("a.cancel").click((function(){setTimeout((function(){popup.destroyPopup()}),0)})),contents.find("div.ui-close-popup").length>0&&setTimeout((function(){popup.destroyPopup()}),0),contents.find("div.information input").click((function(){this.select()})),options.onFrameLoad&&options.onFrameLoad(popup,contents),options.onDone&&"function"==typeof options.onDone&&contents.find("a.ok").click((function(e){options.onDone.apply(this,[e])})),contents.find("body").trap()}.bind(this)),popup},Splunk.Popup.WizardHelper=function(path,title,search,options){$(document).trigger("SessionTimeout.Jobber");var onDone=(options=options||{}).onDone||!1,enableDispatchTimes=!options.hasOwnProperty("enableDispatchTimes")||options.enableDispatchTimes,time=search.getTimeRange(),data={search:Splunk.util.stripLeadingSearchCommand(search.toString()),"ui.display_view":Splunk.util.getCurrentDisplayView(),"ui.dispatch_view":Splunk.util.getCurrentDisplayView()};enableDispatchTimes&&(data["dispatch.latest_time"]=time.getLatestTimeTerms(),data["dispatch.earliest_time"]=time.getEarliestTimeTerms());var vsid=Splunk.Globals.ModuleLoader.commitViewParams(null,!0);vsid&&(data["ui.vsid"]=vsid);return Splunk.Popup.IFramer(path,title,{data:data,onBeforeDestroy:function(popup){Splunk.Globals.ModuleLoader.refreshViewData(),$(document).trigger("SessionStart.Jobber");var cancel=$("iframe",popup.getPopup()).contents().find("form.cancel");cancel.unbind(),cancel.ajaxSubmit()},pclass:"wizardPopup",onDone:onDone})},Splunk.Popup.SummarizationVerificationWizard=function(verifyLink,total_buckets,max_verify_time,max_verify_buckets,options){options=options||{};var path=Splunk.util.make_url("/manager/system/summarization/verify/step1/new"),title=options.title||_("Verify Summary"),data={};data.verifyLink=verifyLink,data.total_buckets=total_buckets,data.max_verify_time=max_verify_time,data.max_verify_buckets=max_verify_buckets,$(document).trigger("SessionTimeout.Jobber"),options=options||{};return Splunk.Popup.IFramer(path,title,{data:data,onBeforeDestroy:function(popup){$(document).trigger("SessionStart.Jobber");var cancel=$("iframe",popup.getPopup()).contents().find("form.cancel");cancel.unbind(),cancel.ajaxSubmit()},pclass:"wizardPopup",onDone:function(){window.location.reload()}})},Splunk.Popup.SummarizationVerificationResultsPopup=function(isSuccess,result,options){options=options||{};var path=Splunk.util.make_url("/manager/system/summarization/verify/showResults"),title=isSuccess?_("Verification Success"):_("Verification Failed"),data={};data.isSuccess=isSuccess,data.result=result,$(document).trigger("SessionTimeout.Jobber"),options=options||{};return Splunk.Popup.IFramer(path,title,{data:data,onBeforeDestroy:function(popup){$(document).trigger("SessionStart.Jobber");var cancel=$("iframe",popup.getPopup()).contents().find("form.cancel");cancel.unbind(),cancel.ajaxSubmit()},pclass:"wizardPopup",onDone:function(){}})},Splunk.Popup.PeerDecomissionConfirm=function(peername,options){options=options||{};var path=Splunk.util.make_url("/manager/system/clustering/master/confirmDecommission"),title=options.title||_("Decommission Peer"),data={};data.peername=peername,$(document).trigger("SessionTimeout.Jobber"),options=options||{};return Splunk.Popup.IFramer(path,title,{data:data,onBeforeDestroy:function(popup){$(document).trigger("SessionStart.Jobber");var cancel=$("iframe",popup.getPopup()).contents().find("form.cancel");cancel.unbind(),cancel.ajaxSubmit()},pclass:"wizardPopup",onDone:function(){window.location.reload()}})},Splunk.Popup.AlertWizard=function(search){if(-1!=window.location.href.indexOf("mode=classic")){var path=Splunk.util.make_url("/alertswizard/"+encodeURIComponent(Splunk.util.getCurrentApp())+"/step1/new");return Splunk.Popup.WizardHelper(path,_("Create Alert"),search)}return Splunk.Popup.AlertWizardV2(search)},Splunk.Popup.AlertWizardV2=function(search){var path=Splunk.util.make_url("/alertswizardv2/"+encodeURIComponent(Splunk.util.getCurrentApp())+"/step1/new");return Splunk.Popup.WizardHelper(path,_("Create Alert"),search,{enableDispatchTimes:!1})},Splunk.Popup.ScheduleDigestWizard=function(search,options){options=options||{};var path=Splunk.util.make_url("/scheduledigestwizard/"+encodeURIComponent(Splunk.util.getCurrentApp())+"/step1/new"),title=options.title||_("Create Scheduled Report");return Splunk.Popup.WizardHelper(path,title,search)},Splunk.Popup.SaveSearchWizard=function(search,options){options=options||{};var path=Splunk.util.make_url("/savesearchwizard/"+encodeURIComponent(Splunk.util.getCurrentApp())+"/new"),title=options.title||_("Save Search");return Splunk.Popup.WizardHelper(path,title,search,options)},Splunk.Popup.AboutPopup=function(container){if("none"==container.css("display"))return new Splunk.Popup(container,{title:_("About Splunk"),buttons:[{label:_("Done"),type:"primary",callback:function(){return!0}.bind(this)}]})},Splunk.Popup.TreePopup=function(elTarget,title,data,style){data=data||{},style=style||"wizardPopup";var path=Splunk.util.make_url("/tree"),popup=Splunk.Popup.IFramer(path,title,{data:data,pclass:style,isModal:!0}),iframe=$("iframe",popup.getPopup());return iframe.on("load",function(){iframe.contents().find(".splButton-secondary").click((function(){popup.destroyPopup()})),$(this).contents().find(".splButton-primary").click((function(){$(elTarget).val(iframe.contents().find("span#selected").text()),popup.destroyPopup()}))}.bind(this)),popup},Splunk.Popup.SchedulePDF=function($targetContainer,error){$targetContainer=$targetContainer.first();var pdfService,params={};params.viewId=Splunk.ViewConfig.view.id,params.namespace=Splunk.ViewConfig.app.id,params.owner=$C.USERNAME,Splunk.util.getConfigValue("PDFGEN_IS_AVAILABLE",!0)?Splunk.Popup.createSchedulePDFForm($targetContainer,_("Schedule for PDF Delivery"),pdfService):Splunk.Popup.DisplayPDFUnavailable($targetContainer)},Splunk.Popup.DisplayPDFUnavailable=function($targetContainer){!function(){var msg,linkToHelp=Splunk.util.make_full_url("help",{location:"learnmore.pdf.requirements"});msg=_("<p>PDF generation isn't supported on this platform. <a href=")+linkToHelp+_(">Learn more.</a></p>"),$targetContainer.html(msg);new Splunk.Popup($targetContainer,{title:_("PDF Generation Not Supported"),buttons:[{label:_("OK"),type:"primary"}]})}()}},"startupjs/src/scroller":function(module,exports){Splunk.namespace("Splunk.scroller"),Splunk.scroller.YAxis=$.klass({RESIZE_BUFFER_TIME:250,SCROLL_BUFFER_TIME:250,UPDATE_SCROLLER_PIXEL_ADJUSTMENT:{other:-12,msie:-22},initialize:function(scrollerMinHeight,scrollerMaxHeight,container,enabledClassName,options){this.logger=Splunk.Logger.getLogger("Splunk.scroller.YAxis"),this.scrollerMinHeight=scrollerMinHeight,this.scrollerMaxHeight=scrollerMaxHeight,this.container=$(container),this.enabledClassName=enabledClassName,this.options=options||{},this.bottomLockHeight=this.options.hasOwnProperty("bottomLockHeight")?this.options.bottomLockHeight:-1,this.topLockHeight=this.options.hasOwnProperty("topLockHeight")?this.options.topLockHeight:-1,this.scrollHeightAdjust=this.options.hasOwnProperty("scrollHeightAdjust")?this.options.scrollHeightAdjust:0,this.logScrollHeightDelta=!!this.options.hasOwnProperty("logScrollHeightDelta")&&this.options.logScrollHeightDelta,this.lockBottom=!1,this.lockTop=!1,this.onResizeBuffer=[],this.onScrollBuffer=[],$(window).bind("resize",this.onResize.bind(this)),$(this.container).bind("scroll",this.onScroll.bind(this)),this.container.addClass(this.enabledClassName),this.onResize()},destroy:function(){$(window).unbind("resize",this.onResize.bind(this)),$(this.container).unbind("scroll",this.onScroll.bind(this)),this.container.removeClass(this.enabledClassName),this.container.height("")},onResize:function(){this.onResizeBuffer.push(""),setTimeout(function(){if(this.onResizeBuffer.length>0){var pixelAdjustment=/msie|trident/i.test(navigator.userAgent)?this.UPDATE_SCROLLER_PIXEL_ADJUSTMENT.msie:this.UPDATE_SCROLLER_PIXEL_ADJUSTMENT.other,height=$(window).height()+Splunk.util.getPageYOffset()+pixelAdjustment-Splunk.util.getCumlativeOffsetTop(this.container[0]);height=Math.min(height,this.scrollerMaxHeight),height=Math.max(height,this.scrollerMinHeight),this.onResizeBuffer=[],this.container.height(height)}}.bind(this),this.RESIZE_BUFFER_TIME)},onScroll:function(){this.onScrollBuffer.push(""),setTimeout(function(){if(this.onScrollBuffer.length>0){this.onScrollBuffer=[];var bottomPosition=this.container[0].offsetHeight+this.container[0].scrollTop;return this.logScrollHeightDelta&&this.logger.info("logScrollHeightDelta",this.container[0].offsetHeight+this.container[0].scrollTop-(this.scrollHeight()-this.scrollHeightAdjust)),bottomPosition>=this.scrollHeight()?(this.lockBottom=!0,void(this.lockTop=!1)):(this.lockBottom=!1,this.container[0].scrollTop<=this.topLockHeight?(this.lockTop=!0,void(this.lockBottom=!1)):void(this.lockTop=!1))}}.bind(this),this.SCROLL_BUFFER_TIME)},scrollHeight:function(){return this.container[0].scrollHeight+parseInt(this.container.css("margin-top"),10)+parseInt(this.container.css("margin-bottom"),10)+this.scrollHeightAdjust},snap:function(){this.lockBottom?(this.logger.info("snap back to bottom"),this.container[0].scrollTop=this.scrollHeight()):this.lockTop&&(this.logger.info("snap back to top"),this.container[0].scrollTop=0)},reset:function(){this.onResize(),this.snap()}})},"startupjs/src/search":function(module,exports){Splunk.Search=$.klass({_baseSearch:!1,_fullSearchWithIntentions:!1,_postProcess:!1,_range:!1,_intentions:[],_maxTime:0,_maxCount:!1,_maxEvents:!1,_savedSearchName:!1,_remoteServerList:[],_selectedEventCount:-1,_selectedEventAvailableCount:-1,_acl:{},_statusBuckets:0,_requiredFieldList:[],job:!1,logger:Splunk.Logger.getLogger("search.js"),messenger:Splunk.Messenger.System.getInstance(),initialize:function(searchStr,timeRange){this._baseSearch=searchStr||"*",searchStr&&(this.job=new Splunk.Job(searchStr)),this._range=timeRange||new Splunk.TimeRange,this._intentions=[]},clone:function(noArg){noArg&&this.logger.error("the preserveJobReference arg has been removed from Search.clone");var search=new Splunk.Search(this._baseSearch,this.getTimeRange().clone());return search._fullSearchWithIntentions=this._fullSearchWithIntentions,search._intentions=$.extend(!0,[],this._intentions),this.job&&(search.job=this.job),search._savedSearchName=this._savedSearchName,search._viewStateId=this._viewStateId,search._remoteServerList=this._remoteServerList,search._selectedEventCount=this._selectedEventCount,search._selectedEventAvailableCount=this._selectedEventAvailableCount,search._postProcess=this._postProcess,search._statusBuckets=this._statusBuckets,search._requiredFieldList=this._requiredFieldList,search._maxTime=this._maxTime,search._maxEvents=this._maxEvents,search._maxCount=this._maxCount,search._acl=this._acl,search.decompositionFailed=this.decompositionFailed,search},equalToSearch:function(search){return(!this.job||!search.job||this.job.getSearchId()==search.job.getSearchId())&&(this.isJobDispatched()==search.isJobDispatched()&&(this.toString()==search.toString()&&(!!Splunk.util.objectSimilarity(this._intentions,search._intentions)&&(!!Splunk.util.objectSimilarity(this._remoteServerList,search._remoteServerList)&&(!!search.getTimeRange().equalToRange(this.getTimeRange())&&(search._selectedEventCount==this._selectedEventCount&&(search._selectedEventAvailableCount==this._selectedEventAvailableCount&&search._postProcess==this._postProcess)))))))},abandonJob:function(){this.job=null,this._fullSearchWithIntentions&&0==this._intentions.length&&(this._baseSearch=this._fullSearchWithIntentions),this._selectedEventCount=-1,this._selectedEventAvailableCount=-1,this._statusBuckets=0,this._requiredFieldList=[]},isJobDispatched:function(){return!(!this.job||!this.job.getSearchId())},toString:function(){return this._fullSearchWithIntentions||this._baseSearch},getSearch:function(){return this.logger.warn("Splunk.Search.getSearch is deprecated. use Splunk.Search.toString"),this.toString()},getBaseSearch:function(){return this._baseSearch},setBaseSearch:function(search){this.isJobDispatched()&&this.logger.error("Assertion failed - setSearchStr should not be called once a Search is running. If your intention is to abandon the running job, you can call this.abandonJob() although think hard about whether you need to cancel the running one."),this._baseSearch!=search&&(this._savedSearchName=!1),this._baseSearch=search,this._fullSearchWithIntentions=null},getSavedSearchName:function(){return this._savedSearchName},setSavedSearchName:function(name){this._savedSearchName=name},getViewStateId:function(){return this._viewStateId},setViewStateId:function(id){this._viewStateId=id},getPostProcess:function(){return this._postProcess},setPostProcess:function(search){this._postProcess=search},getMaxCount:function(){return this._maxCount},setMaxCount:function(count){Splunk.util.isInt(count)||this.messenger.send("error","splunk.search.job",sprintf(_("specified maxCount (%count)s is not an integer"),{count:count})),this._maxCount=count},getMaxEvents:function(){return this._maxEvents},setMaxEvents:function(count){Splunk.util.isInt(count)||this.messenger.send("error","splunk.search.job",sprintf(_("specified maxEvents (%count)s is not an integer"),{count:count})),this._maxEvents=count},getDistributedServerList:function(){return this._remoteServerList},setDistributedServerList:function(serverList){this._remoteServerList=serverList},getMinimumStatusBuckets:function(){return this._statusBuckets},setMinimumStatusBuckets:function(statusBuckets){statusBuckets>this._statusBuckets&&(this._statusBuckets=statusBuckets)},getMaxTime:function(){return this._maxTime},setMaxTime:function(maxTime){this._maxTime=maxTime},getRequiredFieldList:function(){return this._requiredFieldList},setRequiredFields:function(requiredFieldList){if(requiredFieldList=$.extend([],requiredFieldList),-1==this._requiredFieldList.indexOf("*"))if(-1==requiredFieldList.indexOf("*")){for(var i=0,len=this._requiredFieldList.length;i<len;i++){var incomingIndex=requiredFieldList.indexOf(this._requiredFieldList[i]);-1!=incomingIndex&&requiredFieldList.splice(incomingIndex,1)}this._requiredFieldList=this._requiredFieldList.concat(requiredFieldList)}else this._requiredFieldList=["*"]},getUrl:function(asset,optionalArgs){var args=optionalArgs||{},sid=this.job.getSearchId();sid||(sid="NO_SID",this.logger.error("getUrl called on search job without an SID"));var base=Splunk.util.make_url("api/search/jobs",sid);if(!asset)return base;switch(asset=asset.toLowerCase()){case"results":case"control":return base+"/"+asset;case"summary":case"events":case"timeline":var range=this.getTimeRange();return range.isSubRangeOfJob()&&(args.earliest_time=range.getEarliestTimeTerms(),args.latest_time=range.getLatestTimeTerms(),args.output_time_format=Splunk.util.getConfigValue("SEARCH_RESULTS_TIME_FORMAT")),base+"/"+asset+"?"+Splunk.util.propToQueryString(args)}return this.logger.error("Requested unknown search job asset:",asset),!1},getTimeRange:function(){return this._range},clearTimeRange:function(){return this._range=new Splunk.TimeRange,this.setSavedSearchName(!1),this},setTimeRange:function(range){return this._range.equalToRange(range)||this.setSavedSearchName(!1),this._range=range,this},getEventCount:function(){return-1==this._selectedEventCount?this.job.getEventCount():this._selectedEventCount},getEventAvailableCount:function(){return-1==this._selectedEventAvailableCount?this.job.getEventAvailableCount():this._selectedEventAvailableCount},setSelectedEventCount:function(count){this._selectedEventCount=count},setSelectedEventAvailableCount:function(count){this._selectedEventAvailableCount=count},dispatchJob:function(onSuccess,onFailure,group){var range=this.getTimeRange();return range.isSubRangeOfJob()&&(range.setAsSubRangeOfJob(!1),this.isJobDispatched()&&this.abandonJob()),this.isJobDispatched()?(this.logger.error("Assertion Failed -- call to redispatch a search that already had a searchId="+this.job.getSearchId()),!1):(this.absorbIntentions(function(searchStr){this._startTransformedSearch(searchStr,onSuccess,onFailure,group)}.bind(this),onFailure),!0)},_startTransformedSearch:function(searchStr,onSuccess,onFailure,group){var autoCancelInterval=Splunk.util.getAutoCancelInterval();autoCancelInterval&&Splunk.Globals.Jobber&&autoCancelInterval<Splunk.Globals.Jobber.KEEP_ALIVE_INTERVAL/1e3&&this.logger.error("autoCancelInterval (",autoCancelInterval,") is set to less than the Jobber's KEEP_ALIVE_INTERVAL (",Splunk.Globals.Jobber.KEEP_ALIVE_INTERVAL/1e3,") which can result in jobs getting cancelled if they go a long time in between progress events.");var args={search:searchStr,status_buckets:this.getMinimumStatusBuckets(),namespace:Splunk.util.getCurrentApp(),ui_dispatch_app:Splunk.util.getCurrentApp(),ui_dispatch_view:Splunk.util.getCurrentDisplayView(),auto_cancel:autoCancelInterval,wait:0};this.getSavedSearchName()&&(args.label=this.getSavedSearchName()),this.getMaxTime()>0&&(args.max_time=this.getMaxTime()),this.getMaxCount()&&(args.max_count=this.getMaxCount()),this.getMaxEvents()&&(args.auto_finalize_ec=this.getMaxEvents());var requiredFieldList=this.getRequiredFieldList();requiredFieldList.length>0&&(args.required_field_list=requiredFieldList.join(",")),this._searchModeLevel&&(args.adhoc_search_level=this._searchModeLevel),this.getDistributedServerList().length>0&&(args.remote_server_list=this.getDistributedServerList().join(","));var range=this.getTimeRange();args.earliest_time=range.getEarliestTimeTerms(),args.latest_time=range.getLatestTimeTerms(),(range.getAbsoluteEarliestTime()||range.getAbsoluteLatestTime())&&(args.timeFormat=Splunk.util.getConfigValue("DISPATCH_TIME_FORMAT")),this.logger.info("_dispatchNewSearch - search="+searchStr+" earliest_time="+args.earliest_time+" latest_time="+args.latest_time);if(Splunk._testHarnessMode)return this.job.setSearchId("TEST_HARNESS_MODE_ID_"+2e4*Math.random()),void onSuccess(this);var statusMonitor=Splunk.Globals.PageStatus.register("Search - POST to dispatch new job.");$.post(Splunk.Globals.Jobber.JOB_MGMT_ENDPOINT,args,function(data){if(data.success&&data.data)this.job||(this.job=new Splunk.Job(this.toString())),this.job.setSearchId(data.data),this.job.setAsAutoCancellable(!0),onSuccess(this),this.job.getCreateTime()||this.job.setCreateTime((new Date).getTime()/1e3),$(document).trigger("jobDispatched",[this.job,group]),statusMonitor.loadComplete();else if(data.success)this.messenger.send("fatal","splunk.search.job",_("Could not get a search id for the search.")),this.logger.error("Received a successful response trying to dispatch a job but did not receive an sid:",data),onFailure&&onFailure(this);else{if(this.logger.error("Assertion Failed: Splunkd returned an unsuccessful response when trying to dispatch a search:",data),data.hasOwnProperty("messages"))for(var messages=data.messages,i=0;i<messages.length;i++){var msg=messages[i],className="FATAL"==msg.type?"splunk.services":"splunk.search.job";this.messenger.send(msg.type.toLowerCase(),className,msg.message)}else this.messenger.send("fatal","splunk.search.job",_("Splunkd returned an unsuccessful response when trying to dispatch a search. Try again or contact an admin."));onFailure&&onFailure(this)}if(data.messages&&data.messages.length>0)for(var k=0,j=data.messages.length;k<j;k+=1){var type=data.messages[k].type;this.logger["FATAL"==type?"error":type.toLowerCase()](data.messages[k].text)}}.bind(this),"json")},hasIntentions:function(){return this._intentions.length>0},addIntention:function(intentionDict){if(!intentionDict)throw"Assertion Failed - addIntention called for null intention";this._fullSearchWithIntentions=null,this._intentions.push(intentionDict),this.setSavedSearchName(!1)},setIntentions:function(intentionsList){this._intentions.length&&this.logger.error("May be an error state. Somebody is replacing intentions. If you are a developer and you dont think this is an error state anymore, change it"),this._intentions=intentionsList,this._fullSearchWithIntentions=null,this.setSavedSearchName(!1)},clearIntentions:function(){this.hasIntentions()&&this.setSavedSearchName(!1),this._intentions=[]},absorbIntentions:function(onSuccess,onFailure){if(!this._baseSearch)throw this._baseSearch+" is not a search";var search;if(this._intentions.length>0){var clearIntention=this.getIntentionReference("clear");clearIntention&&(this.logger.warn("Blowing away all existing intentions and previous search string due to 'clear'! Using arg value as replacement intention."),this._intentions=[clearIntention.arg],this.setBaseSearch("*")),search=Splunk.util.addLeadingSearchCommand(this._baseSearch),this.getPostProcess()&&this.getIntentionReference("drilldown")&&(search+=" | "+this.getPostProcess(),this.setPostProcess(!1));var plotIntention=this.getIntentionReference("plot");if(plotIntention&&(plotIntention.arg.defer="False",plotIntention.arg.hasOwnProperty("splitType")&&delete plotIntention.arg.splitType,plotIntention.arg.hasOwnProperty("mode")||this.popIntention("plot")),Splunk._testHarnessMode)onSuccess("search 'Search is in _testHarnessMode and all intentions parsing is disabled'");else{var statusMonitor=Splunk.Globals.PageStatus.register("Search - POST to intention parser");$.post(Splunk.util.make_url("/parser/parse"),{q:search,intentions:JSON.stringify(this._intentions),namespace:Splunk.util.getCurrentApp()},function(responseText){this.parserCallback(responseText,onSuccess,onFailure),statusMonitor.loadComplete()}.bind(this))}}else this._fullSearchWithIntentions?(search=Splunk.util.addLeadingSearchCommand(this._fullSearchWithIntentions),onSuccess(search)):(search=Splunk.util.addLeadingSearchCommand(this._baseSearch),onSuccess(search))},getIntentionIndex:function(intentionName,secondArgKey){for(var i=0,l=this._intentions.length;i<l;i++)if(this._intentions[i].name==intentionName){if(!secondArgKey)return i;var isMatchingKeyValueIntention=this._intentions[i].arg.hasOwnProperty(secondArgKey),isMatchingSearchTermIntention=this._intentions[i].arg==secondArgKey;if(isMatchingKeyValueIntention||isMatchingSearchTermIntention)return i}return-1},popIntention:function(intentionName,secondArgKey){var index=this.getIntentionIndex(intentionName,secondArgKey);return-1!=index&&this._intentions.splice(index,1)[0]},getIntentionReference:function(intentionName,secondArgKey){var index=this.getIntentionIndex(intentionName,secondArgKey);return-1!=index&&this._intentions[index]},parserCallback:function(responseJSON,onSuccess,onFailure){if(responseJSON.hasOwnProperty("search"))this._fullSearchWithIntentions=responseJSON.search,this.job=new Splunk.Job(this._fullSearchWithIntentions),this._intentions=[],onSuccess?onSuccess(this._fullSearchWithIntentions):this.logger.debug("No success handler for dispatching "+this._fullSearchWithIntentions);else if(this.logger.warn(_("parser response was valid JSON but contained no search.")),responseJSON.hasOwnProperty("messages"))onFailure?onFailure(this.toString()):this.logger.error("parserCallback died but no onFailure");else{var msg=_("parser response was valid JSON but contained neither search nor messages");this.messenger.send("error","splunk.search.job",msg)}responseJSON.hasOwnProperty("messages")&&this.messenger.send("error","splunk.search.job",responseJSON.messages.join("\n"))},sendDocumentToLocation:function(doc,loc){doc.location=loc},sendToView:function(viewName,additionalArgs,dispatchBeforeRedirect,openInPopup,options,appName){var args=additionalArgs||{};options=options||{},appName=appName||Splunk.util.getCurrentApp();var urlPath=[Splunk.util.make_url("app",appName,viewName)];dispatchBeforeRedirect&&this.isJobDispatched()&&this.logger.warn("sendToView was called on a dispatched search, but the 'dispatchBeforeRedirect' flag was passed. This flag will be ignored. This may be a sign of a deeper problem.");var windowFeatures=options.hasOwnProperty("windowFeatures")&&options.windowFeatures?options.windowFeatures:"resizable=yes,status=no,scrollbars=yes,toolbar=no";if(options.hasOwnProperty("autosize")&&1==options.autosize){var dimensions=Splunk.util.getWindowDimensions();windowFeatures=windowFeatures+",height="+Math.round(.9*dimensions.height,0)+",width="+Math.round(.9*dimensions.width,0)}var searchInstance=this,goToFinalURL=function(url){if(openInPopup)try{searchInstance.sendDocumentToLocation(this._popupWindow.document,url)}catch(e){this.logger.error(e),this.logger.error("error setting the popups document.location directly. Switching to plan B which is to do another call to window.open with the same window name.");try{window.open(url,"_blank",windowFeatures)}catch(e2){this.logger.error(e2),this.logger.error("popup opening has failed."),this.messenger.send("error","splunk.search",_("Splunk encountered an error when it tried to launch the report builder popup (or the popup was blocked by an uncommonly aggressive popup blocker)."))}}else searchInstance.sendDocumentToLocation(document,url)}.bind(this);if(openInPopup)try{this._popupWindow=window.open(urlPath,"_blank",windowFeatures)}catch(e){this.logger.error(e),this.logger.error("failed to open the initial window")}if(this.isJobDispatched())this.job.setAsAutoCancellable(!1),args.sid=this.job.getSearchId(),goToFinalURL(urlPath+"?"+Splunk.util.propToQueryString(args));else if(dispatchBeforeRedirect){var onSuccess=function(search){args.sid=search.job.getSearchId(),search.job.setAsAutoCancellable(!1),goToFinalURL(urlPath+"?"+Splunk.util.propToQueryString(args))}.bind(this),onParseFailure=function(){this.messenger.send("fatal","splunk.search",_("Encountered an unexpected error while parsing intentions."))}.bind(this);this.dispatchJob(onSuccess,onParseFailure,0,[])}else{var range=this.getTimeRange(),failHandler=function(e){this.messenger.send("fatal","splunk.search",_("Encountered an unexpected error while parsing intentions."))}.bind(this);this.absorbIntentions((function(searchStr){args.q=searchStr,range.getEarliestTimeTerms()&&(args.earliest=range.getEarliestTimeTerms()),range.getLatestTimeTerms()&&(args.latest=range.getLatestTimeTerms()),goToFinalURL(urlPath+"?"+Splunk.util.propToQueryString(args))}),failHandler)}if(openInPopup)try{this._popupWindow.focus()}catch(e){}},canWrite:function(){return Splunk.util.normalizeBoolean(this._acl.can_write)}}),Splunk.Search.resurrectFromSearchId=function(sid,q){q=q||"*";var search=new Splunk.Search(q);return search.job.setSearchId(sid),search},Splunk.Search.resurrect=function(paramsDict){var q=paramsDict.baseSearch||"*",search=new Splunk.Search(q);if(paramsDict.hasOwnProperty("intentions")&&search.setIntentions(paramsDict.intentions),paramsDict.hasOwnProperty("baseSearch")&&search.setBaseSearch(paramsDict.baseSearch),paramsDict.hasOwnProperty("acl")&&(search._acl=paramsDict.acl),paramsDict.hasOwnProperty("fullSearch")&&(search._fullSearchWithIntentions=paramsDict.fullSearch),paramsDict.hasOwnProperty("vsid")&&search.setViewStateId(paramsDict.vsid),paramsDict.hasOwnProperty("remote_server_list")&&search.setDistributedServerList(paramsDict.remote_server_list),paramsDict.hasOwnProperty("decompositionFailed")&&Splunk.util.normalizeBoolean(paramsDict.decompositionFailed)){if(search.hasIntentions())Splunk.Logger.getLogger("search.js").error("splunkWeb tells us the decomposition failed, but we received intentions somehow.");search.decompositionFailed=!0}search.job.setAsAutoCancellable(!0),paramsDict.hasOwnProperty("job")&&(jobDict=paramsDict.job,search.job.updateByTicketValues(jobDict),jobDict.hasOwnProperty("delegate")&&(search.job.delegate=jobDict.delegate,search.job.setAsAutoCancellable(!1))),paramsDict.hasOwnProperty("next_scheduled_time")&&(search.next_scheduled_time=paramsDict.next_scheduled_time);for(var timeRangeArgs=["earliest","latest","earliestTZOffset","latestTZOffset"],timeRangeValues=[],i=0;i<timeRangeArgs.length;i++)timeRangeValues[i]=paramsDict.hasOwnProperty(timeRangeArgs[i])?paramsDict[timeRangeArgs[i]]:null;search.setTimeRange(new Splunk.TimeRange(timeRangeValues[0],timeRangeValues[1],timeRangeValues[2],timeRangeValues[3])),paramsDict.hasOwnProperty("name")?search.setSavedSearchName(paramsDict.name):paramsDict.hasOwnProperty("s")?search.setSavedSearchName(paramsDict.s):paramsDict.hasOwnProperty("job")&&paramsDict.job.hasOwnProperty("label")&&paramsDict.job.label&&search.setSavedSearchName(paramsDict.job.label);for(var j=0,l=search._intentions.length;j<l;j++)if("plot"==search._intentions[j].name){var plotIntention=search._intentions[j];plotIntention.arg.hasOwnProperty("splitby")?plotIntention.arg.splitType="single":plotIntention.arg.hasOwnProperty("fields")&&plotIntention.arg.fields.length>1?plotIntention.arg.splitType="multiple":plotIntention.arg.splitType="none"}if(search.isJobDispatched()){var group=paramsDict.group||null;$(document).trigger("jobResurrected",[search.job,group])}return search}},"startupjs/src/splunk.jquery.check_messages":function(module,exports){$((function(){$(document).bind("ajaxComplete",(function(event,xhr,opts){void 0!==xhr&&4==xhr.readyState&&xhr.getResponseHeader("X-Splunk-Messages-Available")&&Splunk.Messenger.System.getInstance().getServerMessages()}))}))},"startupjs/src/splunk.jquery.csrf_protection":function(module,exports){$((function(){var FORM_KEY=Splunk.util.getFormKey();if(FORM_KEY){if(!jQuery||!jQuery.cookie)throw"Splunk's jQuery.ajax extension requires jQuery and the jQuery.cookie plugin.";$.ajaxPrefilter((function(options,originalOptions,jqXHR){options.type&&"GET"==options.type.toUpperCase()||jqXHR.setRequestHeader("X-Splunk-Form-Key",FORM_KEY)})),$(document).ready((function(){$(document).bind("ajaxError",(function(event,xhr,opts,err){var pathname=window.location.pathname;401!==xhr.status||-1!==pathname.indexOf("/account/logout")||(document.location=Splunk.util.make_url("account/login?session_expired=1&return_to="+encodeURIComponent(pathname+document.location.search)))}))}))}}))},"startupjs/src/splunk.jquery.ios-drag-patch":function(module,exports){!function($){if($.support.touch="object"==typeof Touch,$.support.touch){var proto=$.ui.mouse.prototype,_mouseInit=proto._mouseInit;$.extend(proto,{_mouseInit:function(){this.element.bind("touchstart."+this.widgetName,$.proxy(this,"_touchStart")),_mouseInit.apply(this,arguments)},_touchStart:function(event){if(1!=event.originalEvent.targetTouches.length)return!0;this.element.bind("touchmove."+this.widgetName,$.proxy(this,"_touchMove")).bind("touchend."+this.widgetName,$.proxy(this,"_touchEnd")),this._modifyEvent(event),$(document).trigger($.Event("mouseup")),this._mouseDown(event)},_touchMove:function(event){this._modifyEvent(event),this._mouseMove(event)},_touchEnd:function(event){this.element.unbind("touchmove."+this.widgetName).unbind("touchend."+this.widgetName),this._mouseUp(event)},_modifyEvent:function(event){event.which=1;var target=event.originalEvent.targetTouches[0];event.pageX=target.clientX,event.pageY=target.clientY}})}}(jQuery)},"startupjs/src/splunk.jquery.radio":function(module,exports){
/*!
 * JQuery plugin for rich radios
 *
 * usage: $('.splRadio-group').splRadioInit().splRadioSet('edit');
 */
!function($){$.fn.splRadioInit=function(){return this.find("input:checked").parents(".splRadio-control").addClass("s-active"),this.find("label, input").click((function(){var $el=$(this);$el.parent().siblings().removeClass("s-active"),$el.parent().addClass("s-active"),$for=$el.attr("for"),$input=$for?$("#"+$for):$el.find("input"),$input.attr("checked","checked"),$input.trigger("change")})),this.find("input").focus((function(){$(this).parent().addClass("s-focus")})),this.find("input").blur((function(){$(this).parent().removeClass("s-focus")})),this},$.fn.splRadioSet=function(value){return $inputs=this.find("input:radio"),$inputs.val([value]),$inputs.parents(".splRadio-control").siblings().removeClass("s-active"),this.find("input:checked").parents(".splRadio-control").addClass("s-active"),this}}(jQuery)},"startupjs/src/textarea_resize":function(module,exports){Splunk.TextareaResize=$.klass({MAX_HEIGHT_MULTIPLE:5,MAX_HEIGHT:null,LINE_HEIGHT:null,initialize:function(textarea,options){this.logger=Splunk.Logger.getLogger("textarea_resize.js"),textarea?(this.input=$(textarea),this.inputContent=null,this.shadow=null,this._options={max_lines:this.MAX_HEIGHT_MULTIPLE,pageType:null},options&&$.extend(this._options,options),this.LINE_HEIGHT=parseInt(this.input.css("lineHeight"),10)||parseInt(this.input.css("fontSize"),10)+1||20,this.MAX_HEIGHT=this._options.max_lines*this.LINE_HEIGHT,this._createShadow(),this._setupEventHandlers(),this._resizeSearchBar()):this.logger.error("Splunk.TextareaResize: No textarea to resize specified")},_setupEventHandlers:function(){this.input.focus(this._startObserving.bind(this)),this.input.blur(this._stopObserving.bind(this)),this.input.one("keyup",this._onKeyUp.bind(this)),$(window).resize(this._onResize.bind(this))},_createShadow:function(){if(!this.shadow){var styleAttrs=new Array("paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","fontWeight","wordWrap","whiteSpace");this.shadow=$('<div class="shadowTextarea"></div>').css({position:"absolute",left:"-9999px",top:"-9999px",marginRight:"-3000px"}).appendTo(this.input.parent());var context=this;$.each(styleAttrs,(function(){attr=this.toString(),value=context.input.css(attr),value="pre"==value?"normal":value,context.shadow.css(attr,value)})),this._adjustShadowWidth()}},_adjustShadowWidth:function(){this.shadow&&(this.shadow.css("width",this.input.width()),"manager-page"==this._options.pageType&&this.shadow.css("height",this.input.height()))},_resizeSearchBar:function(){if(this.input.val()!=this.inputContent){this.inputContent=this.input.val();var textareaContent=$("<div/>").text(this.inputContent).html().replace(/\n/g,"<br />")+"<span class=''></span>";this.shadow.html(textareaContent)}if(this._adjustShadowWidth(),Math.abs(this.shadow.height()-this.input.height())>3&&"manager-page"!=this._options.pageType){var newHeight=this.shadow.height();newHeight>=this.MAX_HEIGHT?this._setHeight(this.MAX_HEIGHT,"auto"):newHeight<=this.LINE_HEIGHT?this._setHeight(this.LINE_HEIGHT,"hidden"):this._setHeight(newHeight,"hidden")}},_setHeight:function(height,overflow){var curratedHeight=Math.floor(parseInt(height,10));this.input.height()!=curratedHeight&&this.input.css({height:curratedHeight+"px",overflow:overflow})},_startObserving:function(){this.timer=setInterval(function(){this._resizeSearchBar()}.bind(this),50)},_stopObserving:function(){clearInterval(this.timer)},_onResize:function(){this._adjustShadowWidth(),this._resizeSearchBar()},_onKeyUp:function(){this._startObserving()},_getcaretPosition:function(){var caretPos=0,inputControl=this.input[0];if(document.selection){inputControl.focus();var sel=document.selection.createRange();sel.moveStart("character",-inputControl.value.length),caretPos=sel.text.length}else(inputControl.selectionStart||"0"==inputControl.selectionStart)&&(caretPos=inputControl.selectionStart);return caretPos},caretIsLast:function(){return this._getcaretPosition()>=this.input.val().length},isMultiline:function(){return Math.round(this.input.height()/this.LINE_HEIGHT)>1}})},"startupjs/src/timespinner":function(module,exports){Splunk.TimeSpinner=$.klass({initialize:function(el,options){this.logger=Splunk.Logger.getLogger("timespinner.js"),el?(this.wrapperEl=$(el),this._options={hours:"00",minutes:"00",seconds:"00",milliseconds:"000"},options&&$.extend(this._options,options),this._createDom(),this._initializeSpinners()):this.logger.error("Splunk.TimeSpinner: No container element specified")},_createDom:function(){var tsHtml=$("<div class='TimeSpinner'></div>"),hours=$("<input class='hours tsInput' />").attr("value",this._options.hours),minutes=$("<input class='minutes tsInput' />").attr("value",this._options.minutes),seconds=$("<input class='seconds tsInput' />").attr("value",this._options.seconds),milliseconds=$("<input class='milliseconds tsInput' />").attr("value",this._options.milliseconds);tsHtml.append(hours).append("<div class='colon'>:</div>").append(minutes).append("<div class='colon'>:</div>").append(seconds).append("<div class='colon'>.</div>").append(milliseconds),this.wrapperEl.append(tsHtml)},_initializeSpinners:function(){var context=this;$("input",this.wrapperEl).each((function(){var padding=$(this).val().length;$(this).bind("keyup",(function(e){context._keyup(e,this,padding)})).bind("keydown",(function(e){return context._keydown(e,this,padding)})).bind("click",(function(){$(this).focus(),$(this).select()})).bind("focus",(function(){var reference=this;setTimeout((function(){$(reference).select()}),0)})).bind("blur",(function(){context._formatEntry(this,padding)}))}))},_getCaretPosition:function(ctrl){var CaretPos=0;if(document.selection){ctrl.focus();var Sel=document.selection.createRange(),SelLength=document.selection.createRange().text.length;Sel.moveStart("character",-ctrl.value.length),CaretPos=Sel.text.length-SelLength}else(ctrl.selectionStart||"0"==ctrl.selectionStart)&&(CaretPos=ctrl.selectionStart);return CaretPos},_setCaretPosition:function(elem,caretPos){if(null!=(elem=$(elem)[0]))if(elem.createTextRange){var range=elem.createTextRange();range.move("character",caretPos),range.select()}else elem.selectionStart?(elem.focus(),elem.setSelectionRange(caretPos,caretPos)):elem.focus()},_keydown:function(e,el,padding){return!((e.keyCode>=96&&e.keyCode<=105||e.keyCode>=48&&e.keyCode<=57)&&$(el).val().length>=padding&&!this._isTextHighlighted($(el)[0]))},_keyup:function(e,el,padding){if(9!=e.keyCode&&16!=e.keyCode)if(e.keyCode==$.ui.keyCode.RIGHT||e.keyCode==$.ui.keyCode.LEFT){var len=$(el).val().toString().length,carPos=this._getCaretPosition(el);e.keyCode!=$.ui.keyCode.RIGHT||carPos!=len||$(el).is(".milliseconds")?e.keyCode!=$.ui.keyCode.LEFT||0!=carPos||$(el).is(".hours")||($(el).blur(),$("input",this.wrapperEl).eq($("input",this.wrapperEl).index(el)-1).focus()):($(el).blur(),$("input",this.wrapperEl).eq($("input",this.wrapperEl).index(el)+1).focus())}else e.keyCode>=96&&e.keyCode<=105||e.keyCode>=48&&e.keyCode<=57?$(el).val().length>padding&&$(el).val($(el).val().substr(0,2)):$(el).val($(el).val().replace(/[^0-9]/g,""))},_formatEntry:function(el,padding){$(el).val($(el).val().replace(/[^0-9]/g,""));for(var result=$(el).val();padding&&result.length<padding;)result="0"+result;$(el).val(result)},disable:function(){this.wrapperEl.addClass("tsDisabled").find("input").attr("disabled","disabled")},enable:function(){this.wrapperEl.removeClass("tsDisabled").find("input").removeAttr("disabled")},_isTextHighlighted:function(ctrl){if(document.selection){ctrl.focus();document.selection.createRange();if(document.selection.createRange().text.length>0)return!0}else if(ctrl.selectionStart!=ctrl.selectionEnd)return!0;return!1}})},"startupjs/src/viewmaster":function(module,exports){Splunk.Viewmaster=$.klass({dashPopupInstance:null,panelPopupInstance:null,_dashPageIsStale:!1,logger:Splunk.Logger.getLogger("viewmaster.js"),_getFormContainer:function(slot){slot=slot||1;var cont=$("#viewmasterFormContainer"+slot);return cont.length||(cont=$('<div id="viewmasterFormContainer'+slot+'"/>').hide().appendTo("body")),cont},_buildUri:function(is_api,view_id,panel_type,panel_sequence){var output=["viewmaster",Splunk.util.getCurrentApp()];return null!=view_id&&output.push(view_id),null!=panel_type&&output.push(panel_type),null!=panel_sequence&&output.push(panel_sequence),is_api&&output.splice(0,1,"api"),Splunk.util.make_url(output.join("/"))},openDashCreateForm:function(){this._getFormContainer().load(this._buildUri(),this.openDashCreateFormCallback.bind(this))},openDashCreateFormCallback:function(){this.dashPopupInstance=new Splunk.Popup(this._getFormContainer(),{title:_("Create new dashboard"),buttons:[{label:_("Cancel"),type:"secondary",callback:function(){return!0}},{label:_("Create"),type:"primary",callback:this.handleDashCreate.bind(this)}]}),$("form",this.dashPopupInstance.getPopup()).bind("submit",this.handleDashCreate.bind(this))},handleDashCreate:function(evt){var formElement=$('form[name="vmCreateDashboard"]',this.dashPopupInstance.getPopup()),$vmName=$("#vmName",this.dashPopupInstance.getPopup()),$err=$("#vm-form-message-text",this.dashPopupInstance.getPopup());return!$vmName.val()||/[^\w]/.test($vmName.val())?($err.parent().show(),$err.html(_("Invalid ID")),$vmName.focus()):formElement.ajaxSubmit({success:this.handleDashCreateCallback.bind(this),dataType:"json"}),!1},handleDashCreateCallback:function(jsonObject){if(jsonObject.success){var newViewId=jsonObject.data.view_id;newViewId?(window.location.href=Splunk.util.make_url("app",Splunk.util.getCurrentApp(),newViewId),this.dashPopupInstance.destroyPopup()):alert(_("Unexpected error while creating a dashboard"))}else for(var i=0,L=jsonObject.messages.length;i<L;i++)alert(jsonObject.messages[i].message)},dashEditFormDom:null,panelEditFormDom:null,activeViewId:null,openPanelFormHelper:function(view_id,mode){this.mode=mode,this._getFormContainer().load(this._buildUri(!1,view_id)+(mode?"?mode="+mode:""),this.openDashEditFormCallback.bind(this)),this.activeViewId=view_id},openDashEditForm:function(view_id){this._getFormContainer().load(this._buildUri(!1,view_id),this.openDashEditFormCallback.bind(this)),this.activeViewId=view_id},openDashEditFormCallback:function(){var title,buttons;this.dashPopupInstance&&this.dashPopupInstance.isActive?this.dashPopupInstance.setPopupContents(this._getFormContainer()):("add"==this.mode?(title=_("New panel"),buttons=[{label:_("Cancel"),type:"secondary",callback:function(){return!0}},{label:_("Save"),type:"primary",callback:function(){this.handleAddPanel()}.bind(this)}]):(title=sprintf(_("Edit %s"),this.activeViewId),buttons=[{label:_("Close"),type:"primary",callback:function(){return!this._dashPageIsStale||(window.location.href=Splunk.util.make_url("app",Splunk.util.getCurrentApp(),this.activeViewId),!1)}.bind(this)}]),this.dashPopupInstance=new Splunk.Popup(this._getFormContainer(),{title:title,buttons:buttons}),this.dashPopupInstance.getPopup().click(function(evt){var target=$(evt.target);if(!target.is("a")||!target.attr("panel_action"))return!0;switch(target.attr("panel_action")){case"edit":this.handleEditPanelClick(target.attr("panel_sequence"));break;case"delete":this.handleDeletePanelClick(target.attr("panel_sequence"))}return!1}.bind(this)),this._dashPageIsStale=!1);this.dashEditFormDom=$('form[name="vmEditDashboard"]',this.dashPopupInstance.getPopup()),this.dashAddFormDom=$('form[name="vmAddPanel"]',this.dashPopupInstance.getPopup());var popupDom=this.dashPopupInstance.getPopup(),searchMode=$("#vmpSearchCommandSaved").length?"saved":"string";this.setActiveSearchModeOptions(searchMode,this.dashAddFormDom),this.dashAddFormDom.click(function(evt){var target=$(evt.target);target.is("input")&&"searchMode"==target.attr("name")&&this.setActiveSearchModeOptions(target.attr("value"),this.dashAddFormDom)}.bind(this)),$("ul.vmEditReorderCanvasRow",popupDom).sortable({forcePlaceholderSize:!0,placeholder:"vmPanelDropPlaceholder",connectWith:$("ul.vmEditReorderCanvasRow",popupDom),cursor:"move"}).disableSelection(),$("ul.vmEditReorderCanvasRow",popupDom).bind("sortstop",this.handleEditDashSave.bind(this)),$("#vmAddPanelSubmit",popupDom).click(this.handleAddPanel.bind(this))},handleAddPanel:function(){return $('form[name="vmAddPanel"]',this.dashPopupInstance.getPopup()).ajaxSubmit({success:this.handleAddPanelCallback.bind(this),dataType:"json"}),!1},handleAddPanelCallback:function(jsonObject){if(jsonObject.success){if("add"==this.mode)return this.mode=null,this.dashPopupInstance.destroyPopup(),void $(document).trigger("RefreshPage");this.openDashEditForm(this.dashEditFormDom.attr("view_id")),this._dashPageIsStale=!0}else for(var i=0,L=jsonObject.messages.length;i<L;i++)alert(jsonObject.messages[i].message)},handleDeletePanelClick:function(panel_sequence){confirm(_("Are you sure you want to delete this panel?"))&&$.post(this._buildUri(!1,this.dashEditFormDom.attr("view_id"),"panel",panel_sequence),{action:"delete"},this.handleDeletePanelClickCallback.bind(this),"json")},handleDeletePanelClickCallback:function(jsonObject){jsonObject.success?(this.openDashEditForm(this.dashEditFormDom.attr("view_id")),this._dashPageIsStale=!0):alert("delete failed")},handleEditDashSave:function(evt,ui){$.post(this._buildUri(!1,this.dashEditFormDom.attr("view_id")),{action:"edit",view_json:JSON.stringify(this.dashFormToJson())},this.handleEditDashSaveCallback.bind(this),"json"),this._lastUpdateTime=new Date},handleEditDashSaveCallback:function(jsonObject){if(jsonObject.success){if(this.logger.info("Updated dashboard"),"move"===this.mode)return this._dashPageIsStale=!0,void this.updatePanelSequnece();this.openDashEditForm(this.dashEditFormDom.attr("view_id")),this._dashPageIsStale=!0}else for(var i=0,L=jsonObject.messages.length;i<L;i++)alert("dashboard failed in updating: "+jsonObject.messages[i].message)},dashFormToJson:function(){var rowSet,output={new_panel_sequence:[]};return $(".vmEditReorderCanvas ul",this.dashEditFormDom).each((function(){rowSet=[],$("li",this).each((function(){var s=parseInt($(this).attr("panel_sequence"),10);isNaN(s)||rowSet.push(s)})),output.new_panel_sequence.push(rowSet)})),output},updatePanelSequnece:function(){$(".vmEditReorderCanvas ul li",this.dashEditFormDom).each((function(index,value){$(this).attr("panel_sequence",index)}))},handleEditPanelClick:function(panel_sequence){this._getFormContainer("2").load(this._buildUri(!1,this.dashEditFormDom.attr("view_id"),"panel",panel_sequence),this.handleEditPanelClickCallback.bind(this))},handleEditPanelClickCallback:function(jsonObject){this.panelPopupInstance=new Splunk.Popup(this._getFormContainer("2"),{title:_("Edit panel"),buttons:[{label:_("Cancel"),type:"secondary",callback:function(){return!0}},{label:_("Save"),type:"primary",callback:this.handleEditPanelSave.bind(this)}]}),$("form",this.panelPopupInstance.getPopup()).bind("submit",this.handleEditPanelSave.bind(this));var popupDom=this.panelPopupInstance.getPopup();this.panelEditFormDom=$("form",popupDom),popupDom.css("z-index",parseInt(popupDom.css("z-index")+1,10)),this.setActiveSearchModeOptions(this.panelEditFormDom.attr("current_search_mode")),this.setActiveDrilldownOptions(),this.panelEditFormDom.click(function(evt){var target=$(evt.target);target.is("input")&&"searchMode"==target.attr("name")&&this.setActiveSearchModeOptions(target.attr("value"))}.bind(this)),$("select#vmpPanelClass").change(function(evt){var target=$(evt.target);this.logger.debug(target.attr("name")),this.setActiveDrilldownOptions(target.val())}.bind(this))},setActiveDrilldownOptions:function(panelStyle){panelStyle||(panelStyle=$("select#vmpPanelClass").val());var tableOptions=$("div.tableDrilldown",this.panelEditFormDom),chartOptions=$("div.chartDrilldown",this.panelEditFormDom),entireFieldSet=$("fieldset.drilldownOptions",this.panelEditFormDom);switch(panelStyle){case"table":tableOptions.show(),chartOptions.hide(),entireFieldSet.show();break;case"chart":chartOptions.show(),tableOptions.hide(),entireFieldSet.show();break;default:entireFieldSet.hide()}},setActiveSearchModeOptions:function(searchMode,targetDom){var panelForm=targetDom||this.panelEditFormDom;switch(searchMode){case"string":$("#vmpSearchModeString",panelForm).prop("checked",!0),$(".searchModeString",panelForm).show(),$(".searchModeSaved",panelForm).hide(),$(".searchModeString .control",panelForm).prop("disabled",null),$(".searchModeSaved .control",panelForm).prop("disabled","disabled");break;case"saved":$("#vmpSearchModeSaved",panelForm).prop("checked",!0),$(".searchModeString",panelForm).hide(),$(".searchModeSaved",panelForm).show(),$(".searchModeString .control",panelForm).prop("disabled","disabled"),$(".searchModeSaved .control",panelForm).prop("disabled",null)}},handleEditPanelSave:function(){for(var form=$("select#vmpPanelClass")[0].form,panelStyle=$("select#vmpPanelClass").val(),drilldownEnabledStyles=["chart","table"],hiddenInput=$(form["option.drilldown"]),i=0;i<drilldownEnabledStyles.length;i++){var radioElt=$("input[name="+drilldownEnabledStyles[i]+"_option.drilldown]:checked");panelStyle==drilldownEnabledStyles[i]&&hiddenInput.val(radioElt.val()),radioElt.remove()}return-1==drilldownEnabledStyles.indexOf(panelStyle)&&hiddenInput.remove(),this.panelEditFormDom.ajaxSubmit({success:this.handleEditPanelSaveCallback.bind(this),dataType:"json",url:this.panelEditFormDom.attr("action")+"/"+this.panelEditFormDom.attr("panel_sequence")}),!1},handleEditPanelSaveCallback:function(jsonObject){if(1==jsonObject.success)this._dashPageIsStale=!0,this.panelPopupInstance.destroyPopup(),this.openDashEditForm(this.panelEditFormDom.attr("view_id"));else for(var i=0,L=jsonObject.messages.length;i<L;i++)alert("saved panel FAILED: "+jsonObject.messages[i].message)}})},time_range:function(module,exports){Splunk.TimeRange=$.klass({_absoluteArgs:{},_relativeArgs:{},_fallbackAbsoluteTimeFormat:"%s.%Q",_isSubRangeOfJob:!1,_unitMap:{},YEAR:0,MONTH:1,DAY:2,HOUR:3,MINUTE:4,SECOND:5,MILLISECOND:6,CUSTOM_RELATIVE_RANGE_HEADER:_("over custom relative time range"),GENERIC_REAL_TIME_RANGE_HEADER:_("%s (real-time)"),CUSTOM_REAL_TIME_RANGE_HEADER:_("in custom real-time range"),DATE_METHODS:[{name:"year",getter:"getFullYear",setter:"setFullYear",minValue:"1974"},{name:"month",getter:"getMonth",setter:"setMonth",minValue:"0"},{name:"day",getter:"getDate",setter:"setDate",minValue:"1"},{name:"hour",getter:"getHours",setter:"setHours",minValue:"0"},{name:"minute",getter:"getMinutes",setter:"setMinutes",minValue:"0"},{name:"second",getter:"getSeconds",setter:"setSeconds",minValue:"0"},{name:"millisecond",getter:"getMilliseconds",setter:"setMilliseconds",minValue:"0"}],initialize:function(earliestArg,latestArg){this._constructorArgs=[earliestArg,latestArg];var u=this._unitMap;if(u.s=u.sec=u.secs=u.second=u.seconds=_("second"),u.m=u.min=u.mins=u.minute=u.minutes=_("minute"),u.h=u.hr=u.hrs=u.hour=u.hours=_("hour"),u.d=u.day=u.days=_("day"),u.w=u.week=_("week"),u.mon=u.month=u.months=_("month"),u.y=u.yr=u.yrs=u.year=u.years=_("year"),this._absoluteArgs={earliest:!1,latest:!1},this._relativeArgs={earliest:!1,latest:!1},"now"==earliestArg&&(earliestArg="0s"),"now"==latestArg&&(latestArg="0s"),this.logger=Splunk.Logger.getLogger("time_range.js"),this._isSubRangeOfJob=!1,this._absoluteArgs.earliest=this.parseAbsoluteArgs(earliestArg),this._absoluteArgs.latest=this.parseAbsoluteArgs(latestArg),this.isAbsolute()){var tz=Splunk.Globals.timeZone;this.serverOffsetAtEarliest=tz.getOffset(this._absoluteArgs.earliest.valueOf()/1e3)/60,this.serverOffsetAtLatest=tz.getOffset(this._absoluteArgs.latest.valueOf()/1e3)/60}this._absoluteArgs.earliest||(this._relativeArgs.earliest=this.parseRelativeArgs(earliestArg)),this._absoluteArgs.latest||(this._relativeArgs.latest=this.parseRelativeArgs(latestArg))},containsTime:function(dateObj){var earliestTime=this.getAbsoluteEarliestTime(),latestTime=this.getAbsoluteLatestTime();return!earliestTime&&!latestTime||earliestTime<=dateObj&&latestTime>dateObj},containsRange:function(range){return!!this.isAllTime()||!range.isAllTime()&&(!!this.equalToRange(range)||(!(!this.relativeTerm||range.relativeTerm)||(this.getEarliestTimeTerms()==range.getEarliestTimeTerms()&&this.getLatestTimeTerms()==range.getLatestTimeTerms()||!(this.getAbsoluteEarliestTime()>range.getAbsoluteEarliestTime())&&!(this.getAbsoluteLatestTime()<range.getAbsoluteLatestTime()))))},normalizeEquivalentNowValues:function(relativeArg){return"+0s"==relativeArg?"now":relativeArg},equalToRange:function(range){if(this===range)return!0;if(this.normalizeEquivalentNowValues(this.getRelativeEarliestTime())!=this.normalizeEquivalentNowValues(range.getRelativeEarliestTime()))return!1;if(this.normalizeEquivalentNowValues(this.getRelativeLatestTime())!=this.normalizeEquivalentNowValues(range.getRelativeLatestTime()))return!1;if(typeof this.getAbsoluteEarliestTime()!=typeof range.getAbsoluteEarliestTime())return!1;if(typeof this.getAbsoluteLatestTime()!=typeof range.getAbsoluteLatestTime())return!1;var rangeEarliestTime=range.getAbsoluteEarliestTime();if(this.getAbsoluteEarliestTime()&&rangeEarliestTime&&this.getAbsoluteEarliestTime().getTime()!=rangeEarliestTime.getTime())return!1;var rangeLatestTime=range.getAbsoluteLatestTime();return!this.getAbsoluteLatestTime()||!rangeLatestTime||this.getAbsoluteLatestTime().getTime()==rangeLatestTime.getTime()},getDuration:function(){return this.relativeTerm?-1:this.getAbsoluteLatestTime()&&this.getAbsoluteEarliestTime()?this.getAbsoluteLatestTime()-this.getAbsoluteEarliestTime():-1},isAllTime:function(){return!this.isAbsolute()&&!this.isRelative()},isAbsolute:function(){return!!(this.getAbsoluteEarliestTime()&&0!=this.getAbsoluteEarliestTime().valueOf()||this.getAbsoluteLatestTime())},isRelative:function(){return!(!this._relativeArgs.earliest&&!this._relativeArgs.latest)},isRealTime:function(){return!(!this._relativeArgs.earliest||!this._relativeArgs.earliest.isRealTime)||!(!this._relativeArgs.latest||!this._relativeArgs.latest.isRealTime)},isSubRangeOfJob:function(){return this._isSubRangeOfJob},setAsSubRangeOfJob:function(isSubRange){this._isSubRangeOfJob=isSubRange},getEarliestTimeTerms:function(){var timeTerms=[];if(this.getAbsoluteEarliestTime()){var epochTime=this.getAbsoluteEarliestTime().getTime()/1e3;timeTerms.push(epochTime)}else this._relativeArgs.earliest&&timeTerms.push(this.getRelativeEarliestTime());return timeTerms.join(" ")},getLatestTimeTerms:function(){var timeTerms=[];if(this.getAbsoluteLatestTime()){var epochTime=this.getAbsoluteLatestTime().getTime()/1e3;timeTerms.push(epochTime)}else this._relativeArgs.latest&&timeTerms.push(this.getRelativeLatestTime());return timeTerms.join(" ")},zoomIn:function(){var duration=this.getDuration();return duration||this.logger.error("Assertion failed - TimeRange.zoomOut not implemented for relative time terms range="+this.toConciseString()),this._absoluteArgs.earliest.setTime(this.getAbsoluteEarliestTime().getTime()+Math.round(duration/2)),new Splunk.TimeRange(this._absoluteArgs.earliest,this._absoluteArgs.latest,this.serverOffsetAtEarliest,this.serverOffsetAtLatest)},zoomOut:function(){this.getDuration()||this.logger.error("Assertion failed - TimeRange.zoomOut not implemented for relative time terms range="+this.toConciseString());var DateTime=splunk.time.DateTime,Duration=splunk.time.Duration,SplunkTimeZone=splunk.time.SplunkTimeZone,TimeUtils=splunk.time.TimeUtils,timeZone=new SplunkTimeZone(Splunk.util.getConfigValue("SERVER_ZONEINFO")),earliest=new DateTime(this._absoluteArgs.earliest.getTime()/1e3).toTimeZone(timeZone),latest=new DateTime(this._absoluteArgs.latest.getTime()/1e3).toTimeZone(timeZone),duration=TimeUtils.subtractDates(latest,earliest),units=new Duration;duration.years>0||duration.months>0?units.years=1:duration.days>0?units.months=1:duration.hours>0?units.days=1:duration.minutes>0?units.hours=1:duration.seconds>=1?units.minutes=1:duration.seconds>0&&(units.seconds=1),duration=duration.years<1?units.clone():new Duration(10*Math.ceil(2*duration.years/10)),latest=TimeUtils.ceilDate(latest,duration);var isLatest=!1,now=TimeUtils.ceilDate((new DateTime).toTimeZone(timeZone),units);latest.getTime()>=now.getTime()&&(latest=now,isLatest=!0);var earliest2=TimeUtils.subtractDateDuration(latest,duration),isEarliest=!1;return(earliest=earliest2.getTime()<=earliest.getTime()?earliest2:TimeUtils.floorDate(earliest,units)).getTime()<=0&&(earliest.setTime(1),isEarliest=!0),isEarliest&&isLatest||TimeUtils.subtractDates(latest,earliest).years>20?(this._absoluteArgs.earliest=!1,this._absoluteArgs.latest=!1,new Splunk.TimeRange(0)):(this._absoluteArgs.earliest.setTime(1e3*earliest.getTime()),this._absoluteArgs.latest.setTime(1e3*latest.getTime()),new Splunk.TimeRange(earliest.getTime(),latest.getTime()))},genericGetForRelativeArg:function(which){if("earliest"==which&&this._constructorArgs[0])return this._constructorArgs[0];if(this._constructorArgs[1])return this._constructorArgs[1];if(!this._relativeArgs.hasOwnProperty(which))return!1;var dict=this._relativeArgs[which],str=[];return dict.isRealTime&&str.push("rt"),dict.hasOwnProperty("count")&&(dict.count>=0&&str.push("+"),str.push(dict.count)),dict.hasOwnProperty("units")&&str.push(dict.units),dict.hasOwnProperty("snapUnits")&&str.push("@"+dict.snapUnits),str.join("")},getRelativeEarliestTime:function(){return this.genericGetForRelativeArg("earliest")},getRelativeLatestTime:function(){return this.genericGetForRelativeArg("latest")},getAbsoluteEarliestTime:function(){return this._absoluteArgs.earliest},getAbsoluteLatestTime:function(){return this._absoluteArgs.latest},parseRelativeArgs:function(arg){if(!arg)return!1;-1!=arg.indexOf(" ")&&this.logger.error("Assertion failed - Currently we can only deal with a single relative term at a time. ");var relativeDict={};0==arg.indexOf("rt")&&(relativeDict.isRealTime=!0,arg=arg.substring(2));var splitArgs=arg.split("@");return arg=splitArgs[0]||!1,splitArgs.length>1&&(relativeDict.snapUnits=splitArgs[1]),arg&&Splunk.util.isInt(parseInt(arg,10))&&(relativeDict.count=parseInt(arg,10),relativeDict.units=Splunk.util.trim(arg.replace(relativeDict.count,""),"+")||"s"),relativeDict},parseAbsoluteArgs:function(arg,serverOffsetThen){if(!arg&&!Splunk.util.isInt(arg))return!1;if(arg&&arg.charAt&&("+"==arg.charAt(0)||"-"==arg.charAt(0)||"rt"==arg.substring(0,2)||"now"==arg))return!1;if(arg instanceof Date)return arg;if(arg&&(""+arg).match(Splunk.TimeRange.UTCRegex)){var d=new Date;return d.setTime(1e3*arg),d}return Splunk.util.parseDate(arg,this.getTimeFormat())},toString:function(){var str=[];return this.getAbsoluteEarliestTime()&&str.push(this.getAbsoluteEarliestTime()),this.getAbsoluteLatestTime()&&str.push(this.getAbsoluteLatestTime()),this.getRelativeEarliestTime()&&str.push(this.getRelativeEarliestTime()),this.getRelativeLatestTime()&&str.push(this.getRelativeLatestTime()),str.join(" ")},toConciseString:function(){if(this.isAbsolute()){var earliestTime=null,latestTime=null;if(this.getAbsoluteEarliestTime()&&((earliestTime=new Date).setTime(this._absoluteArgs.earliest.valueOf()),Splunk.TimeRange.CORRECT_OFFSET_ON_DISPLAY)){var earliestDelta=Splunk.util.getTimezoneOffsetDelta(this.serverOffsetAtEarliest,earliestTime);earliestTime.setTime(earliestTime.valueOf()-earliestDelta)}if(this.getAbsoluteLatestTime()&&((latestTime=new Date).setTime(this._absoluteArgs.latest.valueOf()),Splunk.TimeRange.CORRECT_OFFSET_ON_DISPLAY)){var latestDelta=Splunk.util.getTimezoneOffsetDelta(this.serverOffsetAtLatest,latestTime);latestTime.setTime(latestTime.valueOf()-latestDelta)}return format_datetime_range(Splunk.util.getConfigValue("LOCALE","NONE"),earliestTime,latestTime)}if(this.isRealTime()){var relativeRangeHeader=this.formatRelativeRange();return relativeRangeHeader==this.CUSTOM_RELATIVE_RANGE_HEADER?this.CUSTOM_REAL_TIME_RANGE_HEADER:sprintf(this.GENERIC_REAL_TIME_RANGE_HEADER,relativeRangeHeader)}return this.isRelative()&&!this.isRealTime()?this.formatRelativeRange():_("over all time")},formatRelativeRange:function(){var relEarliest=this._relativeArgs.earliest,relLatest=this._relativeArgs.latest;if(relEarliest.hasOwnProperty("snapUnits")){if(relLatest.hasOwnProperty("snapUnits")!=relLatest.hasOwnProperty("snapUnits"))throw"Assertion failed - we dont support cases where one side has snapUnits and the other does not.";if("day"==this._unitMap[relEarliest.snapUnits]&&"day"==this._unitMap[relLatest.snapUnits]){if(!relEarliest.hasOwnProperty("count")&&relLatest.hasOwnProperty("count")&&1==relLatest.count)return _("today");if(!relLatest.hasOwnProperty("count")&&relEarliest.hasOwnProperty("count")&&-1==relEarliest.count)return _("yesterday")}if(!relEarliest.hasOwnProperty("count")&&relLatest.hasOwnProperty("count")&&1==relLatest.count)return sprintf(_("during this %(singleUnitOfTime)s"),{singleUnitOfTime:this._unitMap[relEarliest.snapUnits]});if(!relLatest.hasOwnProperty("count")&&relEarliest.hasOwnProperty("count")&&-1==relEarliest.count&&relEarliest.hasOwnProperty("snapUnits")&&relEarliest.snapUnits==relEarliest.units&&relLatest.hasOwnProperty("snapUnits")&&relLatest.snapUnits==relEarliest.units)return sprintf(_("during last %(singleUnitOfTime)s"),{singleUnitOfTime:this._unitMap[relEarliest.snapUnits]})}if(relEarliest.hasOwnProperty("units")&&this._unitMap.hasOwnProperty(relEarliest.units)&&!relLatest.hasOwnProperty("snapUnits")&&(!relLatest.hasOwnProperty("units")&&!relLatest.hasOwnProperty("count")||0==relLatest.count))if(relEarliest.hasOwnProperty("count")&&-1==relEarliest.count){if(!relEarliest.hasOwnProperty("snapUnits")||relEarliest.snapUnits==relEarliest.units)return sprintf(_("in the last %(unitOfTime)s"),{unitOfTime:this._unitMap[relEarliest.units]})}else if(relEarliest.hasOwnProperty("units")&&relEarliest.hasOwnProperty("count")&&(!relEarliest.hasOwnProperty("snapUnits")||relEarliest.snapUnits==relEarliest.units))return sprintf(_("in the last %(count)s %(unitOfTime)ss"),{count:-relEarliest.count,unitOfTime:this._unitMap[relEarliest.units]});return this.CUSTOM_RELATIVE_RANGE_HEADER},clone:function(){var range=new Splunk.TimeRange(this._constructorArgs[0],this._constructorArgs[1],this._constructorArgs[2],this._constructorArgs[3]);return range.setAsSubRangeOfJob(this.isSubRangeOfJob()),range},copy:function(){return this.clone()},strftime:function(date,timeFormat){return date.strftime(timeFormat||this.getTimeFormat())},getTimeFormat:function(){return Splunk.util.getConfigValue("DISPATCH_TIME_FORMAT",this._fallbackAbsoluteTimeFormat)}}),Splunk.TimeRange.UTCRegex=new RegExp("^[0-9]*(.[0-9]+)?$"),Splunk.TimeRange.CORRECT_OFFSET_ON_DISPLAY=!0,Splunk.TimeRange.relativeArgsToString=function(count,units,snapUnits){var range=new Splunk.TimeRange;return range._relativeArgs.earliest={count:count,units:units,snapUnits:snapUnits},range.genericGetForRelativeArg("earliest")},Splunk.TimeZone=$.klass({initialize:function(serializedTimeZone){this._serializedTimeZone=serializedTimeZone,this._standardOffset=null,this._serializedTimeZone=null,this._isConstant=!1,this._offsetList=[],this._timeList=[],this._indexList=[],this._parseSerializedTimeZone(serializedTimeZone)},getSerializedTimeZone:function(){return this._serializedTimeZone},numericBinarySearch:function(list,value){if(!list)throw new TypeError("Parameter list must be non-null.");var high=list.length-1;if(high<0)return-1;for(var mid,comp,low=0;low<=high;)if((comp=value-list[mid=parseInt(low+(high-low)/2,10)])<0)high=mid-1;else{if(!(comp>0))return mid;low=mid+1}return-low-1},getOffset:function(epochTime){if(this._isConstant)return this._standardOffset;var offsetList=this._offsetList,numOffsets=offsetList.length;if(0==numOffsets)return 0;if(1==numOffsets)return offsetList[0];var timeIndex,timeList=this._timeList,numTimes=timeList.length;return 0==numTimes?0:(1==numTimes?timeIndex=0:(timeIndex=this.numericBinarySearch(timeList,epochTime))<-1?timeIndex=-timeIndex-2:-1==timeIndex&&(timeIndex=0),offsetList[this._indexList[timeIndex]])},_parseSerializedTimeZone:function(serializedTimeZone){if(serializedTimeZone){for(var entries=serializedTimeZone.split(";"),i=0;i<entries.length;i++){var entry=entries[i];if(entry)switch(entry.charAt(0)){case"C":if(this._parseC(entry.substring(1,entry.length)))return;break;case"Y":this._parseY(entry.substring(1,entry.length));break;case"@":this._parseAt(entry.substring(1,entry.length))}}this._standardOffset=this.getOffset(0)}},_parseC:function(entry){if(!entry)return!1;var time=parseInt(entry,10);return time==time&&(this._standardOffset=time,this._isConstant=!0,!0)},_parseY:function(entry){if(entry){var elements=entry.split(" ");if(!(elements.length<1)){var element=elements[0];if(element){var offset=parseInt(element,10);offset==offset&&this._offsetList.push(offset)}}}},_parseAt:function(entry){if(entry){var elements=entry.split(" ");if(!(elements.length<2)){var element=elements[0];if(element){var time=parseInt(element,10);if(time==time&&(element=elements[1])){var index=parseInt(element,10);index==index&&((index=parseInt(index,10))<0||index>=this._offsetList.length||(this._timeList.push(time),this._indexList.push(index)))}}}}}})},window:function(module,exports){Splunk.window={open:function(uri,name,options){(options=$.extend({resizable:!0,scrollbars:!0,toolbar:!0,location:!0,menubar:!0,width:$(window).width(),height:$(window).height()},options)).top||(options.top=Math.max(0,screen.availHeight/2-options.height/2)),options.left||(options.left=Math.max(0,screen.availWidth/2-options.width/2)),options.screenX=options.left,options.screenY=options.top;var compiled_options=[];for(var key in options)!0===options[key]&&(options[key]="yes"),!1===options[key]&&(options[key]="no"),compiled_options.push(key+"="+options[key]);name="w"+name.replace(/[^a-zA-Z 0-9]+/g,"");var newWindow=window.open(uri,name,compiled_options.join(","));return newWindow&&newWindow.focus&&newWindow.focus(),newWindow},openJobManager:function(getArgs){var app=Splunk.util.getCurrentApp();"UNKNOWN_APP"==app&&(app="search");var url=Splunk.util.make_url("app",app,"job_manager");return getArgs&&(url+="?"+Splunk.util.propToQueryString(getArgs)),this.open(url,"splunk_job_manager",{width:900,height:600,menubar:!1})},openAerts:function(href){return this.open(href,"splunk_alerts",{width:900,height:600,menubar:!1})},openJobInspector:function(sid){var app="UNKNOWN_APP"===Splunk.util.getCurrentApp()?"system":Splunk.util.getCurrentApp(),url=Splunk.util.make_url("manager",encodeURIComponent(app),"job_inspector");if(!sid)return alert(_("Cannot open job inspector; no search job ID provided!")),!1;var getArgs={sid:sid};return url+="?"+Splunk.util.propToQueryString(getArgs),this.open(url,"splunk_job_inspector",{width:870,height:560,menubar:!1})}}}})}));
